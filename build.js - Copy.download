!function(s){function e(e){for(var t,n,r=e[0],o=e[1],i=0,a=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&a.push(l[n][0]),l[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(s[t]=o[t]);for(u&&u(e);a.length;)a.shift()()}var n={},l={0:0};function o(e){var t;return(n[e]||(t=n[e]={i:e,l:!1,exports:{}},s[e].call(t.exports,t,t.exports,o),t.l=!0,t)).exports}o.m=s,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),i=0;i<r.length;i++)e(r[i]);var u=t;o(o.s=2)}([function(e,t){e.exports=window.jQuery},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(3),e.exports=n(4)},function(e,x,C){C.r(x),function(e){C.d(x,"Headers",function(){return d}),C.d(x,"Request",function(){return m}),C.d(x,"Response",function(){return g}),C.d(x,"DOMException",function(){return y}),C.d(x,"fetch",function(){return w});var t,n,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e||{},u={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function f(e){return e="string"!=typeof e?String(e):e}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return u.iterable&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function a(e){var t=new FileReader,n=i(t);return t.readAsArrayBuffer(e),n}function s(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function p(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:u.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():u.arrayBuffer&&u.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=s(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=s(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return o(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(u.blob)return this.blob().then(a);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r=o(this);if(r)return r;if(this._bodyBlob)return r=this._bodyBlob,e=new FileReader,t=i(e),n=(n=/charset=([A-Za-z0-9_-]+)/.exec(r.type))?n[1]:"utf-8",e.readAsText(r,n),t;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}u.arrayBuffer&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),d.prototype.append=function(e,t){e=c(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=f(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),r(n)},d.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},d.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),r(n)},u.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var h=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(e,t){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(e=t.method||this.method||"GET",n=e.toUpperCase(),-1<h.indexOf(n)?n:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in l)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((n=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(n,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function v(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(t=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),n.append(decodeURIComponent(t),decodeURIComponent(e)))}),n}function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||599<this.status)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},p.call(m.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var b=[301,302,303,307,308],y=(g.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},l.DOMException);try{new y}catch(e){(y=function(e,t){this.message=e,this.name=t;t=Error(e);this.stack=t.stack}).prototype=Object.create(Error.prototype),y.prototype.constructor=y}function w(r,s){return new Promise(function(o,e){var i=new m(r,s);if(i.signal&&i.signal.aborted)return e(new y("Aborted","AbortError"));var n,a=new XMLHttpRequest;function t(){a.abort()}a.onload=function(){var e,n,t={statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",n=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var e=e.split(":"),t=e.shift().trim();if(t){e=e.join(":").trim();try{n.append(t,e)}catch(e){console.warn("Response "+e.message)}}}),n)},r=(0===i.url.indexOf("file://")&&(a.status<200||599<a.status)?t.status=200:t.status=a.status,t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL"),"response"in a?a.response:a.responseText);setTimeout(function(){o(new g(r,t))},0)},a.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request timed out"))},0)},a.onabort=function(){setTimeout(function(){e(new y("Aborted","AbortError"))},0)},a.open(i.method,function(t){try{return""===t&&l.location.href?l.location.href:t}catch(e){return t}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(u.blob?a.responseType="blob":u.arrayBuffer&&(a.responseType="arraybuffer")),s&&"object"==typeof s.headers&&!(s.headers instanceof d||l.Headers&&s.headers instanceof l.Headers)?(n=[],Object.getOwnPropertyNames(s.headers).forEach(function(e){n.push(c(e)),a.setRequestHeader(e,f(s.headers[e]))}),i.headers.forEach(function(e,t){-1===n.indexOf(t)&&a.setRequestHeader(t,e)})):i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",t),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",t)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})}w.polyfill=!0,l.fetch||(l.fetch=w,l.Headers=d,l.Request=m,l.Response=g)}.call(this,C(1))},function(e,t,n){n.r(t);n(5),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33)},function(e,t,n){!function(u){e.exports=function r(o,i,a){function s(n,e){if(!i[n]){if(!o[n]){if(l)return l(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=i[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,r,o,i,a)}return i[n].exports}for(var l=!1,e=0;a.length>e;e++)s(a[e]);return s}({1:[function(e,t){var n=e("./utils").addDataAttr,r=e("./browser");t.exports=function(e,t){n(t,r.currentScript(e)),void 0===t.isFileProtocol&&(t.isFileProtocol=/^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(e.location.protocol)),t.async=t.async||!1,t.fileAsync=t.fileAsync||!1,t.poll=t.poll||(t.isFileProtocol?1e3:1500),t.env=t.env||("127.0.0.1"==e.location.hostname||"0.0.0.0"==e.location.hostname||"localhost"==e.location.hostname||e.location.port&&0<e.location.port.length||t.isFileProtocol?"development":"production");e=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(e.location.hash);e&&(t.dumpLineNumbers=e[1]),void 0===t.useFileCache&&(t.useFileCache=!0),void 0===t.onReady&&(t.onReady=!0)}},{"./browser":3,"./utils":9}],2:[function(e,t){e("promise/polyfill.js");var n=window.less||{},t=(e("./add-default-options")(window,n),t.exports=e("./index")(window,n));window.less=t,n.onReady&&(/!watch/.test(window.location.hash)&&t.watch(),t.registerStylesheetsImmediately(),t.pageLoadFinished=t.refresh("development"===t.env))},{"./add-default-options":1,"./index":7,"promise/polyfill.js":94}],3:[function(e,t){var s=e("./utils");t.exports={createCSS:function(e,t,n){var r=n.href||"",r="less:"+(n.title||s.extractId(r)),o=e.getElementById(r),i=!1,a=e.createElement("style"),r=(a.setAttribute("type","text/css"),n.media&&a.setAttribute("media",n.media),a.id=r,a.styleSheet||(a.appendChild(e.createTextNode(t)),i=null!==o&&0<o.childNodes.length&&0<a.childNodes.length&&o.firstChild.nodeValue===a.firstChild.nodeValue),e.getElementsByTagName("head")[0]);if(null!==o&&!1!==i||((e=n&&n.nextSibling||null)?e.parentNode.insertBefore(a,e):r.appendChild(a)),o&&!1===i&&o.parentNode.removeChild(o),a.styleSheet)try{a.styleSheet.cssText=t}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.")}},currentScript:function(e){var e=e.document;return e.currentScript||(e=e.getElementsByTagName("script"))[e.length-1]}}},{"./utils":9}],4:[function(e,t){t.exports=function(e,t,r){var o=null;if("development"!==t.env)try{o=void 0===e.localStorage?null:e.localStorage}catch(e){}return{setCSS:function(t,e,n){if(o){r.info("saving "+t+" to cache.");try{o.setItem(t,n),o.setItem(t+":timestamp",e)}catch(e){r.error('failed to save "'+t+'" to local storage for caching.')}}},getCSS:function(e,t){var n=o&&o.getItem(e),e=o&&o.getItem(e+":timestamp");return e&&t.lastModified&&new Date(t.lastModified).valueOf()===new Date(e).valueOf()?n:void 0}}}},{}],5:[function(e,t){var c=e("./utils"),f=e("./browser");t.exports=function(l,a,u){function s(e,t){function n(e,t,n){void 0!==e.extract[t]&&a.push('<li><label>{line}</label><pre class="{class}">{content}</pre></li>'.replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[t]))}var r,o="less-error-message:"+c.extractId(t||""),i=l.document.createElement("div"),a=[],t=e.filename||t,s=t.match(/([^\/]+(\?.*)?)$/)[1];i.id=o,i.className="less-error-message",t="<h3>"+(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+'</h3><p>in <a href="'+t+'">'+s+"</a> ";e.extract&&(n(e,0,""),n(e,1,"line"),n(e,2,""),t+="on line "+e.line+", column "+(e.column+1)+":</p><ul>"+a.join("")+"</ul>"),e.stack&&(e.extract||4<=u.logLevel)&&(t+="<br/>Stack Trace</br />"+e.stack.split("\n").slice(1).join("<br/>")),i.innerHTML=t,f.createCSS(l.document,[".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),i.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"===u.env&&(r=setInterval(function(){var e=l.document,t=e.body;t&&(e.getElementById(o)?t.replaceChild(i,e.getElementById(o)):t.insertBefore(i,t.firstChild),clearInterval(r))},10))}return{add:function(e,t){function n(e,t,n){void 0!==e.extract[t]&&i.push("{line} {content}".replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[t]))}var r,o,i;u.errorReporting&&"html"!==u.errorReporting?"console"===u.errorReporting?(o=t,o=(r=e).filename||o,i=[],o=(r.type||"Syntax")+"Error: "+(r.message||"There is an error in your .less file")+" in "+o+" ",r.extract&&(n(r,0,""),n(r,1,"line"),n(r,2,""),o+="on line "+r.line+", column "+(r.column+1)+":\n"+i.join("\n")),r.stack&&(r.extract||4<=u.logLevel)&&(o+="\nStack Trace\n"+r.stack),a.logger.error(o)):"function"==typeof u.errorReporting&&u.errorReporting("add",e,t):s(e,t)},remove:function(e){u.errorReporting&&"html"!==u.errorReporting?"console"!==u.errorReporting&&"function"==typeof u.errorReporting&&u.errorReporting("remove",e):(e=e,(e=l.document.getElementById("less-error-message:"+c.extractId(e)))&&e.parentNode.removeChild(e))}}}},{"./browser":3,"./utils":9}],6:[function(n,e){e.exports=function(s,l){function e(){}var t=n("../less/environment/abstract-file-manager.js"),u={};return(e.prototype=new t).alwaysMakePathsAbsolute=function(){return!0},e.prototype.join=function(e,t){return e?this.extractUrlParts(t,e).path:t},e.prototype.doXHR=function(r,e,t,n){function o(e,t,n){200<=e.status&&e.status<300?t(e.responseText,e.getResponseHeader("Last-Modified")):"function"==typeof n&&n(e.status,r)}var i=function(){if(window.XMLHttpRequest&&!("file:"===window.location.protocol&&"ActiveXObject"in window))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return l.error("browser doesn't support AJAX."),null}}(),a=s.isFileProtocol?s.fileAsync:s.async;"function"==typeof i.overrideMimeType&&i.overrideMimeType("text/css"),l.debug("XHR: Getting '"+r+"'"),i.open("GET",r,a),i.setRequestHeader("Accept",e||"text/x-less, text/css; q=0.9, */*; q=0.5"),i.send(null),s.isFileProtocol&&!s.fileAsync?0===i.status||200<=i.status&&i.status<300?t(i.responseText):n(i.status,r):a?i.onreadystatechange=function(){4==i.readyState&&o(i,t,n)}:o(i,t,n)},e.prototype.supports=function(){return!0},e.prototype.clearFileCache=function(){u={}},e.prototype.loadFile=function(e,t,n,r,o){t&&!this.isPathAbsolute(e)&&(e=t+e),n=n||{};var i=this.extractUrlParts(e,window.location.href).url;if(n.useFileCache&&u[i])try{var a=u[i];o(null,{contents:a,filename:i,webInfo:{lastModified:new Date}})}catch(e){o({filename:i,message:"Error loading file "+i+" error was "+e.message})}else this.doXHR(i,n.mime,function(e,t){u[i]=e,o(null,{contents:e,filename:i,webInfo:{lastModified:t}})},function(e,t){o({type:"File",message:"'"+t+"' wasn't found ("+e+")",href:i})})},e}},{"../less/environment/abstract-file-manager.js":14}],7:[function(n,e){var b=n("./utils").addDataAttr,y=n("./browser");e.exports=function(c,f){function d(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function r(e){for(var t,n,r,o=a.getElementsByTagName("style"),i=0;o.length>i;i++)(r=o[i]).type.match(s)&&((t=d(f)).modifyVars=e,n=r.innerHTML||"",t.filename=a.location.href.replace(/#.*$/,""),h.render(n,t,function(t,n){var r=Array.prototype.slice.call(arguments,2);return function(){var e=r.concat(Array.prototype.slice.call(arguments,0));return t.apply(n,e)}}(function(e,t,n){t?v.add(t,"inline"):(e.type="text/css",e.styleSheet?e.styleSheet.cssText=n.css:e.innerHTML=n.css)},null,r)))}function o(i,a,s,l,e){function n(e){var n=e.contents,r=e.filename,o=e.webInfo,e={currentDirectory:m.getPath(r),filename:r,rootFilename:r,relativeUrls:u.relativeUrls};if(e.entryPath=e.currentDirectory,e.rootpath=u.rootpath||e.currentDirectory,o&&(o.remaining=l,!u.modifyVars)){var t=g.getCSS(r,o);if(!s&&t)return o.local=!0,void a(null,t,n,i,o,r)}v.remove(r),u.rootFileInfo=e,h.render(n,u,function(e,t){e?(e.href=r,a(e)):(t.css=(e=t.css,e=f.postProcessor&&"function"==typeof f.postProcessor&&f.postProcessor.call(e,e)||e),u.modifyVars||g.setCSS(i.href,o.lastModified,t.css),a(null,t.css,n,i,o,r))})}var u=d(f);b(u,i),u.mime=i.type,e&&(u.modifyVars=e),m.loadFile(i.href,null,u,t,function(e,t){return e?void a(e):void n(t)})}function p(e,t,n){for(var r=0;h.sheets.length>r;r++)o(h.sheets[r],e,t,h.sheets.length-(r+1),n)}var a=c.document,h=n("../less")(),t=(h.options=f,h.environment),e=n("./file-manager")(f,h.logger),m=new e,v=(t.addFileManager(m),h.FileManager=e,n("./log-listener")(h,f),n("./error-reporting")(c,h,f)),g=h.cache=f.cache||n("./cache")(c,f,h.logger),s=(f.functions&&h.functions.functionRegistry.addMultiple(f.functions),/^text\/(x-)?less$/);return h.watch=function(){return h.watchMode||(h.env="development")===h.env&&(h.watchTimer=setInterval(function(){h.watchMode&&(m.clearFileCache(),p(function(e,t,n,r){e?v.add(e,e.href||r.href):t&&y.createCSS(c.document,t,r)}))},f.poll)),this.watchMode=!0},h.unwatch=function(){return clearInterval(h.watchTimer),this.watchMode=!1},h.registerStylesheetsImmediately=function(){var e=a.getElementsByTagName("link");h.sheets=[];for(var t=0;e.length>t;t++)("stylesheet/less"===e[t].rel||e[t].rel.match(/stylesheet/)&&e[t].type.match(s))&&h.sheets.push(e[t])},h.registerStylesheets=function(){return new Promise(function(e){h.registerStylesheetsImmediately(),e()})},h.modifyVars=function(e){return h.refresh(!0,e,!1)},h.refresh=function(e,t,n){return(e||n)&&!1!==n&&m.clearFileCache(),new Promise(function(i,a){var s,l,u=s=new Date;p(function(e,t,n,r,o){return e?(v.add(e,e.href||r.href),void a(e)):(h.logger.info(o.local?"loading "+r.href+" from cache.":"rendered "+r.href+" successfully."),y.createCSS(c.document,t,r),h.logger.info("css for "+r.href+" generated in "+(new Date-s)+"ms"),0===o.remaining&&(l=new Date-u,h.logger.info("less has finished. css generated in "+l+"ms"),i({startTime:u,endTime:s,totalMilliseconds:l,sheets:h.sheets.length})),void(s=new Date))},e,t),r(t)})},h.refreshStyles=r,h}},{"../less":29,"./browser":3,"./cache":4,"./error-reporting":5,"./file-manager":6,"./log-listener":8,"./utils":9}],8:[function(e,t){t.exports=function(e,t){t.logLevel=void 0!==t.logLevel?t.logLevel:"development"===t.env?3:1,t.loggers||(t.loggers=[{debug:function(e){4<=t.logLevel&&console.log(e)},info:function(e){3<=t.logLevel&&console.log(e)},warn:function(e){2<=t.logLevel&&console.warn(e)},error:function(e){1<=t.logLevel&&console.error(e)}}]);for(var n=0;t.loggers.length>n;n++)e.logger.addListener(t.loggers[n])}},{}],9:[function(e,t){t.exports={extractId:function(e){return e.replace(/^[a-z-]+:\/+?[^\/]+/,"").replace(/[\?\&]livereload=\w+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")},addDataAttr:function(e,t){for(var n in t.dataset)if(t.dataset.hasOwnProperty(n))if("env"===n||"dumpLineNumbers"===n||"rootpath"===n||"errorReporting"===n)e[n]=t.dataset[n];else try{e[n]=JSON.parse(t.dataset[n])}catch(e){}}}},{}],10:[function(e,t){function n(e,t,n){if(e)for(var r=0;n.length>r;r++)e.hasOwnProperty(n[r])&&(t[n[r]]=e[n[r]])}var r={},o=(t.exports=r,["paths","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","syncImport","chunkInput","mime","useFileCache","processImports","reference","pluginManager"]),i=(r.Parse=function(e){n(e,this,o),"string"==typeof this.paths&&(this.paths=[this.paths])},["paths","compress","ieCompat","strictMath","strictUnits","sourceMap","importMultiple","urlArgs","javascriptEnabled","pluginManager","importantScope"]);r.Eval=function(e,t){n(e,this,i),"string"==typeof this.paths&&(this.paths=[this.paths]),this.frames=t||[],this.importantScope=this.importantScope||[]},r.Eval.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},r.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop()},r.Eval.prototype.isMathOn=function(){return!this.strictMath||this.parensStack&&this.parensStack.length},r.Eval.prototype.isPathRelative=function(e){return!/^(?:[a-z-]+:|\/|#)/i.test(e)},r.Eval.prototype.normalizePath=function(e){var t,n=e.split("/").reverse();for(e=[];0!==n.length;)switch(t=n.pop()){case".":break;case"..":0===e.length||".."===e[e.length-1]?e.push(t):e.pop();break;default:e.push(t)}return e.join("/")}},{}],11:[function(e,t){t.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],12:[function(e,t){t.exports={colors:e("./colors"),unitConversions:e("./unit-conversions")}},{"./colors":11,"./unit-conversions":13}],13:[function(e,t){t.exports={length:{m:1,cm:.01,mm:.001,in:.0254,px:.0254/96,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:.0025,turn:1}}},{}],14:[function(e,t){function n(){}n.prototype.getPath=function(e){var t=e.lastIndexOf("?");return(t=(t=(e=0<t?e.slice(0,t):e).lastIndexOf("/"))<0?e.lastIndexOf("\\"):t)<0?"":e.slice(0,t+1)},n.prototype.tryAppendExtension=function(e,t){return/(\.[a-z]*$)|([\?;].*)$/.test(e)?e:e+t},n.prototype.tryAppendLessExtension=function(e){return this.tryAppendExtension(e,".less")},n.prototype.supportsSync=function(){return!1},n.prototype.alwaysMakePathsAbsolute=function(){return!1},n.prototype.isPathAbsolute=function(e){return/^(?:[a-z-]+:|\/|\\|#)/i.test(e)},n.prototype.join=function(e,t){return e?e+t:t},n.prototype.pathDiff=function(e,t){var n,r,o,i,a=this.extractUrlParts(e),s=this.extractUrlParts(t),l="";if(a.hostPart!==s.hostPart)return"";for(r=Math.max(s.directories.length,a.directories.length),n=0;n<r&&s.directories[n]===a.directories[n];n++);for(i=s.directories.slice(n),o=a.directories.slice(n),n=0;i.length-1>n;n++)l+="../";for(n=0;o.length-1>n;n++)l+=o[n]+"/";return l},n.prototype.extractUrlParts=function(e,t){var n,r=/^((?:[a-z-]+:)?\/+?(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,o=e.match(r),i={},a=[];if(!o)throw new Error("Could not parse sheet href - '"+e+"'");if(t&&(!o[1]||o[2])){if(!(e=t.match(r)))throw new Error("Could not parse page url - '"+t+"'");o[1]=o[1]||e[1]||"",o[2]||(o[3]=e[3]+o[3])}if(o[3]){for(a=o[3].replace(/\\/g,"/").split("/"),n=0;a.length>n;n++)"."===a[n]&&(a.splice(n,1),--n);for(n=0;a.length>n;n++)".."===a[n]&&0<n&&(a.splice(n-1,2),n-=2)}return i.hostPart=o[1],i.directories=a,i.path=(o[1]||"")+a.join("/"),i.fileUrl=i.path+(o[4]||""),i.url=i.fileUrl+(o[5]||""),i},t.exports=n},{}],15:[function(e,t){function n(e,t){this.fileManagers=t||[],e=e||{};for(var n=[],r=n.concat(["encodeBase64","mimeLookup","charsetLookup","getSourceMapGenerator"]),o=0;r.length>o;o++){var i=r[o],a=e[i];a?this[i]=a.bind(e):o<n.length&&this.warn("missing required function in environment - "+i)}}var l=e("../logger");n.prototype.getFileManager=function(e,t,n,r,o){e||l.warn("getFileManager called with no filename.. Please report this issue. continuing."),null==t&&l.warn("getFileManager called with null directory.. Please report this issue. continuing.");for(var i=this.fileManagers,a=(i=n.pluginManager?[].concat(i).concat(n.pluginManager.getFileManagers()):i).length-1;0<=a;a--){var s=i[a];if(s[o?"supportsSync":"supports"](e,t,n,r))return s}return null},n.prototype.addFileManager=function(e){this.fileManagers.push(e)},n.prototype.clearFileManagers=function(){this.fileManagers=[]},t.exports=n},{"../logger":31}],16:[function(e){function t(e,t,n){for(var r,o,i,a=t.alpha,s=n.alpha,l=[],u=s+a*(1-s),c=0;c<3;c++)i=e(r=t.rgb[c]/255,o=n.rgb[c]/255),l[c]=255*(i=u?(s*o+a*(r-s*(r+o-i)))/u:i);return new f(l,u)}var n,f=e("../tree/color"),e=e("./function-registry"),r={multiply:function(e,t){return e*t},screen:function(e,t){return e+t-e*t},overlay:function(e,t){return(e*=2)<=1?r.multiply(e,t):r.screen(e-1,t)},softlight:function(e,t){var n=1,r=e;return.5<t&&(r=1,n=.25<e?Math.sqrt(e):((16*e-12)*e+4)*e),e-(1-2*t)*r*(n-e)},hardlight:function(e,t){return r.overlay(t,e)},difference:function(e,t){return Math.abs(e-t)},exclusion:function(e,t){return e+t-2*e*t},average:function(e,t){return(e+t)/2},negation:function(e,t){return 1-Math.abs(e+t-1)}};for(n in r)r.hasOwnProperty(n)&&(t[n]=t.bind(null,r[n]));e.addMultiple(t)},{"../tree/color":48,"./function-registry":21}],17:[function(e){function s(e){return Math.min(1,Math.max(0,e))}function r(e){return u.hsla(e.h,e.s,e.l,e.a)}function l(e){if(e instanceof i)return parseFloat(e.unit.is("%")?e.value/100:e.value);if("number"==typeof e)return e;throw{type:"Argument",message:"color functions take numbers as parameters"}}var i=e("../tree/dimension"),a=e("../tree/color"),t=e("../tree/quoted"),n=e("../tree/anonymous"),e=e("./function-registry"),u={rgb:function(e,t,n){return u.rgba(e,t,n,1)},rgba:function(e,t,n,r){e=[e,t,n].map(function(e){return t=255,(e=e)instanceof i&&e.unit.is("%")?parseFloat(e.value*t/100):l(e);var t});return r=l(r),new a(e,r)},hsl:function(e,t,n){return u.hsla(e,t,n,1)},hsla:function(e,t,n,r){function o(e){return 6*(e=e<0?e+1:1<e?e-1:e)<1?a+(i-a)*e*6:2*e<1?i:3*e<2?a+(i-a)*(2/3-e)*6:a}e=l(e)%360/360,t=s(l(t)),n=s(l(n)),r=s(l(r));var i=n<=.5?n*(t+1):n+t-n*t,a=2*n-i;return u.rgba(255*o(e+1/3),255*o(e),255*o(e-1/3),r)},hsv:function(e,t,n){return u.hsva(e,t,n,1)},hsva:function(e,t,n,r){e=l(e)%360/360*360,t=l(t),n=l(n),r=l(r);var n=[n,n*(1-t),n*(1-(o=e/60-(e=Math.floor(e/60%6)))*t),n*(1-(1-o)*t)],o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return u.rgba(255*n[o[e][0]],255*n[o[e][1]],255*n[o[e][2]],r)},hue:function(e){return new i(e.toHSL().h)},saturation:function(e){return new i(100*e.toHSL().s,"%")},lightness:function(e){return new i(100*e.toHSL().l,"%")},hsvhue:function(e){return new i(e.toHSV().h)},hsvsaturation:function(e){return new i(100*e.toHSV().s,"%")},hsvvalue:function(e){return new i(100*e.toHSV().v,"%")},red:function(e){return new i(e.rgb[0])},green:function(e){return new i(e.rgb[1])},blue:function(e){return new i(e.rgb[2])},alpha:function(e){return new i(e.toHSL().a)},luma:function(e){return new i(e.luma()*e.alpha*100,"%")},luminance:function(e){var t=.2126*e.rgb[0]/255+.7152*e.rgb[1]/255+.0722*e.rgb[2]/255;return new i(t*e.alpha*100,"%")},saturate:function(e,t,n){return e.rgb?((e=e.toHSL()).s+=void 0!==n&&"relative"===n.value?e.s*t.value/100:t.value/100,e.s=s(e.s),r(e)):null},desaturate:function(e,t,n){e=e.toHSL();return e.s-=void 0!==n&&"relative"===n.value?e.s*t.value/100:t.value/100,e.s=s(e.s),r(e)},lighten:function(e,t,n){e=e.toHSL();return e.l+=void 0!==n&&"relative"===n.value?e.l*t.value/100:t.value/100,e.l=s(e.l),r(e)},darken:function(e,t,n){e=e.toHSL();return e.l-=void 0!==n&&"relative"===n.value?e.l*t.value/100:t.value/100,e.l=s(e.l),r(e)},fadein:function(e,t,n){e=e.toHSL();return e.a+=void 0!==n&&"relative"===n.value?e.a*t.value/100:t.value/100,e.a=s(e.a),r(e)},fadeout:function(e,t,n){e=e.toHSL();return e.a-=void 0!==n&&"relative"===n.value?e.a*t.value/100:t.value/100,e.a=s(e.a),r(e)},fade:function(e,t){e=e.toHSL();return e.a=t.value/100,e.a=s(e.a),r(e)},spin:function(e,t){e=e.toHSL(),t=(e.h+t.value)%360;return e.h=t<0?360+t:t,r(e)},mix:function(e,t,n){e.toHSL&&t.toHSL||(console.log(t.type),console.dir(t));var n=(n=n||new i(50)).value/100,r=2*n-1,o=e.toHSL().a-t.toHSL().a,r=(1+(r*o==-1?r:(r+o)/(1+r*o)))/2,o=1-r,r=[e.rgb[0]*r+t.rgb[0]*o,e.rgb[1]*r+t.rgb[1]*o,e.rgb[2]*r+t.rgb[2]*o],o=e.alpha*n+t.alpha*(1-n);return new a(r,o)},greyscale:function(e){return u.desaturate(e,new i(100))},contrast:function(e,t,n,r){var o;return e.rgb?(void 0===n&&(n=u.rgba(255,255,255,1)),(t=void 0===t?u.rgba(0,0,0,1):t).luma()>n.luma()&&(o=n,n=t,t=o),r=void 0===r?.43:l(r),e.luma()<r?n:t):null},argb:function(e){return new n(e.toARGB())},color:function(e){if(e instanceof t&&/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(e.value))return new a(e.value.slice(1));if(e instanceof a||(e=a.fromKeyword(e.value)))return e.value=void 0,e;throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"}},tint:function(e,t){return u.mix(u.rgb(255,255,255),e,t)},shade:function(e,t){return u.mix(u.rgb(0,0,0),e,t)}};e.addMultiple(u)},{"../tree/anonymous":44,"../tree/color":48,"../tree/dimension":54,"../tree/quoted":71,"./function-registry":21}],18:[function(t,e){e.exports=function(u){function c(e,t){return new d(t,e.index,e.currentFileInfo).eval(e.context)}var f=t("../tree/quoted"),d=t("../tree/url"),e=t("./function-registry"),p=t("../logger");e.add("data-uri",function(e,t){t||(t=e,e=null);var n,r,o=e&&e.value,i=t.value,a=this.currentFileInfo,a=a.relativeUrls?a.currentDirectory:a.entryPath,s=i.indexOf("#"),l="",s=(-1!==s&&(l=i.slice(s),i=i.slice(0,s)),u.getFileManager(i,a,this.context,u,!0));return s?(n=!1,e?n=/;base64$/.test(o):(n="image/svg+xml"!==(o=u.mimeLookup(i))&&(r=u.charsetLookup(o),["US-ASCII","UTF-8"].indexOf(r)<0))&&(o+=";base64"),(r=s.loadFileSync(i,a,this.context,u)).contents?(s=r.contents,n&&!u.encodeBase64?c(this,t):32768<=(a="data:"+o+","+(s=n?u.encodeBase64(s):encodeURIComponent(s))+l).length&&!1!==this.context.ieCompat?(p.warn("Skipped data-uri embedding of "+i+" because its size ("+a.length+" characters) exceeds IE8-safe 32768 characters!"),c(this,t||e)):new d(new f('"'+a+'"',a,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)):(p.warn("Skipped data-uri embedding of "+i+" because file not found"),c(this,t||e))):c(this,t)})}},{"../logger":31,"../tree/quoted":71,"../tree/url":78,"./function-registry":21}],19:[function(e,t){var n=e("../tree/keyword"),r={eval:function(){var e=this.value_,t=this.error_;if(t)throw t;return null!=e?e?n.True:n.False:void 0},value:function(e){this.value_=e},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}};e("./function-registry").add("default",r.eval.bind(r)),t.exports=r},{"../tree/keyword":63,"./function-registry":21}],20:[function(e,t){function n(e,t,n,r){this.name=e.toLowerCase(),this.index=n,this.context=t,this.currentFileInfo=r,this.func=t.frames[0].functionRegistry.get(this.name)}var r=e("../tree/expression");n.prototype.isValid=function(){return Boolean(this.func)},n.prototype.call=function(e){return Array.isArray(e)&&(e=e.filter(function(e){return"Comment"!==e.type}).map(function(e){var t;return"Expression"===e.type?1===(t=e.value.filter(function(e){return"Comment"!==e.type})).length?t[0]:new r(t):e})),this.func.apply(this,e)},t.exports=n},{"../tree/expression":57}],21:[function(e,t){t.exports=function e(t){return{_data:{},add:function(e,t){e=e.toLowerCase(),this._data.hasOwnProperty(e),this._data[e]=t},addMultiple:function(t){Object.keys(t).forEach(function(e){this.add(e,t[e])}.bind(this))},get:function(e){return this._data[e]||t&&t.get(e)},inherit:function(){return e(this)}}}(null)},{}],22:[function(n,e){e.exports=function(e){var t={functionRegistry:n("./function-registry"),functionCaller:n("./function-caller")};return n("./default"),n("./color"),n("./color-blending"),n("./data-uri")(e),n("./math"),n("./number"),n("./string"),n("./svg")(e),n("./types"),t}},{"./color":17,"./color-blending":16,"./data-uri":18,"./default":19,"./function-caller":20,"./function-registry":21,"./math":23,"./number":24,"./string":25,"./svg":26,"./types":27}],23:[function(e){function r(e,t,n){if(n instanceof o)return null==t?t=n.unit:n=n.unify(),new o(e(parseFloat(n.value)),t);throw{type:"Argument",message:"argument must be a number"}}var t,o=e("../tree/dimension"),e=e("./function-registry"),n={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};for(t in n)n.hasOwnProperty(t)&&(n[t]=r.bind(null,Math[t],n[t]));n.round=function(e,t){var n=void 0===t?0:t.value;return r(function(e){return e.toFixed(n)},null,e)},e.addMultiple(n)},{"../tree/dimension":54,"./function-registry":21}],24:[function(e){function t(e,t){if(0===(t=Array.prototype.slice.call(t)).length)throw{type:"Argument",message:"one or more arguments required"};for(var n,r,o,i,a,s,l,u=[],c={},f=0;t.length>f;f++)if((r=t[f])instanceof d)if(s=""!==(a=""===(o=(""===r.unit.toString()&&void 0!==l?new d(r.value,l):r).unify()).unit.toString()&&void 0!==s?s:o.unit.toString())&&void 0===s||""!==a&&""===u[0].unify().unit.toString()?a:s,l=""!==a&&void 0===l?r.unit.toString():l,void 0!==(n=void 0!==c[""]&&""!==a&&a===s?c[""]:c[a]))i=(""===u[n].unit.toString()&&void 0!==l?new d(u[n].value,l):u[n]).unify(),(e&&i.value>o.value||!e&&o.value>i.value)&&(u[n]=r);else{if(void 0!==s&&a!==s)throw{type:"Argument",message:"incompatible types"};c[a]=u.length,u.push(r)}else Array.isArray(t[f].value)&&Array.prototype.push.apply(t,Array.prototype.slice.call(t[f].value));return 1==u.length?u[0]:(t=u.map(function(e){return e.toCSS(this.context)}).join(this.context.compress?",":", "),new p((e?"min":"max")+"("+t+")"))}var d=e("../tree/dimension"),p=e("../tree/anonymous"),e=e("./function-registry");e.addMultiple({min:function(){return t(!0,arguments)},max:function(){return t(!1,arguments)},convert:function(e,t){return e.convertTo(t.value)},pi:function(){return new d(Math.PI)},mod:function(e,t){return new d(e.value%t.value,e.unit)},pow:function(e,t){if("number"==typeof e&&"number"==typeof t)e=new d(e),t=new d(t);else if(!(e instanceof d&&t instanceof d))throw{type:"Argument",message:"arguments must be numbers"};return new d(Math.pow(e.value,t.value),e.unit)},percentage:function(e){return new d(100*e.value,"%")}})},{"../tree/anonymous":44,"../tree/dimension":54,"./function-registry":21}],25:[function(e){var i=e("../tree/quoted"),t=e("../tree/anonymous"),n=e("../tree/javascript");e("./function-registry").addMultiple({e:function(e){return new t(e instanceof n?e.evaluated:e.value)},escape:function(e){return new t(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},replace:function(e,t,n,r){var o=e.value;return n="Quoted"===n.type?n.value:n.toCSS(),o=o.replace(new RegExp(t.value,r?r.value:""),n),new i(e.quote||"",o,e.escaped)},"%":function(e){for(var n=Array.prototype.slice.call(arguments,1),t=e.value,r=0;n.length>r;r++)t=t.replace(/%[sda]/i,function(e){var t="Quoted"===n[r].type&&e.match(/s/i)?n[r].value:n[r].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(t):t});return t=t.replace(/%%/g,"%"),new i(e.quote||"",t,e.escaped)}})},{"../tree/anonymous":44,"../tree/javascript":61,"../tree/quoted":71,"./function-registry":21}],26:[function(e,t){t.exports=function(){var d=e("../tree/dimension"),p=e("../tree/color"),h=e("../tree/expression"),m=e("../tree/quoted"),v=e("../tree/url");e("./function-registry").add("svg-gradient",function(e){function t(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position] or direction, color list"}}var n,r,o,i,a,s,l,u="linear",c='x="0" y="0" width="1" height="1"',f={compress:!1},e=e.toCSS(f);switch(2==arguments.length?(arguments[1].value.length<2&&t(),n=arguments[1].value):arguments.length<3?t():n=Array.prototype.slice.call(arguments,1),e){case"to bottom":r='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":r='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":r='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":r='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":u="radial",r='cx="50%" cy="50%" r="75%"',c='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(o='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+u+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+r+">",i=0;n.length>i;i+=1)s=n[i]instanceof h?(a=n[i].value[0],n[i].value[1]):void(a=n[i]),a instanceof p&&((0===i||i+1===n.length)&&void 0===s||s instanceof d)||t(),s=s?s.toCSS(f):0===i?"0%":"100%",l=a.alpha,o+='<stop offset="'+s+'" stop-color="'+a.toRGB()+'"'+(l<1?' stop-opacity="'+l+'"':"")+"/>";return o+="</"+u+"Gradient><rect "+c+' fill="url(#gradient)" /></svg>',o=encodeURIComponent(o),new v(new m("'"+(o="data:image/svg+xml,"+o)+"'",o,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)})}},{"../tree/color":48,"../tree/dimension":54,"../tree/expression":57,"../tree/quoted":71,"../tree/url":78,"./function-registry":21}],27:[function(e){function t(e,t){return e instanceof t?o.True:o.False}function n(e,t){if(void 0===t)throw{type:"Argument",message:"missing the required second argument to isunit."};if("string"!=typeof(t="string"==typeof t.value?t.value:t))throw{type:"Argument",message:"Second argument to isunit should be a unit or a string."};return e instanceof a&&e.unit.is(t)?o.True:o.False}function r(e){return Array.isArray(e.value)?e.value:Array(e)}var o=e("../tree/keyword"),i=e("../tree/detached-ruleset"),a=e("../tree/dimension"),s=e("../tree/color"),l=e("../tree/quoted"),u=e("../tree/anonymous"),c=e("../tree/url"),f=e("../tree/operation"),e=e("./function-registry");e.addMultiple({isruleset:function(e){return t(e,i)},iscolor:function(e){return t(e,s)},isnumber:function(e){return t(e,a)},isstring:function(e){return t(e,l)},iskeyword:function(e){return t(e,o)},isurl:function(e){return t(e,c)},ispixel:function(e){return n(e,"px")},ispercentage:function(e){return n(e,"%")},isem:function(e){return n(e,"em")},isunit:n,unit:function(e,t){if(e instanceof a)return t=t?t instanceof o?t.value:t.toCSS():"",new a(e.value,t);throw{type:"Argument",message:"the first argument to unit must be a number"+(e instanceof f?". Have you forgotten parenthesis?":"")}},"get-unit":function(e){return new u(e.unit)},extract:function(e,t){return t=t.value-1,r(e)[t]},length:function(e){return new a(r(e).length)}})},{"../tree/anonymous":44,"../tree/color":48,"../tree/detached-ruleset":53,"../tree/dimension":54,"../tree/keyword":63,"../tree/operation":69,"../tree/quoted":71,"../tree/url":78,"./function-registry":21}],28:[function(e,t){var f=e("./contexts"),d=e("./parser/parser"),p=e("./plugins/function-importer");t.exports=function(t){function e(e,t){this.rootFilename=t.filename,this.paths=e.paths||[],this.contents={},this.contentsIgnoredChars={},this.mime=e.mime,this.error=null,this.context=e,this.queue=[],this.files={}}return e.prototype.push=function(o,e,r,i,a){var n,s=this,l=(this.queue.push(o),function(e,t,n){s.queue.splice(s.queue.indexOf(o),1);var r=n===s.rootFilename;i.optional&&e?a(null,{rules:[]},!1,null):(s.files[n]=t,e&&!s.error&&(s.error=e),a(e,t,r,n))}),u={relativeUrls:this.context.relativeUrls,entryPath:r.entryPath,rootpath:r.rootpath,rootFilename:r.rootFilename},c=t.getFileManager(o,r.currentDirectory,this.context,t);c?(e&&(o=c.tryAppendExtension(o,i.plugin?".js":".less")),n=function(e){var n=e.filename,e=e.contents.replace(/^\uFEFF/,""),t=(u.currentDirectory=c.getPath(n),u.relativeUrls&&(u.rootpath=c.join(s.context.rootpath||"",c.pathDiff(u.currentDirectory,u.entryPath)),!c.isPathAbsolute(u.rootpath))&&c.alwaysMakePathsAbsolute()&&(u.rootpath=c.join(u.entryPath,u.rootpath)),u.filename=n,new f.Parse(s.context));t.processImports=!1,s.contents[n]=e,(r.reference||i.reference)&&(u.reference=!0),i.plugin?new p(t,u).eval(e,function(e,t){l(e,t,n)}):i.inline?l(null,e,n):new d(t,s,u).parse(e,function(e,t){l(e,t,n)})},(e=c.loadFile(o,r.currentDirectory,this.context,t,function(e,t){e?l(e):n(t)}))&&e.then(n,l)):l({message:"Could not find a file-manager for "+o})},e}},{"./contexts":10,"./parser/parser":36,"./plugins/function-importer":38}],29:[function(r,e){e.exports=function(e,t){var n;return{version:[2,5,1],data:r("./data"),tree:r("./tree"),Environment:n=r("./environment/environment"),AbstractFileManager:r("./environment/abstract-file-manager"),environment:e=new n(e,t),visitors:r("./visitors"),Parser:r("./parser/parser"),functions:r("./functions")(e),contexts:r("./contexts"),SourceMapOutput:n=r("./source-map-output")(e),SourceMapBuilder:t=r("./source-map-builder")(n,e),ParseTree:n=r("./parse-tree")(t),ImportManager:t=r("./import-manager")(e),render:r("./render")(e,n,t),parse:r("./parse")(e,n,t),LessError:r("./less-error"),transformTree:r("./transform-tree"),utils:r("./utils"),PluginManager:r("./plugin-manager"),logger:r("./logger")}}},{"./contexts":10,"./data":12,"./environment/abstract-file-manager":14,"./environment/environment":15,"./functions":22,"./import-manager":28,"./less-error":30,"./logger":31,"./parse":33,"./parse-tree":32,"./parser/parser":36,"./plugin-manager":37,"./render":39,"./source-map-builder":40,"./source-map-output":41,"./transform-tree":42,"./tree":60,"./utils":81,"./visitors":85}],30:[function(e,t){var a=e("./utils"),e=t.exports=function(e,t,n){Error.call(this);var r,o,i,n=e.filename||n;t&&n&&(t=t.contents[n],r=(o=a.getLocation(e.index,t)).line,o=o.column,i=e.call&&a.getLocation(e.call,t).line,t=t.split("\n"),this.type=e.type||"Syntax",this.filename=n,this.index=e.index,this.line="number"==typeof r?r+1:null,this.callLine=i+1,this.callExtract=t[i],this.column=o,this.extract=[t[r-1],t[r],t[r+1]]),this.message=e.message,this.stack=e.stack};void 0===Object.create?((t=function(){}).prototype=Error.prototype,e.prototype=new t):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e},{"./utils":81}],31:[function(e,t){t.exports={error:function(e){this._fireEvent("error",e)},warn:function(e){this._fireEvent("warn",e)},info:function(e){this._fireEvent("info",e)},debug:function(e){this._fireEvent("debug",e)},addListener:function(e){this._listeners.push(e)},removeListener:function(e){for(var t=0;this._listeners.length>t;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)},_fireEvent:function(e,t){for(var n=0;this._listeners.length>n;n++){var r=this._listeners[n][e];r&&r(t)}},_listeners:[]}},{}],32:[function(e,t){var c=e("./less-error"),f=e("./transform-tree"),d=e("./logger");t.exports=function(u){function e(e,t){this.root=e,this.imports=t}return e.prototype.toCSS=function(e){var t,n,r,o={};try{t=f(this.root,e)}catch(e){throw new c(e,this.imports)}try{var i=Boolean(e.compress),a=(i&&d.warn("The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css."),{compress:i,dumpLineNumbers:e.dumpLineNumbers,strictUnits:Boolean(e.strictUnits),numPrecision:8});e.sourceMap?(n=new u(e.sourceMap),o.css=n.toCSS(t,a,this.imports)):o.css=t.toCSS(a)}catch(e){throw new c(e,this.imports)}if(e.pluginManager)for(var s=e.pluginManager.getPostProcessors(),l=0;s.length>l;l++)o.css=s[l].process(o.css,{sourceMap:n,options:e,imports:this.imports});for(r in e.sourceMap&&(o.map=n.getExternalSourceMap()),o.imports=[],this.imports.files)this.imports.files.hasOwnProperty(r)&&r!==this.imports.rootFilename&&o.imports.push(r);return o},e}},{"./less-error":30,"./logger":31,"./transform-tree":42}],33:[function(f,e){var d,p=f("./contexts"),h=f("./parser/parser"),m=f("./plugin-manager");e.exports=function(e,t,u){function c(e,o,n){var t;if("function"==typeof(o=o||{})&&(n=o,o={}),!n)return d=d||("undefined"==typeof Promise?f("promise"):Promise),t=this,new d(function(n,r){c.call(t,e,o,function(e,t){e?r(e):n(t)})});var r,i,a,s=new m(this),l=(s.addPlugins(o.plugins),o.pluginManager=s,s=new p.Parse(o),o.rootFileInfo?a=o.rootFileInfo:(i=(r=o.filename||"input").replace(/[^\/\\]*$/,""),(a={filename:r,relativeUrls:s.relativeUrls,rootpath:s.rootpath||"",currentDirectory:i,entryPath:i,rootFilename:r}).rootpath&&"/"!==a.rootpath.slice(-1)&&(a.rootpath+="/")),new u(s,a));new h(s,l,a).parse(e,function(e,t){return e?n(e):void n(null,t,l,o)},o)}return c}},{"./contexts":10,"./parser/parser":36,"./plugin-manager":37,promise:void 0}],34:[function(e,t){t.exports=function(n,e){function t(e){var t=v-m;t<512&&!e||!t||(h.push(n.slice(m,v+1)),m=v+1)}for(var r,o,i,a,s,l,u,c,f=n.length,d=0,p=0,h=[],m=0,v=0;v<f;v++)if(!(97<=(l=n.charCodeAt(v))&&l<=122||l<34))switch(l){case 40:p++,o=v;continue;case 41:if(--p<0)return e("missing opening `(`",v);continue;case 59:p||t();continue;case 123:d++,r=v;continue;case 125:if(--d<0)return e("missing opening `{`",v);d||p||t();continue;case 92:if(v<f-1){v++;continue}return e("unescaped `\\`",v);case 34:case 39:case 96:for(c=0,s=v,v+=1;v<f;v++)if(!(96<(u=n.charCodeAt(v)))){if(u==l){c=1;break}if(92==u){if(v==f-1)return e("unescaped `\\`",v);v++}}if(c)continue;return e("unmatched `"+String.fromCharCode(l)+"`",s);case 47:if(p||v==f-1)continue;if(47==(u=n.charCodeAt(v+1)))for(v+=2;v<f&&(!((u=n.charCodeAt(v))<=13)||10!=u&&13!=u);v++);else if(42==u){for(i=s=v,v+=2;v<f-1&&(125==(u=n.charCodeAt(v))&&(a=v),42!=u||47!=n.charCodeAt(v+1));v++);if(v==f-1)return e("missing closing `*/`",s);v++}continue;case 42:if(v<f-1&&47==n.charCodeAt(v+1))return e("unmatched `/*`",v);continue}return 0!==d?e(r<i&&i<a?"missing closing `}` or `*/`":"missing closing `}`",r):0!==p?e("missing closing `)`",o):(t(!0),h)}},{}],35:[function(e,t){var o=e("./chunker");t.exports=function(){var f,d,r,n,p,h,m,t=[],v={save:function(){m=v.i,t.push({current:h,i:v.i,j:d})},restore:function(e){(r<v.i||v.i===r&&e&&!n)&&(r=v.i,n=e);e=t.pop();h=e.current,m=v.i=e.i,d=e.j},forget:function(){t.pop()},isWhitespace:function(e){e=f.charCodeAt(v.i+(e||0));return e===g||e===w||e===b||e===y},$re:function(e){m<v.i&&(h=h.slice(v.i-m),m=v.i);e=e.exec(h);return e?(x(e[0].length),"string"!=typeof e&&1===e.length?e[0]:e):null},$char:function(e){return f.charAt(v.i)!==e?null:(x(1),e)},$str:function(e){for(var t=e.length,n=0;n<t;n++)if(f.charAt(v.i+n)!==e.charAt(n))return null;return x(t),e},$quoted:function(){var e=f.charAt(v.i);if("'"===e||'"'===e){for(var t=f.length,n=v.i,r=1;r+n<t;r++)switch(f.charAt(r+n)){case"\\":r++;continue;case"\r":case"\n":break;case e:var o=f.substr(n,r+1);return x(r+1),o}return null}}},g=32,b=9,y=10,w=13,x=(v.autoCommentAbsorb=!0,v.commentStore=[],v.finished=!1,function(e){for(var t,n,r=v.i,o=d,i=v.i-m,a=v.i+h.length-i,s=v.i+=e,l=f;v.i<a;v.i++){if(t=l.charCodeAt(v.i),v.autoCommentAbsorb&&47===t){if("/"===(n=l.charAt(v.i+1))){var u={index:v.i,isLineComment:!0},c=l.indexOf("\n",v.i+2);v.i=c=c<0?a:c,u.text=l.substr(u.i,v.i-u.i),v.commentStore.push(u);continue}if("*"===n){c=l.indexOf("*/",v.i+2);if(0<=c){u={index:v.i,text:l.substr(v.i,c+2-v.i),isLineComment:!1},v.i+=u.text.length-1,v.commentStore.push(u);continue}}break}if(t!==g&&t!==y&&t!==b&&t!==w)break}if(h=h.slice(e+v.i-s+i),m=v.i,!h.length){if(p.length-1>d)return h=p[++d],x(0),!0;v.finished=!0}return r!==v.i||o!==d});return v.peek=function(e){if("string"!=typeof e)return e.test(h);for(var t=0;e.length>t;t++)if(f.charAt(v.i+t)!==e.charAt(t))return!1;return!0},v.peekChar=function(e){return f.charAt(v.i)===e},v.currentChar=function(){return f.charAt(v.i)},v.getInput=function(){return f},v.peekNotNumeric=function(){var e=f.charCodeAt(v.i);return 57<e||e<43||47===e||44===e},v.start=function(e,t,n){f=e,v.i=d=m=r=0,p=t?o(e,n):[e],h=p[0],x(0)},v.end=function(){var e,t=v.i>=f.length;return v.i<r&&(e=n,v.i=r),{isFinished:t,furthest:v.i,furthestPossibleErrorMessage:e,furthestReachedEnd:v.i>=f.length-1,furthestChar:f[v.i]}},v}},{"./chunker":34}],36:[function(e,t){function g(f,d,p){function u(e,t){var n="[object Function]"===Object.prototype.toString.call(e)?e.call(m):v.$re(e);return n||void h(t||("string"==typeof e?"expected '"+e+"' got '"+v.currentChar()+"'":"unexpected token"))}function l(e,t){v.$char(e)||h(t||"expected '"+e+"' got '"+v.currentChar()+"'")}function h(e,t){throw new b({index:v.i,filename:p.filename,type:t||"Syntax",message:e},d)}function c(e){var t=p.filename;return{lineNumber:r.getLocation(e,v.getInput()).line+1,fileName:t}}var m,v=n();return{parse:function(e,t,n){var r,o=null,i="",a=n&&n.globalVars?g.serializeVars(n.globalVars)+"\n":"",s=n&&n.modifyVars?"\n"+g.serializeVars(n.modifyVars):"";if(f.pluginManager)for(var l=f.pluginManager.getPreProcessors(),u=0;l.length>u;u++)e=l[u].process(e,{context:f,imports:d,fileInfo:p});(a||n&&n.banner)&&(i=(n&&n.banner?n.banner:"")+a,(n=d.contentsIgnoredChars)[p.filename]=n[p.filename]||0,n[p.filename]+=i.length),e=i+(e=e.replace(/\r\n?/g,"\n")).replace(/^\uFEFF/,"")+s,d.contents[p.filename]=e;try{v.start(e,f.chunkInput,function(e,t){throw new b({index:t,type:"Parse",message:e,filename:p.filename},d)}),(r=new y.Ruleset(null,this.parsers.primary())).root=!0,r.firstRoot=!0}catch(e){return t(new b(e,d,p.filename))}function c(e){return(e=o||e||d.error)?(e instanceof b||(e=new b(e,d,p.filename)),t(e)):t(null,r)}a=v.end();a.isFinished||((n=a.furthestPossibleErrorMessage)||(n="Unrecognised input","}"===a.furthestChar?n+=". Possibly missing opening '{'":")"===a.furthestChar?n+=". Possibly missing opening '('":a.furthestReachedEnd&&(n+=". Possibly missing something")),o=new b({type:"Parse",message:n,index:a.furthest,filename:p.filename},d));return!1===f.processImports?c():void new w.ImportVisitor(d,c).run(r)},parsers:m={primary:function(){for(var e,t=this.mixin,n=[];;){for(;e=this.comment();)n.push(e);if(v.finished)break;if(v.peek("}"))break;if(e=this.extendRule())n=n.concat(e);else if(e=t.definition()||this.rule()||this.ruleset()||t.call()||this.rulesetCall()||this.directive())n.push(e);else{for(var r=!1;v.$char(";");)r=!0;if(!r)break}}return n},comment:function(){var e;if(v.commentStore.length)return e=v.commentStore.shift(),new y.Comment(e.text,e.isLineComment,e.index,p)},entities:{quoted:function(){var e,t=v.i,n=!1;return v.save(),v.$char("~")&&(n=!0),(e=v.$quoted())?(v.forget(),new y.Quoted(e.charAt(0),e.substr(1,e.length-2),n,t,p)):void v.restore()},keyword:function(){var e=v.$char("%")||v.$re(/^[_A-Za-z-][_A-Za-z0-9-]*/);return e?y.Color.fromKeyword(e)||new y.Keyword(e):void 0},call:function(){var e,t,n=v.i;if(!v.peek(/^url\(/i))return v.save(),(e=v.$re(/^([\w-]+|%|progid:[\w\.]+)\(/))?"alpha"===(e=e[1]).toLowerCase()&&(t=m.alpha())?(v.forget(),t):(t=this.arguments(),v.$char(")")?(v.forget(),new y.Call(e,t,n,p)):void v.restore("Could not parse call arguments or missing ')'")):void v.forget()},arguments:function(){for(var e,t=[];(e=this.assignment()||m.expression())&&(t.push(e),v.$char(",")););return t},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var e,t;return v.save(),(e=v.$re(/^\w+(?=\s?=)/i))&&v.$char("=")&&(t=m.entity())?(v.forget(),new y.Assignment(e,t)):void v.restore()},url:function(){var e,t=v.i;return v.autoCommentAbsorb=!1,v.$str("url(")?(e=this.quoted()||this.variable()||v.$re(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",v.autoCommentAbsorb=!0,l(")"),new y.URL(null!=e.value||e instanceof y.Variable?e:new y.Anonymous(e),t,p)):void(v.autoCommentAbsorb=!0)},variable:function(){var e,t=v.i;return"@"===v.currentChar()&&(e=v.$re(/^@@?[\w-]+/))?new y.Variable(e,t,p):void 0},variableCurly:function(){var e,t=v.i;return"@"===v.currentChar()&&(e=v.$re(/^@\{([\w-]+)\}/))?new y.Variable("@"+e[1],t,p):void 0},color:function(){var e;if("#"===v.currentChar()&&(e=v.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)))return e.input.match(/^#([\w]+).*/)[1].match(/^[A-Fa-f0-9]+$/)||h("Invalid HEX color code"),new y.Color(e[1])},dimension:function(){var e;return!v.peekNotNumeric()&&(e=v.$re(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/i))?new y.Dimension(e[1],e[2]):void 0},unicodeDescriptor:function(){var e=v.$re(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/);return e?new y.UnicodeDescriptor(e[0]):void 0},javascript:function(){var e,t=v.i,n=(v.save(),v.$char("~"));return v.$char("`")?(e=v.$re(/^[^`]*`/))?(v.forget(),new y.JavaScript(e.substr(0,e.length-1),Boolean(n),t,p)):void v.restore("invalid javascript definition"):void v.restore()}},variable:function(){var e;return"@"===v.currentChar()&&(e=v.$re(/^(@[\w-]+)\s*:/))?e[1]:void 0},rulesetCall:function(){var e;return"@"===v.currentChar()&&(e=v.$re(/^(@[\w-]+)\s*\(\s*\)\s*;/))?new y.RulesetCall(e[1]):void 0},extend:function(e){var t,n,r,o,i,a=v.i;if(v.$str(e?"&:extend(":":extend(")){do{for(t=r=null;!(r=v.$re(/^(all)(?=\s*(\)|,))/))&&(n=this.element());)t?t.push(n):t=[n]}while(r=r&&r[1],t||h("Missing target selector for :extend()."),i=new y.Extend(new y.Selector(t),r,a),o?o.push(i):o=[i],v.$char(","));return u(/^\)/),e&&u(/^;/),o}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var e,t,n,r,o,i=v.currentChar(),a=!1,s=v.i;if("."===i||"#"===i){for(v.save();e=v.i,n=v.$re(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);)n=new y.Element(r,n,e,p),t?t.push(n):t=[n],r=v.$char(">");return t&&(v.$char("(")&&(o=this.args(!0).args,l(")")),m.important()&&(a=!0),m.end())?(v.forget(),new y.mixin.Call(t,o,s,p,a)):void v.restore()}},args:function(e){var t,n,r,o,i,a=m.entities,s={args:null,variadic:!1},l=[],u=[],c=[];for(v.save();;){if(e)i=m.detachedRuleset()||m.expression();else{if(v.commentStore.length=0,v.$str("...")){s.variadic=!0,((t=v.$char(";")&&!t?!0:t)?u:c).push({variadic:!0});break}i=a.variable()||a.literal()||a.keyword()}if(!i)break;o=null,i.throwAwayComments&&i.throwAwayComments();var f=i,d=null;if(e?i.value&&1==i.value.length&&(d=i.value[0]):d=i,d&&d instanceof y.Variable)if(v.$char(":")){if(0<l.length&&(t&&h("Cannot mix ; and , as delimiter types"),n=!0),!(f=m.detachedRuleset()||m.expression())){if(!e)return v.restore(),s.args=[],s;h("could not understand value for named argument")}o=r=d.name}else{if(!e&&v.$str("...")){s.variadic=!0,((t=v.$char(";")&&!t?!0:t)?u:c).push({name:i.name,variadic:!0});break}e||(r=o=d.name,f=null)}f&&l.push(f),c.push({name:o,value:f}),v.$char(",")||(v.$char(";")||t)&&(n&&h("Cannot mix ; and , as delimiter types"),t=!0,1<l.length&&(f=new y.Value(l)),u.push({name:r,value:f}),r=null,n=!(l=[]))}return v.forget(),s.args=t?u:c,s},definition:function(){var e,t;if(!("."!==v.currentChar()&&"#"!==v.currentChar()||v.peek(/^[^{]*\}/)))if(v.save(),n=v.$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){var n=n[1],r=this.args(!1),o=r.args,r=r.variadic;if(v.$char(")"))return v.commentStore.length=0,v.$str("when")&&(t=u(m.conditions,"expected condition")),(e=m.block())?(v.forget(),new y.mixin.Definition(n,o,e,t,r)):void v.restore();v.restore("Missing closing ')'")}else v.forget()}},entity:function(){var e=this.entities;return this.comment()||e.literal()||e.variable()||e.url()||e.call()||e.keyword()||e.javascript()},end:function(){return v.$char(";")||v.peek("}")},alpha:function(){var e;if(v.$re(/^opacity=/i))return e=(e=v.$re(/^\d+/))||u(this.entities.variable,"Could not parse alpha"),l(")"),new y.Alpha(e)},element:function(){var e,t=v.i,n=this.combinator(),r=v.$re(/^(?:\d+\.\d+|\d+)%/)||v.$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||v.$char("*")||v.$char("&")||this.attribute()||v.$re(/^\([^&()@]+\)/)||v.$re(/^[\.#:](?=@)/)||this.entities.variableCurly();return r||(v.save(),v.$char("(")?(e=this.selector())&&v.$char(")")?(r=new y.Paren(e),v.forget()):v.restore("Missing closing ')'"):v.forget()),r?new y.Element(n,r,t,p):void 0},combinator:function(){var e=v.currentChar();if("/"===e){v.save();var t=v.$re(/^\/[a-z]+\//i);if(t)return v.forget(),new y.Combinator(t);v.restore()}if(">"!==e&&"+"!==e&&"~"!==e&&"|"!==e&&"^"!==e)return new y.Combinator(v.isWhitespace(-1)?" ":null);for(v.i++,"^"===e&&"^"===v.currentChar()&&(e="^^",v.i++);v.isWhitespace();)v.i++;return new y.Combinator(e)},lessSelector:function(){return this.selector(!0)},selector:function(e){for(var t,n,r,o,i,a,s,l=v.i;(e&&(n=this.extend())||e&&(a=v.$str("when"))||(o=this.element()))&&(a?s=u(this.conditions,"expected condition"):s?h("CSS guard can only be used at the end of selector"):n?i=i?i.concat(n):n:(i&&h("Extend can only be used at the end of selector"),r=v.currentChar(),t?t.push(o):t=[o],o=null),"{"!==r)&&"}"!==r&&";"!==r&&","!==r&&")"!==r;);return t?new y.Selector(t,i,s,l,p):void(i&&h("Extend must be used to extend a selector, it cannot be used on its own"))},attribute:function(){var e,t,n,r;if(v.$char("["))return n=(n=(t=this.entities).variableCurly())||u(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/),(r=v.$re(/^[|~*$^]?=/))&&(e=t.quoted()||v.$re(/^[0-9]+%/)||v.$re(/^[\w-]+/)||t.variableCurly()),l("]"),new y.Attribute(n,r,e)},block:function(){var e;return v.$char("{")&&(e=this.primary())&&v.$char("}")?e:void 0},blockRuleset:function(){var e=this.block();return e=e&&new y.Ruleset(null,e)},detachedRuleset:function(){var e=this.blockRuleset();return e?new y.DetachedRuleset(e):void 0},ruleset:function(){var e,t,n,r;for(v.save(),f.dumpLineNumbers&&(n=c(v.i));(t=this.lessSelector())&&(e?e.push(t):e=[t],v.commentStore.length=0,t.condition&&1<e.length&&h("Guards are only currently allowed on a single selector."),v.$char(","));)t.condition&&h("Guards are only currently allowed on a single selector."),v.commentStore.length=0;if(e&&(r=this.block()))return v.forget(),r=new y.Ruleset(e,r,f.strictImports),f.dumpLineNumbers&&(r.debugInfo=n),r;v.restore()},rule:function(e){var t,n,r=v.i,o=v.currentChar();if("."!==o&&"#"!==o&&"&"!==o&&":"!==o){if(v.save(),o=this.variable()||this.ruleProperty()){if((a="string"==typeof o)&&(t=this.detachedRuleset()),v.commentStore.length=0,!t){var i=!a&&1<o.length&&o.pop().value,a=!e&&(f.compress||a);if(!(t=a?this.value():t)&&(t=this.anonymousValue()))return v.forget(),new y.Rule(o,t,!1,i,r,p);a||(t=t||this.value()),n=this.important()}return t&&this.end()?(v.forget(),new y.Rule(o,t,n,i,r,p)):(v.restore(),t&&!e?this.rule(!0):void 0)}v.forget()}},anonymousValue:function(){var e=v.$re(/^([^@+\/'"*`(;{}-]*);/);return e?new y.Anonymous(e[1]):void 0},import:function(){var e,t,n=v.i,r=v.$re(/^@import?\s+/);if(r){r=(r?this.importOptions():null)||{};if(e=this.entities.quoted()||this.entities.url())return t=this.mediaFeatures(),v.$char(";")||(v.i=n,h("missing semi-colon or unrecognised media features on import")),t=t&&new y.Value(t),new y.Import(e,t,r,n,p);v.i=n,h("malformed import statement")}},importOptions:function(){var e,t,n,r={};if(!v.$char("("))return null;do{if(e=this.importOption()){switch(n=!0,t=e){case"css":n=!(t="less");break;case"once":n=!(t="multiple")}if(r[t]=n,!v.$char(","))break}}while(e);return l(")"),r},importOption:function(){var e=v.$re(/^(less|css|multiple|once|inline|reference|optional)/);return e?e[1]:void 0},mediaFeature:function(){var e,t,n=this.entities,r=[];v.save();do{if(e=n.keyword()||n.variable())r.push(e);else if(v.$char("(")){if(t=this.property(),e=this.value(),!v.$char(")"))return v.restore("Missing closing ')'"),null;if(t&&e)r.push(new y.Paren(new y.Rule(t,e,null,null,v.i,p,!0)));else{if(!e)return v.restore("badly formed media feature definition"),null;r.push(new y.Paren(e))}}}while(e);return v.forget(),0<r.length?new y.Expression(r):void 0},mediaFeatures:function(){var e,t=this.entities,n=[];do{if(e=this.mediaFeature()){if(n.push(e),!v.$char(","))break}else if((e=t.variable())&&(n.push(e),!v.$char(",")))break}while(e);return 0<n.length?n:null},media:function(){var e,t,n;return f.dumpLineNumbers&&(n=c(v.i)),v.save(),v.$str("@media")?(e=this.mediaFeatures(),(t=this.block())?(v.forget(),t=new y.Media(t,e,v.i,p),f.dumpLineNumbers&&(t.debugInfo=n),t):void v.restore("media definitions require block statements after any features")):void v.restore()},plugin:function(){var e,t=v.i;if(v.$re(/^@plugin?\s+/)){if(e=this.entities.quoted()||this.entities.url())return v.$char(";")||(v.i=t,h("missing semi-colon on plugin")),new y.Import(e,null,{plugin:!0},t,p);v.i=t,h("malformed plugin statement")}},directive:function(){var e,t,n,r,o,i,a,s=v.i,l=!0,u=!0;if("@"===v.currentChar()){if(t=this.import()||this.plugin()||this.media())return t;if(v.save(),e=v.$re(/^@[a-z-]+/)){switch(r="-"==(r=e).charAt(1)&&0<e.indexOf("-",2)?"@"+e.slice(e.indexOf("-",2)+1):r){case"@counter-style":l=o=!0;break;case"@charset":l=!(o=!0);break;case"@namespace":l=!(i=!0);break;case"@keyframes":o=!0;break;case"@host":case"@page":a=!0;break;case"@document":case"@supports":u=!(a=!0)}return v.commentStore.length=0,o?(t=this.entity())||h("expected "+e+" identifier"):i?(t=this.expression())||h("expected "+e+" expression"):a&&(t=(t=(v.$re(/^[^{;]+/)||"").trim())&&new y.Anonymous(t)),(n=l?this.blockRuleset():n)||!l&&t&&v.$char(";")?(v.forget(),new y.Directive(e,t,n,s,p,f.dumpLineNumbers?c(s):null,!1,u)):void v.restore("directive options not recognised")}}},value:function(){var e,t=[];do{if((e=this.expression())&&(t.push(e),!v.$char(",")))break}while(e);return 0<t.length?new y.Value(t):void 0},important:function(){return"!"===v.currentChar()?v.$re(/^! *important/):void 0},sub:function(){var e;return v.save(),v.$char("(")?(e=this.addition())&&v.$char(")")?(v.forget(),(e=new y.Expression([e])).parens=!0,e):void v.restore("Expected ')'"):void v.restore()},multiplication:function(){var e,t,n,r,o;if(e=this.operand()){for(o=v.isWhitespace(-1);!v.peek(/^\/[*\/]/);){if(v.save(),!(n=v.$char("/")||v.$char("*"))){v.forget();break}if(!(t=this.operand())){v.restore();break}v.forget(),e.parensInOp=!0,t.parensInOp=!0,r=new y.Operation(n,[r||e,t],o),o=v.isWhitespace(-1)}return r||e}},addition:function(){var e,t,n,r,o;if(e=this.multiplication()){for(o=v.isWhitespace(-1);(n=v.$re(/^[-+]\s+/)||!o&&(v.$char("+")||v.$char("-")))&&(t=this.multiplication());)e.parensInOp=!0,t.parensInOp=!0,r=new y.Operation(n,[r||e,t],o),o=v.isWhitespace(-1);return r||e}},conditions:function(){var e,t,n,r=v.i;if(e=this.condition()){for(;v.peek(/^,\s*(not\s*)?\(/)&&v.$char(",")&&(t=this.condition());)n=new y.Condition("or",n||e,t,r);return n||e}},condition:function(){var e,t,n,r=this.entities,o=v.i,i=!1;return v.$str("not")&&(i=!0),l("("),(e=this.addition()||r.keyword()||r.quoted())?(v.$char(">")?n=v.$char("=")?">=":">":v.$char("<")?n=v.$char("=")?"<=":"<":v.$char("=")&&(n=v.$char(">")?"=>":v.$char("<")?"=<":"="),n?(r=this.addition()||r.keyword()||r.quoted())?t=new y.Condition(n,e,r,o,i):h("expected expression"):t=new y.Condition("=",e,new y.Keyword("true"),o,i),l(")"),v.$str("and")?new y.Condition("and",t,this.condition()):t):void 0},operand:function(){var e,t=this.entities,t=(v.peek(/^-[@\(]/)&&(e=v.$char("-")),this.sub()||t.dimension()||t.color()||t.variable()||t.call());return e&&(t.parensInOp=!0,t=new y.Negative(t)),t},expression:function(){for(var e,t,n=[];(e=this.comment())?n.push(e):(e=this.addition()||this.entity())&&(n.push(e),v.peek(/^\/[\/*]/)||(t=v.$char("/"))&&n.push(new y.Anonymous(t))),e;);return 0<n.length?new y.Expression(n):void 0},property:function(){var e=v.$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);return e?e[1]:void 0},ruleProperty:function(){function e(e){var t=v.i,e=v.$re(e);return e?(o.push(t),r.push(e[1])):void 0}var t,n,r=[],o=[],i=(v.save(),v.$re(/^([_a-zA-Z0-9-]+)\s*:/));if(i)return r=[new y.Keyword(i[1])],v.forget(),r;for(e(/^(\*?)/);e(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/););if(1<r.length&&e(/^((?:\+_|\+)?)\s*:/)){for(v.forget(),""===r[0]&&(r.shift(),o.shift()),n=0;r.length>n;n++)t=r[n],r[n]="@"!==t.charAt(0)?new y.Keyword(t):new y.Variable("@"+t.slice(2,-1),o[n],p);return r}v.restore()}}}}var b=e("../less-error"),y=e("../tree"),w=e("../visitors"),n=e("./parser-input"),r=e("../utils");g.serializeVars=function(e){var t,n,r="";for(t in e)Object.hasOwnProperty.call(e,t)&&(n=e[t],r+=("@"===t[0]?"":"@")+t+": "+n+(";"===String(n).slice(-1)?"":";"));return r},t.exports=g},{"../less-error":30,"../tree":60,"../utils":81,"../visitors":85,"./parser-input":35}],37:[function(e,t){function n(e){this.less=e,this.visitors=[],this.preProcessors=[],this.postProcessors=[],this.installedPlugins=[],this.fileManagers=[]}n.prototype.addPlugins=function(e){if(e)for(var t=0;e.length>t;t++)this.addPlugin(e[t])},n.prototype.addPlugin=function(e){this.installedPlugins.push(e),e.install(this.less,this)},n.prototype.addVisitor=function(e){this.visitors.push(e)},n.prototype.addPreProcessor=function(e,t){for(var n=0;this.preProcessors.length>n&&!(this.preProcessors[n].priority>=t);n++);this.preProcessors.splice(n,0,{preProcessor:e,priority:t})},n.prototype.addPostProcessor=function(e,t){for(var n=0;this.postProcessors.length>n&&!(this.postProcessors[n].priority>=t);n++);this.postProcessors.splice(n,0,{postProcessor:e,priority:t})},n.prototype.addFileManager=function(e){this.fileManagers.push(e)},n.prototype.getPreProcessors=function(){for(var e=[],t=0;this.preProcessors.length>t;t++)e.push(this.preProcessors[t].preProcessor);return e},n.prototype.getPostProcessors=function(){for(var e=[],t=0;this.postProcessors.length>t;t++)e.push(this.postProcessors[t].postProcessor);return e},n.prototype.getVisitors=function(){return this.visitors},n.prototype.getFileManagers=function(){return this.fileManagers},t.exports=n},{}],38:[function(e,t){var o=e("../less-error"),i=e("../tree");(t.exports=function(e,t){this.fileInfo=t}).prototype.eval=function(e,t){var n={},r={add:function(e,t){n[e]=t},addMultiple:function(t){Object.keys(t).forEach(function(e){n[e]=t[e]})}};try{new Function("functions","tree","fileInfo",e)(r,i,this.fileInfo)}catch(e){t(new o({message:"Plugin evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",filename:this.fileInfo.filename}),null)}t(null,{functions:n})}},{"../less-error":30,"../tree":60}],39:[function(n,e){var r;e.exports=function(e,a){function s(e,t,i){var o;if("function"==typeof t&&(i=t,t={}),!i)return r=r||("undefined"==typeof Promise?n("promise"):Promise),o=this,new r(function(n,r){s.call(o,e,t,function(e,t){e?r(e):n(t)})});this.parse(e,t,function(e,t,n,r){if(e)return i(e);try{var o=new a(t,n).toCSS(r)}catch(e){return i(e)}i(null,o)})}return s}},{promise:void 0}],40:[function(e,t){t.exports=function(r,t){function e(e){this.options=e}return e.prototype.toCSS=function(e,t,n){e=new r({contentsIgnoredCharsMap:n.contentsIgnoredChars,rootNode:e,contentsMap:n.contents,sourceMapFilename:this.options.sourceMapFilename,sourceMapURL:this.options.sourceMapURL,outputFilename:this.options.sourceMapOutputFilename,sourceMapBasepath:this.options.sourceMapBasepath,sourceMapRootpath:this.options.sourceMapRootpath,outputSourceFiles:this.options.outputSourceFiles,sourceMapGenerator:this.options.sourceMapGenerator,sourceMapFileInline:this.options.sourceMapFileInline}),n=e.toCSS(t);return this.sourceMap=e.sourceMap,this.sourceMapURL=e.sourceMapURL,this.options.sourceMapInputFilename&&(this.sourceMapInputFilename=e.normalizeFilename(this.options.sourceMapInputFilename)),n+this.getCSSAppendage()},e.prototype.getCSSAppendage=function(){var e=this.sourceMapURL;if(this.options.sourceMapFileInline){if(void 0===this.sourceMap)return"";e="data:application/json;base64,"+t.encodeBase64(this.sourceMap)}return e?"/*# sourceMappingURL="+e+" */":""},e.prototype.getExternalSourceMap=function(){return this.sourceMap},e.prototype.setExternalSourceMap=function(e){this.sourceMap=e},e.prototype.isInline=function(){return this.options.sourceMapFileInline},e.prototype.getSourceMapURL=function(){return this.sourceMapURL},e.prototype.getOutputFilename=function(){return this.options.sourceMapOutputFilename},e.prototype.getInputFilename=function(){return this.sourceMapInputFilename},e}},{}],41:[function(e,t){t.exports=function(t){function e(e){this._css=[],this._rootNode=e.rootNode,this._contentsMap=e.contentsMap,this._contentsIgnoredCharsMap=e.contentsIgnoredCharsMap,e.sourceMapFilename&&(this._sourceMapFilename=e.sourceMapFilename.replace(/\\/g,"/")),this._outputFilename=e.outputFilename,this.sourceMapURL=e.sourceMapURL,e.sourceMapBasepath&&(this._sourceMapBasepath=e.sourceMapBasepath.replace(/\\/g,"/")),e.sourceMapRootpath?(this._sourceMapRootpath=e.sourceMapRootpath.replace(/\\/g,"/"),"/"!==this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)&&(this._sourceMapRootpath+="/")):this._sourceMapRootpath="",this._outputSourceFiles=e.outputSourceFiles,this._sourceMapGeneratorConstructor=t.getSourceMapGenerator(),this._lineNumber=0,this._column=0}return e.prototype.normalizeFilename=function(e){return e=e.replace(/\\/g,"/"),this._sourceMapBasepath&&0===e.indexOf(this._sourceMapBasepath)&&("\\"===(e=e.substring(this._sourceMapBasepath.length)).charAt(0)||"/"===e.charAt(0))&&(e=e.substring(1)),(this._sourceMapRootpath||"")+e},e.prototype.add=function(e,t,n,r){if(e){var o,i,a,s,l;if(t&&(l=this._contentsMap[t.filename],this._contentsIgnoredCharsMap[t.filename]&&((n-=this._contentsIgnoredCharsMap[t.filename])<0&&(n=0),l=l.slice(this._contentsIgnoredCharsMap[t.filename])),a=(i=(l=l.substring(0,n)).split("\n"))[i.length-1]),n=(o=e.split("\n"))[o.length-1],t)if(r)for(s=0;o.length>s;s++)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+s+1,column:0===s?this._column:0},original:{line:i.length+s,column:0===s?a.length:0},source:this.normalizeFilename(t.filename)});else this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:i.length,column:a.length},source:this.normalizeFilename(t.filename)});1===o.length?this._column+=n.length:(this._lineNumber+=o.length-1,this._column=n.length),this._css.push(e)}},e.prototype.isEmpty=function(){return 0===this._css.length},e.prototype.toCSS=function(e){if(this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null}),this._outputSourceFiles)for(var t in this._contentsMap){var n;this._contentsMap.hasOwnProperty(t)&&(n=this._contentsMap[t],this._contentsIgnoredCharsMap[t]&&(n=n.slice(this._contentsIgnoredCharsMap[t])),this._sourceMapGenerator.setSourceContent(this.normalizeFilename(t),n))}var r;return this._rootNode.genCSS(e,this),0<this._css.length&&(e=JSON.stringify(this._sourceMapGenerator.toJSON()),this.sourceMapURL?r=this.sourceMapURL:this._sourceMapFilename&&(r=this._sourceMapFilename),this.sourceMapURL=r,this.sourceMap=e),this._css.join("")},e}},{}],42:[function(e,t){var c=e("./contexts"),f=e("./visitors"),d=e("./tree");t.exports=function(e,t){var n,r=(t=t||{}).variables,o=new c.Eval(t);"object"!=typeof r||Array.isArray(r)||(r=Object.keys(r).map(function(e){var t=r[e];return t instanceof d.Value||(t instanceof d.Expression||(t=new d.Expression([t])),t=new d.Value([t])),new d.Rule("@"+e,t,!1,null,0)}),o.frames=[new d.Ruleset(null,r)]);var i=[],a=[new f.JoinSelectorVisitor,new f.ExtendVisitor,new f.ToCSSVisitor({compress:Boolean(t.compress)})];if(t.pluginManager)for(var s=t.pluginManager.getVisitors(),l=0;s.length>l;l++){var u=s[l];u.isPreEvalVisitor?i.push(u):u.isPreVisitor?a.splice(0,0,u):a.push(u)}for(l=0;l<i.length;l++)i[l].run(e);for(n=e.eval(o),l=0;l<a.length;l++)a[l].run(n);return n}},{"./contexts":10,"./tree":60,"./visitors":85}],43:[function(e,t){function n(e){this.value=e}e=e("./node");(n.prototype=new e).type="Alpha",n.prototype.accept=function(e){this.value=e.visit(this.value)},n.prototype.eval=function(e){return this.value.eval?new n(this.value.eval(e)):this},n.prototype.genCSS=function(e,t){t.add("alpha(opacity="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value),t.add(")")},t.exports=n},{"./node":68}],44:[function(e,t){function n(e,t,n,r,o){this.value=e,this.index=t,this.mapLines=r,this.currentFileInfo=n,this.rulesetLike=void 0!==o&&o}e=e("./node");(n.prototype=new e).type="Anonymous",n.prototype.eval=function(){return new n(this.value,this.index,this.currentFileInfo,this.mapLines,this.rulesetLike)},n.prototype.compare=function(e){return e.toCSS&&this.toCSS()===e.toCSS()?0:void 0},n.prototype.isRulesetLike=function(){return this.rulesetLike},n.prototype.genCSS=function(e,t){t.add(this.value,this.currentFileInfo,this.index,this.mapLines)},t.exports=n},{"./node":68}],45:[function(e,t){function n(e,t){this.key=e,this.value=t}e=e("./node");(n.prototype=new e).type="Assignment",n.prototype.accept=function(e){this.value=e.visit(this.value)},n.prototype.eval=function(e){return this.value.eval?new n(this.key,this.value.eval(e)):this},n.prototype.genCSS=function(e,t){t.add(this.key+"="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value)},t.exports=n},{"./node":68}],46:[function(e,t){function n(e,t,n){this.key=e,this.op=t,this.value=n}e=e("./node");(n.prototype=new e).type="Attribute",n.prototype.eval=function(e){return new n(this.key.eval?this.key.eval(e):this.key,this.op,this.value&&this.value.eval?this.value.eval(e):this.value)},n.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},n.prototype.toCSS=function(e){var t=this.key.toCSS?this.key.toCSS(e):this.key;return"["+(t=this.op?(t+=this.op)+(this.value.toCSS?this.value.toCSS(e):this.value):t)+"]"},t.exports=n},{"./node":68}],47:[function(e,t){function o(e,t,n,r){this.name=e,this.args=t,this.index=n,this.currentFileInfo=r}var n=e("./node"),i=e("../functions/function-caller");(o.prototype=new n).type="Call",o.prototype.accept=function(e){this.args&&(this.args=e.visitArray(this.args))},o.prototype.eval=function(t){var e,n=this.args.map(function(e){return e.eval(t)}),r=new i(this.name,t,this.index,this.currentFileInfo);if(r.isValid())try{if(null!=(e=r.call(n)))return e}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename}}return new o(this.name,n,this.index,this.currentFileInfo)},o.prototype.genCSS=function(e,t){t.add(this.name+"(",this.currentFileInfo,this.index);for(var n=0;this.args.length>n;n++)this.args[n].genCSS(e,t),this.args.length>n+1&&t.add(", ");t.add(")")},t.exports=o},{"../functions/function-caller":20,"./node":68}],48:[function(e,t){function n(e,t){return Math.min(Math.max(e,0),t)}function r(e){return"#"+e.map(function(e){return((e=n(Math.round(e),255))<16?"0":"")+e.toString(16)}).join("")}function a(e,t){this.rgb=Array.isArray(e)?e:6==e.length?e.match(/.{2}/g).map(function(e){return parseInt(e,16)}):e.split("").map(function(e){return parseInt(e+e,16)}),this.alpha="number"==typeof t?t:1}var o=e("./node"),i=e("../data/colors");(a.prototype=new o).type="Color",a.prototype.luma=function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255;return.2126*(e<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((.055+n)/1.055,2.4))},a.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},a.prototype.toCSS=function(e,t){var t=e&&e.compress&&!t;return this.value||((e=this.fround(e,this.alpha))<1?"rgba("+this.rgb.map(function(e){return n(Math.round(e),255)}).concat(n(e,1)).join(","+(t?"":" "))+")":(e=this.toRGB(),t&&(t=e.split(""))[1]===t[2]&&t[3]===t[4]&&t[5]===t[6]?"#"+t[1]+t[3]+t[5]:e))},a.prototype.operate=function(e,t,n){for(var r=[],o=this.alpha*(1-n.alpha)+n.alpha,i=0;i<3;i++)r[i]=this._operate(e,t,this.rgb[i],n.rgb[i]);return new a(r,o)},a.prototype.toRGB=function(){return r(this.rgb)},a.prototype.toHSL=function(){var e,t,n=this.rgb[0]/255,r=this.rgb[1]/255,o=this.rgb[2]/255,i=this.alpha,a=Math.max(n,r,o),s=Math.min(n,r,o),l=(a+s)/2,u=a-s;if(a===s)e=t=0;else{switch(t=.5<l?u/(2-a-s):u/(a+s),a){case n:e=(r-o)/u+(r<o?6:0);break;case r:e=(o-n)/u+2;break;case o:e=(n-r)/u+4}e/=6}return{h:360*e,s:t,l:l,a:i}},a.prototype.toHSV=function(){var e,t=this.rgb[0]/255,n=this.rgb[1]/255,r=this.rgb[2]/255,o=this.alpha,i=Math.max(t,n,r),a=Math.min(t,n,r),s=i,l=i-a,u=0===i?0:l/i;if(i===a)e=0;else{switch(i){case t:e=(n-r)/l+(n<r?6:0);break;case n:e=(r-t)/l+2;break;case r:e=(t-n)/l+4}e/=6}return{h:360*e,s:u,v:s,a:o}},a.prototype.toARGB=function(){return r([255*this.alpha].concat(this.rgb))},a.prototype.compare=function(e){return e.rgb&&e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:void 0},a.fromKeyword=function(e){var t,n=e.toLowerCase();return i.hasOwnProperty(n)?t=new a(i[n].slice(1)):"transparent"===n&&(t=new a([0,0,0],0)),t?(t.value=e,t):void 0},t.exports=a},{"../data/colors":11,"./node":68}],49:[function(e,t){function n(e){" "===e?(this.value=" ",this.emptyOrWhitespace=!0):(this.value=e?e.trim():"",this.emptyOrWhitespace=""===this.value)}var e=e("./node"),r=((n.prototype=new e).type="Combinator",{"":!0," ":!0,"|":!0});n.prototype.genCSS=function(e,t){e=e.compress||r[this.value]?"":" ";t.add(e+this.value+e)},t.exports=n},{"./node":68}],50:[function(e,t){function n(e,t,n,r){this.value=e,this.isLineComment=t,this.currentFileInfo=r}var r=e("./node"),o=e("./debug-info");(n.prototype=new r).type="Comment",n.prototype.genCSS=function(e,t){this.debugInfo&&t.add(o(e,this),this.currentFileInfo,this.index),t.add(this.value)},n.prototype.isSilent=function(e){var t=this.currentFileInfo&&this.currentFileInfo.reference&&!this.isReferenced,e=e.compress&&"!"!==this.value[2];return this.isLineComment||t||e},n.prototype.markReferenced=function(){this.isReferenced=!0},t.exports=n},{"./debug-info":52,"./node":68}],51:[function(e,t){function n(e,t,n,r,o){this.op=e.trim(),this.lvalue=t,this.rvalue=n,this.index=r,this.negate=o}var r=e("./node");(n.prototype=new r).type="Condition",n.prototype.accept=function(e){this.lvalue=e.visit(this.lvalue),this.rvalue=e.visit(this.rvalue)},n.prototype.eval=function(e){e=function(e,t,n){switch(e){case"and":return t&&n;case"or":return t||n;default:switch(r.compare(t,n)){case-1:return"<"===e||"=<"===e||"<="===e;case 0:return"="===e||">="===e||"=<"===e||"<="===e;case 1:return">"===e||">="===e;default:return!1}}}(this.op,this.lvalue.eval(e),this.rvalue.eval(e));return this.negate?!e:e},t.exports=n},{"./node":68}],52:[function(e,t){function o(e,t,n){var r="";if(e.dumpLineNumbers&&!e.compress)switch(e.dumpLineNumbers){case"comments":r=o.asComment(t);break;case"mediaquery":r=o.asMediaQuery(t);break;case"all":r=o.asComment(t)+(n||"")+o.asMediaQuery(t)}return r}o.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"},o.asMediaQuery=function(e){var t=e.debugInfo.fileName;return"@media -sass-debug-info{filename{font-family:"+(t=/^[a-z]+:\/\//i.test(t)?t:"file://"+t).replace(/([.:\/\\])/g,function(e){return"\\"+(e="\\"==e?"/":e)})+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"},t.exports=o},{}],53:[function(e,t){function n(e,t){this.ruleset=e,this.frames=t}var r=e("./node"),o=e("../contexts");(n.prototype=new r).type="DetachedRuleset",n.prototype.evalFirst=!0,n.prototype.accept=function(e){this.ruleset=e.visit(this.ruleset)},n.prototype.eval=function(e){e=this.frames||e.frames.slice(0);return new n(this.ruleset,e)},n.prototype.callEval=function(e){return this.ruleset.eval(this.frames?new o.Eval(e,this.frames.concat(e.frames)):e)},t.exports=n},{"../contexts":10,"./node":68}],54:[function(e,t){function u(e,t){this.value=parseFloat(e),this.unit=t&&t instanceof n?t:new n(t?[t]:void 0)}var r=e("./node"),c=e("../data/unit-conversions"),n=e("./unit"),o=e("./color");(u.prototype=new r).type="Dimension",u.prototype.accept=function(e){this.unit=e.visit(this.unit)},u.prototype.eval=function(){return this},u.prototype.toColor=function(){return new o([this.value,this.value,this.value])},u.prototype.genCSS=function(e,t){if(e&&e.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());var n=this.fround(e,this.value),r=String(n);if(0!==n&&n<1e-6&&-1e-6<n&&(r=n.toFixed(20).replace(/0+$/,"")),e&&e.compress){if(0===n&&this.unit.isLength())return void t.add(r);0<n&&n<1&&(r=r.substr(1))}t.add(r),this.unit.genCSS(e,t)},u.prototype.operate=function(e,t,n){var r=this._operate(e,t,this.value,n.value),o=this.unit.clone();if("+"===t||"-"===t){if(0===o.numerator.length&&0===o.denominator.length)o=n.unit.clone(),this.unit.backupUnit&&(o.backupUnit=this.unit.backupUnit);else if(0!==n.unit.numerator.length||0!==o.denominator.length){if(n=n.convertTo(this.unit.usedUnits()),e.strictUnits&&n.unit.toString()!==o.toString())throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+o.toString()+"' and '"+n.unit.toString()+"'.");r=this._operate(e,t,this.value,n.value)}}else"*"===t?(o.numerator=o.numerator.concat(n.unit.numerator).sort(),o.denominator=o.denominator.concat(n.unit.denominator).sort(),o.cancel()):"/"===t&&(o.numerator=o.numerator.concat(n.unit.denominator).sort(),o.denominator=o.denominator.concat(n.unit.numerator).sort(),o.cancel());return new u(r,o)},u.prototype.compare=function(e){var t,n;if(e instanceof u){if(this.unit.isEmpty()||e.unit.isEmpty())t=this,n=e;else if(t=this.unify(),n=e.unify(),0!==t.unit.compare(n.unit))return;return r.numericCompare(t.value,n.value)}},u.prototype.unify=function(){return this.convertTo({length:"px",duration:"s",angle:"rad"})},u.prototype.convertTo=function(e){var t,n,r,o,i,a=this.value,s=this.unit.clone(),l={};if("string"==typeof e){for(t in c)c[t].hasOwnProperty(e)&&(l={},l[t]=e);e=l}for(n in i=function(e,t){return r.hasOwnProperty(e)?(t?a/=r[e]/r[o]:a*=r[e]/r[o],o):e},e)e.hasOwnProperty(n)&&(o=e[n],r=c[n],s.map(i));return s.cancel(),new u(a,s)},t.exports=u},{"../data/unit-conversions":13,"./color":48,"./node":68,"./unit":77}],55:[function(e,t){function i(e,t,n,r,o,i,a,s){var l;if(this.name=e,this.value=t,n)for(Array.isArray(n)?this.rules=n:(this.rules=[n],this.rules[0].selectors=new u([],null,null,this.index,o).createEmptySelectors()),l=0;this.rules.length>l;l++)this.rules[l].allowImports=!0;this.index=r,this.currentFileInfo=o,this.debugInfo=i,this.isReferenced=a,this.isRooted=s||!1}var n=e("./node"),u=e("./selector"),r=e("./ruleset");(i.prototype=new n).type="Directive",i.prototype.accept=function(e){var t=this.value,n=this.rules;n&&(this.rules=e.visitArray(n)),t&&(this.value=e.visit(t))},i.prototype.isRulesetLike=function(){return this.rules||!this.isCharset()},i.prototype.isCharset=function(){return"@charset"===this.name},i.prototype.genCSS=function(e,t){var n=this.value,r=this.rules;t.add(this.name,this.currentFileInfo,this.index),n&&(t.add(" "),n.genCSS(e,t)),r?this.outputRuleset(e,t,r):t.add(";")},i.prototype.eval=function(e){var t=this.value,n=this.rules,r=e.mediaPath,o=e.mediaBlocks;return e.mediaPath=[],e.mediaBlocks=[],t=t&&t.eval(e),n&&((n=[n[0].eval(e)])[0].root=!0),e.mediaPath=r,e.mediaBlocks=o,new i(this.name,t,n,this.index,this.currentFileInfo,this.debugInfo,this.isReferenced,this.isRooted)},i.prototype.variable=function(e){return this.rules?r.prototype.variable.call(this.rules[0],e):void 0},i.prototype.find=function(){return this.rules?r.prototype.find.apply(this.rules[0],arguments):void 0},i.prototype.rulesets=function(){return this.rules?r.prototype.rulesets.apply(this.rules[0]):void 0},i.prototype.markReferenced=function(){var e,t;if(this.isReferenced=!0,this.rules)for(t=this.rules,e=0;t.length>e;e++)t[e].markReferenced&&t[e].markReferenced()},i.prototype.getIsReferenced=function(){return!this.currentFileInfo||!this.currentFileInfo.reference||this.isReferenced},i.prototype.outputRuleset=function(e,t,n){var r,o=n.length;if(e.tabLevel=1+(0|e.tabLevel),e.compress){for(t.add("{"),r=0;r<o;r++)n[r].genCSS(e,t);t.add("}")}else{var i="\n"+Array(e.tabLevel).join("  "),a=i+"  ";if(o){for(t.add(" {"+a),n[0].genCSS(e,t),r=1;r<o;r++)t.add(a),n[r].genCSS(e,t);t.add(i+"}")}else t.add(" {"+i+"}")}e.tabLevel--},t.exports=i},{"./node":68,"./ruleset":74,"./selector":75}],56:[function(e,t){function n(e,t,n,r){this.combinator=e instanceof i?e:new i(e),this.value="string"==typeof t?t.trim():t||"",this.index=n,this.currentFileInfo=r}var r=e("./node"),o=e("./paren"),i=e("./combinator");(n.prototype=new r).type="Element",n.prototype.accept=function(e){var t=this.value;this.combinator=e.visit(this.combinator),"object"==typeof t&&(this.value=e.visit(t))},n.prototype.eval=function(e){return new n(this.combinator,this.value.eval?this.value.eval(e):this.value,this.index,this.currentFileInfo)},n.prototype.genCSS=function(e,t){t.add(this.toCSS(e),this.currentFileInfo,this.index)},n.prototype.toCSS=function(e){var t=this.value,n=(e=e||{}).firstSelector;return t instanceof o&&(e.firstSelector=!0),t=t.toCSS?t.toCSS(e):t,e.firstSelector=n,""===t&&"&"===this.combinator.value.charAt(0)?"":this.combinator.toCSS(e)+t},t.exports=n},{"./combinator":49,"./node":68,"./paren":70}],57:[function(e,t){function o(e){if(!(this.value=e))throw new Error("Expression requires an array parameter")}var n=e("./node"),i=e("./paren"),r=e("./comment");(o.prototype=new n).type="Expression",o.prototype.accept=function(e){this.value=e.visitArray(this.value)},o.prototype.eval=function(t){var e,n=this.parens&&!this.parensInOp,r=!1;return n&&t.inParenthesis(),e=1<this.value.length?new o(this.value.map(function(e){return e.eval(t)})):1===this.value.length?(this.value[0].parens&&!this.value[0].parensInOp&&(r=!0),this.value[0].eval(t)):this,n&&t.outOfParenthesis(),e=this.parens&&this.parensInOp&&!t.isMathOn()&&!r?new i(e):e},o.prototype.genCSS=function(e,t){for(var n=0;this.value.length>n;n++)this.value[n].genCSS(e,t),this.value.length>n+1&&t.add(" ")},o.prototype.throwAwayComments=function(){this.value=this.value.filter(function(e){return!(e instanceof r)})},t.exports=o},{"./comment":50,"./node":68,"./paren":70}],58:[function(e,t){function r(e,t,n){"all"===(this.selector=e,this.option=t,this.index=n,this.object_id=r.next_id++,this.parent_ids=[this.object_id],t)?(this.allowBefore=!0,this.allowAfter=!0):(this.allowBefore=!1,this.allowAfter=!1)}e=e("./node");r.next_id=0,(r.prototype=new e).type="Extend",r.prototype.accept=function(e){this.selector=e.visit(this.selector)},r.prototype.eval=function(e){return new r(this.selector.eval(e),this.option,this.index)},r.prototype.clone=function(){return new r(this.selector,this.option,this.index)},r.prototype.findSelfSelectors=function(e){for(var t,n=[],r=0;e.length>r;r++)t=e[r].elements,0<r&&t.length&&""===t[0].combinator.value&&(t[0].combinator.value=" "),n=n.concat(e[r].elements);this.selfSelectors=[{elements:n}]},t.exports=r},{"./node":68}],59:[function(e,t){function r(e,t,n,r,o){this.options=n,this.index=r,this.path=e,this.features=t,this.currentFileInfo=o,void 0!==this.options.less||this.options.inline?this.css=!this.options.less||this.options.inline:(n=this.getPath())&&/[#\.\&\?\/]css([\?;].*)?$/.test(n)&&(this.css=!0)}var n=e("./node"),o=e("./media"),i=e("./url"),a=e("./quoted"),s=e("./ruleset"),l=e("./anonymous");(r.prototype=new n).type="Import",r.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.path=e.visit(this.path),this.options.plugin||this.options.inline||!this.root||(this.root=e.visit(this.root))},r.prototype.genCSS=function(e,t){this.css&&void 0===this.path.currentFileInfo.reference&&(t.add("@import ",this.currentFileInfo,this.index),this.path.genCSS(e,t),this.features&&(t.add(" "),this.features.genCSS(e,t)),t.add(";"))},r.prototype.getPath=function(){return(this.path instanceof i?this.path.value:this.path).value},r.prototype.isVariableImport=function(){var e=this.path;return!((e=e instanceof i?e.value:e)instanceof a)||e.containsVariables()},r.prototype.evalForImport=function(e){var t=this.path;return t instanceof i&&(t=t.value),new r(t.eval(e),this.features,this.options,this.index,this.currentFileInfo)},r.prototype.evalPath=function(e){var t,n=this.path.eval(e),r=this.currentFileInfo&&this.currentFileInfo.rootpath;return n instanceof i||(r&&(t=n.value)&&e.isPathRelative(t)&&(n.value=r+t),n.value=e.normalizePath(n.value)),n},r.prototype.eval=function(e){var t=this.features&&this.features.eval(e);if(this.options.plugin)return(n=e.frames[0]&&e.frames[0].functionRegistry)&&this.root&&this.root.functions&&n.addMultiple(this.root.functions),[];if(this.skip&&("function"==typeof this.skip&&(this.skip=this.skip()),this.skip))return[];if(this.options.inline)return n=new l(this.root,0,{filename:this.importedFilename},!0,!0),this.features?new o([n],this.features.value):[n];if(this.css){var n=new r(this.evalPath(e),t,this.options,this.index);if(!n.css&&this.error)throw this.error;return n}return(t=new s(null,this.root.rules.slice(0))).evalImports(e),this.features?new o(t.rules,this.features.value):t.rules},t.exports=r},{"./anonymous":44,"./media":64,"./node":68,"./quoted":71,"./ruleset":74,"./url":78}],60:[function(e,t){var n={};n.Node=e("./node"),n.Alpha=e("./alpha"),n.Color=e("./color"),n.Directive=e("./directive"),n.DetachedRuleset=e("./detached-ruleset"),n.Operation=e("./operation"),n.Dimension=e("./dimension"),n.Unit=e("./unit"),n.Keyword=e("./keyword"),n.Variable=e("./variable"),n.Ruleset=e("./ruleset"),n.Element=e("./element"),n.Attribute=e("./attribute"),n.Combinator=e("./combinator"),n.Selector=e("./selector"),n.Quoted=e("./quoted"),n.Expression=e("./expression"),n.Rule=e("./rule"),n.Call=e("./call"),n.URL=e("./url"),n.Import=e("./import"),n.mixin={Call:e("./mixin-call"),Definition:e("./mixin-definition")},n.Comment=e("./comment"),n.Anonymous=e("./anonymous"),n.Value=e("./value"),n.JavaScript=e("./javascript"),n.Assignment=e("./assignment"),n.Condition=e("./condition"),n.Paren=e("./paren"),n.Media=e("./media"),n.UnicodeDescriptor=e("./unicode-descriptor"),n.Negative=e("./negative"),n.Extend=e("./extend"),n.RulesetCall=e("./ruleset-call"),t.exports=n},{"./alpha":43,"./anonymous":44,"./assignment":45,"./attribute":46,"./call":47,"./color":48,"./combinator":49,"./comment":50,"./condition":51,"./detached-ruleset":53,"./dimension":54,"./directive":55,"./element":56,"./expression":57,"./extend":58,"./import":59,"./javascript":61,"./keyword":63,"./media":64,"./mixin-call":65,"./mixin-definition":66,"./negative":67,"./node":68,"./operation":69,"./paren":70,"./quoted":71,"./rule":72,"./ruleset":74,"./ruleset-call":73,"./selector":75,"./unicode-descriptor":76,"./unit":77,"./url":78,"./value":79,"./variable":80}],61:[function(e,t){function n(e,t,n,r){this.escaped=t,this.expression=e,this.index=n,this.currentFileInfo=r}var r=e("./js-eval-node"),o=e("./dimension"),i=e("./quoted"),a=e("./anonymous");(n.prototype=new r).type="JavaScript",n.prototype.eval=function(e){e=this.evaluateJavaScript(this.expression,e);return"number"==typeof e?new o(e):"string"==typeof e?new i('"'+e+'"',e,this.escaped,this.index):new a(Array.isArray(e)?e.join(", "):e)},t.exports=n},{"./anonymous":44,"./dimension":54,"./js-eval-node":62,"./quoted":71}],62:[function(e,t){function n(){}var r=e("./node"),s=e("./variable");(n.prototype=new r).evaluateJavaScript=function(t,n){var e,r=this,o={};if(void 0!==n.javascriptEnabled&&!n.javascriptEnabled)throw{message:"You are using JavaScript, which has been disabled.",filename:this.currentFileInfo.filename,index:this.index};t=t.replace(/@\{([\w-]+)\}/g,function(e,t){return r.jsify(new s("@"+t,r.index,r.currentFileInfo).eval(n))});try{t=new Function("return ("+t+")")}catch(e){throw{message:"JavaScript evaluation error: "+e.message+" from `"+t+"`",filename:this.currentFileInfo.filename,index:this.index}}var i,a=n.frames[0].variables();for(i in a)a.hasOwnProperty(i)&&(o[i.slice(1)]={value:a[i].value,toJS:function(){return this.value.eval(n).toCSS()}});try{e=t.call(o)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",filename:this.currentFileInfo.filename,index:this.index}}return e},n.prototype.jsify=function(e){return Array.isArray(e.value)&&1<e.value.length?"["+e.value.map(function(e){return e.toCSS()}).join(", ")+"]":e.toCSS()},t.exports=n},{"./node":68,"./variable":80}],63:[function(e,t){function n(e){this.value=e}e=e("./node");(n.prototype=new e).type="Keyword",n.prototype.genCSS=function(e,t){if("%"===this.value)throw{type:"Syntax",message:"Invalid % without number"};t.add(this.value)},n.True=new n("true"),n.False=new n("false"),t.exports=n},{"./node":68}],64:[function(e,t){function r(e,t,n,r){this.index=n,this.currentFileInfo=r,n=new a([],null,null,this.index,this.currentFileInfo).createEmptySelectors(),this.features=new i(t),this.rules=[new o(n,e)],this.rules[0].allowImports=!0}var o=e("./ruleset"),i=e("./value"),a=e("./selector"),s=e("./anonymous"),l=e("./expression"),e=e("./directive");(r.prototype=new e).type="Media",r.prototype.isRulesetLike=!0,r.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.rules&&(this.rules=e.visitArray(this.rules))},r.prototype.genCSS=function(e,t){t.add("@media ",this.currentFileInfo,this.index),this.features.genCSS(e,t),this.outputRuleset(e,t,this.rules)},r.prototype.eval=function(e){e.mediaBlocks||(e.mediaBlocks=[],e.mediaPath=[]);var t=new r(null,[],this.index,this.currentFileInfo),n=(this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,t.debugInfo=this.debugInfo),!1);e.strictMath||(e.strictMath=n=!0);try{t.features=this.features.eval(e)}finally{n&&(e.strictMath=!1)}return e.mediaPath.push(t),e.mediaBlocks.push(t),this.rules[0].functionRegistry=e.frames[0].functionRegistry.inherit(),e.frames.unshift(this.rules[0]),t.rules=[this.rules[0].eval(e)],e.frames.shift(),e.mediaPath.pop(),0===e.mediaPath.length?t.evalTop(e):t.evalNested(e)},r.prototype.evalTop=function(e){var t,n=this;return 1<e.mediaBlocks.length&&(t=new a([],null,null,this.index,this.currentFileInfo).createEmptySelectors(),(n=new o(t,e.mediaBlocks)).multiMedia=!0),delete e.mediaBlocks,delete e.mediaPath,n},r.prototype.evalNested=function(e){for(var t,n=e.mediaPath.concat([this]),r=0;n.length>r;r++)t=n[r].features instanceof i?n[r].features.value:n[r].features,n[r]=Array.isArray(t)?t:[t];return this.features=new i(this.permute(n).map(function(e){for(e=e.map(function(e){return e.toCSS?e:new s(e)}),r=e.length-1;0<r;r--)e.splice(r,0,new s("and"));return new l(e)})),new o([],[])},r.prototype.permute=function(e){if(0===e.length)return[];if(1===e.length)return e[0];for(var t=[],n=this.permute(e.slice(1)),r=0;n.length>r;r++)for(var o=0;e[0].length>o;o++)t.push([e[0][o]].concat(n[r]));return t},r.prototype.bubbleSelectors=function(e){e&&(this.rules=[new o(e.slice(0),[this.rules[0]])])},t.exports=r},{"./anonymous":44,"./directive":55,"./expression":57,"./ruleset":74,"./selector":75,"./value":79}],65:[function(e,t){function n(e,t,n,r,o){this.selector=new i(e),this.arguments=t&&t.length?t:null,this.index=n,this.currentFileInfo=r,this.important=o}var r=e("./node"),i=e("./selector"),k=e("./mixin-definition"),P=e("../functions/default");(n.prototype=new r).type="MixinCall",n.prototype.accept=function(e){this.selector&&(this.selector=e.visit(this.selector)),this.arguments&&(this.arguments=e.visitArray(this.arguments))},n.prototype.eval=function(o){for(var e,t,n,r,i,a,s,l,u,c,f,d,p=[],h=!1,m=[],v=[],g=-1,b=0,y=1,w=2,x=this.arguments&&this.arguments.map(function(e){return{name:e.name,value:e.value.eval(o)}}),C=function(e){return e.matchArgs(null,o)},S=0;o.frames.length>S;S++)if(0<(e=o.frames[S].find(this.selector,null,C)).length){for(s=!0,r=0;e.length>r;r++){for(t=e[r].rule,n=e[r].path,a=!1,i=0;o.frames.length>i;i++)if(!(t instanceof k)&&t===(o.frames[i].originalRuleset||o.frames[i])){a=!0;break}a||t.matchArgs(x,o)&&((u={mixin:t,group:function(e,t){var n,r;for(i=0;i<2;i++){for(v[i]=!0,P.value(i),n=0;t.length>n&&v[i];n++)(r=t[n]).matchCondition&&(v[i]=v[i]&&r.matchCondition(null,o));e.matchCondition&&(v[i]=v[i]&&e.matchCondition(x,o))}return v[0]||v[1]?v[0]!=v[1]?v[1]?y:w:b:g}(t,n)}).group!==g&&m.push(u),h=!0)}for(P.reset(),f=[0,0,0],r=0;r<m.length;r++)f[m[r].group]++;if(0<f[b])c=w;else if(1<f[c=y]+f[w])throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(x)+"`",index:this.index,filename:this.currentFileInfo.filename};for(r=0;r<m.length;r++)if((u=m[r].group)===b||u===c)try{(t=m[r].mixin)instanceof k||(d=t.originalRuleset||t,(t=new k("",[],t.rules,null,!1)).originalRuleset=d),Array.prototype.push.apply(p,t.evalCall(o,x,this.important).rules)}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack}}if(h){if(!this.currentFileInfo||!this.currentFileInfo.reference)for(S=0;S<p.length;S++)(l=p[S]).markReferenced&&l.markReferenced();return p}}throw s?{type:"Runtime",message:"No matching definition was found for `"+this.format(x)+"`",index:this.index,filename:this.currentFileInfo.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename}},n.prototype.format=function(e){return this.selector.toCSS().trim()+"("+(e?e.map(function(e){var t="";return e.name&&(t+=e.name+":"),t+(e.value.toCSS?e.value.toCSS():"???")}).join(", "):"")+")"},t.exports=n},{"../functions/default":19,"./mixin-definition":66,"./node":68,"./selector":75}],66:[function(e,t){function n(e,t,n,r,o,i){this.name=e,this.selectors=[new a([new s(null,e,this.index,this.currentFileInfo)])],this.params=t,this.condition=r,this.variadic=o,this.arity=t.length,this.rules=n,this._lookups={},this.required=t.reduce(function(e,t){return!t.name||t.name&&!t.value?e+1:e},0),this.frames=i}var a=e("./selector"),s=e("./element"),m=e("./ruleset"),v=e("./rule"),g=e("./expression"),b=e("../contexts");(n.prototype=new m).type="MixinDefinition",n.prototype.evalFirst=!0,n.prototype.accept=function(e){this.params&&this.params.length&&(this.params=e.visitArray(this.params)),this.rules=e.visitArray(this.rules),this.condition&&(this.condition=e.visit(this.condition))},n.prototype.evalParams=function(e,t,n,r){var o,i,a,s,l,u,c,f,d=new m(null,null),p=this.params.slice(0),h=0;if(t.frames&&t.frames[0]&&t.frames[0].functionRegistry&&(d.functionRegistry=t.frames[0].functionRegistry.inherit()),t=new b.Eval(t,[d].concat(t.frames)),n)for(h=(n=n.slice(0)).length,a=0;a<h;a++)if(u=(i=n[a])&&i.name){for(c=!1,s=0;p.length>s;s++)if(!r[s]&&u===p[s].name){r[s]=i.value.eval(e),d.prependRule(new v(u,i.value.eval(e))),c=!0;break}if(c){n.splice(a,1),a--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+n[a].name+" not found"}}for(a=f=0;p.length>a;a++)if(!r[a]){if(i=n&&n[f],u=p[a].name)if(p[a].variadic){for(o=[],s=f;s<h;s++)o.push(n[s].value.eval(e));d.prependRule(new v(u,new g(o).eval(e)))}else{if(l=i&&i.value)l=l.eval(e);else{if(!p[a].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+h+" for "+this.arity+")"};l=p[a].value.eval(t),d.resetCache()}d.prependRule(new v(u,l)),r[a]=l}if(p[a].variadic&&n)for(s=f;s<h;s++)r[s]=n[s].value.eval(e);f++}return d},n.prototype.makeImportant=function(){var e=this.rules&&this.rules.map(function(e){return e.makeImportant?e.makeImportant(!0):e});return new n(this.name,this.params,e,this.condition,this.variadic,this.frames)},n.prototype.eval=function(e){return new n(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||e.frames.slice(0))},n.prototype.evalCall=function(e,t,n){var r=[],o=this.frames?this.frames.concat(e.frames):e.frames,t=this.evalParams(e,new b.Eval(e,o),t,r);return t.prependRule(new v("@arguments",new g(r).eval(e))),r=this.rules.slice(0),(r=new m(null,r)).originalRuleset=this,r=r.eval(new b.Eval(e,[this,t].concat(o))),r=n?r.makeImportant():r},n.prototype.matchCondition=function(e,t){return!(this.condition&&!this.condition.eval(new b.Eval(t,[this.evalParams(t,new b.Eval(t,this.frames?this.frames.concat(t.frames):t.frames),e,[])].concat(this.frames||[]).concat(t.frames))))},n.prototype.matchArgs=function(e,t){var n=e&&e.length||0;if(this.variadic){if(this.required-1>n)return!1}else{if(this.required>n)return!1;if(n>this.params.length)return!1}for(var r=Math.min(n,this.arity),o=0;o<r;o++)if(!this.params[o].name&&!this.params[o].variadic&&e[o].value.eval(t).toCSS()!=this.params[o].value.eval(t).toCSS())return!1;return!0},t.exports=n},{"../contexts":10,"./element":56,"./expression":57,"./rule":72,"./ruleset":74,"./selector":75}],67:[function(e,t){function n(e){this.value=e}var r=e("./node"),o=e("./operation"),i=e("./dimension");(n.prototype=new r).type="Negative",n.prototype.genCSS=function(e,t){t.add("-"),this.value.genCSS(e,t)},n.prototype.eval=function(e){return e.isMathOn()?new o("*",[new i(-1),this.value]).eval(e):new n(this.value.eval(e))},t.exports=n},{"./dimension":54,"./node":68,"./operation":69}],68:[function(e,t){function r(){}r.prototype.toCSS=function(e){var t=[];return this.genCSS(e,{add:function(e){t.push(e)},isEmpty:function(){return 0===t.length}}),t.join("")},r.prototype.genCSS=function(e,t){t.add(this.value)},r.prototype.accept=function(e){this.value=e.visit(this.value)},r.prototype.eval=function(){return this},r.prototype._operate=function(e,t,n,r){switch(t){case"+":return n+r;case"-":return n-r;case"*":return n*r;case"/":return n/r}},r.prototype.fround=function(e,t){e=e&&e.numPrecision;return null==e?t:Number((t+2e-16).toFixed(e))},r.compare=function(e,t){if(e.compare&&"Quoted"!==t.type&&"Anonymous"!==t.type)return e.compare(t);if(t.compare)return-t.compare(e);if(e.type===t.type){if(e=e.value,t=t.value,!Array.isArray(e))return e===t?0:void 0;if(e.length===t.length){for(var n=0;e.length>n;n++)if(0!==r.compare(e[n],t[n]))return;return 0}}},r.numericCompare=function(e,t){return e<t?-1:e===t?0:t<e?1:void 0},t.exports=r},{}],69:[function(e,t){function r(e,t,n){this.op=e.trim(),this.operands=t,this.isSpaced=n}var n=e("./node"),o=e("./color"),i=e("./dimension");(r.prototype=new n).type="Operation",r.prototype.accept=function(e){this.operands=e.visit(this.operands)},r.prototype.eval=function(e){var t=this.operands[0].eval(e),n=this.operands[1].eval(e);if(e.isMathOn()){if(t instanceof i&&n instanceof o&&(t=t.toColor()),n instanceof i&&t instanceof o&&(n=n.toColor()),t.operate)return t.operate(e,this.op,n);throw{type:"Operation",message:"Operation on an invalid type"}}return new r(this.op,[t,n],this.isSpaced)},r.prototype.genCSS=function(e,t){this.operands[0].genCSS(e,t),this.isSpaced&&t.add(" "),t.add(this.op),this.isSpaced&&t.add(" "),this.operands[1].genCSS(e,t)},t.exports=r},{"./color":48,"./dimension":54,"./node":68}],70:[function(e,t){function n(e){this.value=e}e=e("./node");(n.prototype=new e).type="Paren",n.prototype.genCSS=function(e,t){t.add("("),this.value.genCSS(e,t),t.add(")")},n.prototype.eval=function(e){return new n(this.value.eval(e))},t.exports=n},{"./node":68}],71:[function(e,t){function o(e,t,n,r,o){this.escaped=null==n||n,this.value=t||"",this.quote=e.charAt(0),this.index=r,this.currentFileInfo=o}var n=e("./node"),r=e("./js-eval-node"),i=e("./variable");(o.prototype=new r).type="Quoted",o.prototype.genCSS=function(e,t){this.escaped||t.add(this.quote,this.currentFileInfo,this.index),t.add(this.value),this.escaped||t.add(this.quote)},o.prototype.containsVariables=function(){return this.value.match(/(`([^`]+)`)|@\{([\w-]+)\}/)},o.prototype.eval=function(n){function e(e,t,n){for(var r=e;r=(e=r).replace(t,n),e!==r;);return r}var r=this,t=e(this.value,/`([^`]+)`/g,function(e,t){return String(r.evaluateJavaScript(t,n))});return t=e(t,/@\{([\w-]+)\}/g,function(e,t){t=new i("@"+t,r.index,r.currentFileInfo).eval(n,!0);return t instanceof o?t.value:t.toCSS()}),new o(this.quote+t+this.quote,t,this.escaped,this.index,this.currentFileInfo)},o.prototype.compare=function(e){return"Quoted"!==e.type||this.escaped||e.escaped?e.toCSS&&this.toCSS()===e.toCSS()?0:void 0:n.numericCompare(this.value,e.value)},t.exports=o},{"./js-eval-node":62,"./node":68,"./variable":80}],72:[function(e,t){function s(e,t,n,r,o,i,a,s){this.name=e,this.value=t instanceof l?t:new u([t]),this.important=n?" "+n.trim():"",this.merge=r,this.index=o,this.currentFileInfo=i,this.inline=a||!1,this.variable=void 0!==s?s:e.charAt&&"@"===e.charAt(0)}var l=e("./node"),u=e("./value"),c=e("./keyword");(s.prototype=new l).type="Rule",s.prototype.genCSS=function(e,t){t.add(this.name+(e.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(e,t)}catch(e){throw e.index=this.index,e.filename=this.currentFileInfo.filename,e}t.add(this.important+(this.inline||e.lastRule&&e.compress?"":";"),this.currentFileInfo,this.index)},s.prototype.eval=function(e){var t,n,r,o=!1,i=this.name,a=this.variable;"string"!=typeof i&&(i=1===i.length&&i[0]instanceof c?i[0].value:function(e,t){for(var n="",r=t.length,o={add:function(e){n+=e}},i=0;i<r;i++)t[i].eval(e).genCSS(e,o);return n}(e,i),a=!1),"font"!==i||e.strictMath||(e.strictMath=o=!0);try{if(e.importantScope.push({}),t=this.value.eval(e),this.variable||"DetachedRuleset"!==t.type)return n=this.important,r=e.importantScope.pop(),!n&&r.important&&(n=r.important),new s(i,t,n,this.merge,this.index,this.currentFileInfo,this.inline,a);throw{message:"Rulesets cannot be evaluated on a property.",index:this.index,filename:this.currentFileInfo.filename}}catch(e){throw"number"!=typeof e.index&&(e.index=this.index,e.filename=this.currentFileInfo.filename),e}finally{o&&(e.strictMath=!1)}},s.prototype.makeImportant=function(){return new s(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)},t.exports=s},{"./keyword":63,"./node":68,"./value":79}],73:[function(e,t){function n(e){this.variable=e}var r=e("./node"),o=e("./variable");(n.prototype=new r).type="RulesetCall",n.prototype.eval=function(e){return new o(this.variable).eval(e).callEval(e)},t.exports=n},{"./node":68,"./variable":80}],74:[function(e,t){function g(e,t,n){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=n}var n=e("./node"),b=e("./rule"),I=e("./selector"),T=e("./element"),M=e("./paren"),r=e("../contexts"),y=e("../functions/function-registry"),w=e("../functions/default"),x=e("./debug-info");(g.prototype=new n).type="Ruleset",g.prototype.isRuleset=!0,g.prototype.isRulesetLike=!0,g.prototype.accept=function(e){this.paths?e.visitArray(this.paths,!0):this.selectors&&(this.selectors=e.visitArray(this.selectors)),this.rules&&this.rules.length&&(this.rules=e.visitArray(this.rules))},g.prototype.eval=function(e){var t,n,r,o=this.selectors,i=!1;if(o&&(n=o.length)){for(t=[],w.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),h=0;h<n;h++)r=o[h].eval(e),t.push(r),r.evaldCondition&&(i=!0);w.reset()}else i=!0;for(var a,s,l=this.rules?this.rules.slice(0):null,u=new g(t,l,this.strictImports),c=(u.originalRuleset=this,u.root=this.root,u.firstRoot=this.firstRoot,u.allowImports=this.allowImports,this.debugInfo&&(u.debugInfo=this.debugInfo),i||(l.length=0),u.functionRegistry=function(e){for(var t,n=0,r=e.length;n!==r;++n)if(t=e[n].functionRegistry)return t;return y}(e.frames).inherit(),e.frames),f=(c.unshift(u),e.selectors),d=(f||(e.selectors=f=[]),f.unshift(this.selectors),!u.root&&!u.allowImports&&u.strictImports||u.evalImports(e),u.rules),p=d?d.length:0,h=0;h<p;h++)d[h].evalFirst&&(d[h]=d[h].eval(e));var m=e.mediaBlocks&&e.mediaBlocks.length||0;for(h=0;h<p;h++)"MixinCall"===d[h].type?(l=d[h].eval(e).filter(function(e){return!(e instanceof b&&e.variable&&u.variable(e.name))}),d.splice.apply(d,[h,1].concat(l)),p+=l.length-1,h+=l.length-1,u.resetCache()):"RulesetCall"===d[h].type&&(l=d[h].eval(e).rules.filter(function(e){return!(e instanceof b&&e.variable)}),d.splice.apply(d,[h,1].concat(l)),p+=l.length-1,h+=l.length-1,u.resetCache());for(h=0;d.length>h;h++)(a=d[h]).evalFirst||(d[h]=a=a.eval?a.eval(e):a);for(h=0;d.length>h;h++)if((a=d[h])instanceof g&&a.selectors&&1===a.selectors.length&&a.selectors[0].isJustParentSelector()){d.splice(h--,1);for(var v=0;a.rules.length>v;v++)(s=a.rules[v])instanceof b&&s.variable||d.splice(++h,0,s)}if(c.shift(),f.shift(),e.mediaBlocks)for(h=m;e.mediaBlocks.length>h;h++)e.mediaBlocks[h].bubbleSelectors(t);return u},g.prototype.evalImports=function(e){var t,n,r=this.rules;if(r)for(t=0;r.length>t;t++)"Import"===r[t].type&&((n=r[t].eval(e))&&n.length?(r.splice.apply(r,[t,1].concat(n)),t+=n.length-1):r.splice(t,1,n),this.resetCache())},g.prototype.makeImportant=function(){return new g(this.selectors,this.rules.map(function(e){return e.makeImportant?e.makeImportant():e}),this.strictImports)},g.prototype.matchArgs=function(e){return!e||0===e.length},g.prototype.matchCondition=function(e,t){var n=this.selectors[this.selectors.length-1];return!(!n.evaldCondition||n.condition&&!n.condition.eval(new r.Eval(t,t.frames)))},g.prototype.resetCache=function(){this._rulesets=null,this._variables=null,this._lookups={}},g.prototype.variables=function(){return this._variables||(this._variables=this.rules?this.rules.reduce(function(e,t){if(t instanceof b&&!0===t.variable&&(e[t.name]=t),"Import"===t.type&&t.root&&t.root.variables){var n,r=t.root.variables();for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e},{}):{}),this._variables},g.prototype.variable=function(e){return this.variables()[e]},g.prototype.rulesets=function(){if(!this.rules)return[];for(var e,t=[],n=this.rules,r=n.length,o=0;o<r;o++)(e=n[o]).isRuleset&&t.push(e);return t},g.prototype.prependRule=function(e){var t=this.rules;t?t.unshift(e):this.rules=[e]},g.prototype.find=function(r,o,i){o=o||this;var a,s,l=[],e=r.toCSS();return e in this._lookups?this._lookups[e]:(this.rulesets().forEach(function(e){if(e!==o)for(var t=0;e.selectors.length>t;t++)if(a=r.match(e.selectors[t])){if(r.elements.length>a){if(!i||i(e)){s=e.find(new I(r.elements.slice(a)),o,i);for(var n=0;s.length>n;++n)s[n].path.push(e);Array.prototype.push.apply(l,s)}}else l.push({rule:e,path:[]});break}}),this._lookups[e]=l)},g.prototype.genCSS=function(e,t){var n,r,o,i,a=[];e.tabLevel=e.tabLevel||0,this.root||e.tabLevel++;var s,l=e.compress?"":Array(e.tabLevel+1).join("  "),u=e.compress?"":Array(e.tabLevel).join("  "),c=0,f=0;for(v=0;this.rules.length>v;v++)"Comment"===(o=this.rules[v]).type?(f===v&&f++,a.push(o)):o.isCharset&&o.isCharset()?(a.splice(c,0,o),c++,f++):"Import"===o.type?(a.splice(f,0,o),f++):a.push(o);if(a=[].concat(a),!this.root){(r=x(e,this,u))&&(t.add(r),t.add(u));for(var d,p=this.paths,h=p.length,m=e.compress?",":",\n"+u,v=0;v<h;v++)if(d=(i=p[v]).length)for(0<v&&t.add(m),e.firstSelector=!0,i[0].genCSS(e,t),e.firstSelector=!1,n=1;n<d;n++)i[n].genCSS(e,t);t.add((e.compress?"{":" {\n")+l)}for(v=0;a.length>v;v++){o=a[v],v+1===a.length&&(e.lastRule=!0);var g=e.lastRule;("boolean"==typeof(s=o).isRulesetLike?s.isRulesetLike:"function"==typeof s.isRulesetLike&&s.isRulesetLike())&&(e.lastRule=!1),o.genCSS?o.genCSS(e,t):o.value&&t.add(o.value.toString()),e.lastRule=g,e.lastRule?e.lastRule=!1:t.add(e.compress?"":"\n"+l)}this.root||(t.add(e.compress?"}":"\n"+u+"}"),e.tabLevel--),t.isEmpty()||e.compress||!this.firstRoot||t.add("\n")},g.prototype.markReferenced=function(){var e;if(this.selectors)for(e=0;this.selectors.length>e;e++)this.selectors[e].markReferenced();if(this.rules)for(e=0;this.rules.length>e;e++)this.rules[e].markReferenced&&this.rules[e].markReferenced()},g.prototype.getIsReferenced=function(){var e,t,n,r;if(this.paths)for(e=0;this.paths.length>e;e++)for(n=this.paths[e],t=0;n.length>t;t++)if(n[t].getIsReferenced&&n[t].getIsReferenced())return!0;if(this.selectors)for(e=0;this.selectors.length>e;e++)if((r=this.selectors[e]).getIsReferenced&&r.getIsReferenced())return!0;return!1},g.prototype.joinSelectors=function(e,t,n){for(var r=0;n.length>r;r++)this.joinSelector(e,t,n[r])},g.prototype.joinSelector=function(e,t,n){function A(e,t,n){for(var r,o,i,a,s,l,u=!1,c=[],f=[[]],d=0;n.elements.length>d;d++)if("&"!==(a=n.elements[d]).value){var p="Paren"!==(p=a).value.type||"Selector"!==(p=p.value.value).type?null:p;if(null!=p){_(c,f);for(var h=[],m=[],p=A(h,t,p),u=u||p,v=0;v<h.length;v++){b=function(e,t){var n;if(0===e.length)n=new M(e[0]);else{for(var r=[],o=0;e.length>o;o++)r.push(new T(null,e[o],t.index,t.currentFileInfo));n=new M(new I(r))}return n}(h[v],a),b=new T(null,b,a.index,a.currentFileInfo);var g,b=new I([b]),y=(k=g=S=C=x=w=y=void 0,f),w=[b],x=a,C=n,S=m;for(g=0;y.length>g;g++){var k=F(y[g],w,x,C);S.push(k)}}f=m,c=[]}else c.push(a)}else{for(u=!0,o=[],_(c,f),r=0;f.length>r;r++)if(i=f[r],0===t.length)0<i.length&&i[0].elements.push(new T(a.combinator,"",a.index,a.currentFileInfo)),o.push(i);else for(v=0;t.length>v;v++){var P=F(i,t[v],a,n);o.push(P)}f=o,c=[]}for(_(c,f),d=0;f.length>d;d++)0<(s=f[d].length)&&(e.push(f[d]),l=f[d][s-1],f[d][s-1]=l.createDerived(l.elements,n.extendList));return u}function F(e,t,n,r){var o,i=[],e=0<e.length?(e=(i=e.slice(0)).pop(),r.createDerived(e.elements.slice(0))):r.createDerived([]);return 0<t.length&&(r=n.combinator,o=t[0].elements[0],r.emptyOrWhitespace&&!o.combinator.emptyOrWhitespace&&(r=o.combinator),e.elements.push(new T(r,o.value,n.index,n.currentFileInfo)),e.elements=e.elements.concat(t[0].elements.slice(1))),0!==e.elements.length&&i.push(e),i=1<t.length?i.concat(t.slice(1)):i}function _(e,t){var n,r;if(0!==e.length){if(0===t.length)return t.push([new I(e)]);for(n=0;t.length>n;n++)0<(r=t[n]).length?r[r.length-1]=r[r.length-1].createDerived(r[r.length-1].elements.concat(e)):r.push(new I(e))}}var r,o=[];if(!A(o,t,n))if(0<t.length)for(o=[],r=0;t.length>r;r++)o.push(t[r].concat(n));else o=[[n]];for(r=0;o.length>r;r++)e.push(o[r])},t.exports=g},{"../contexts":10,"../functions/default":19,"../functions/function-registry":21,"./debug-info":52,"./element":56,"./node":68,"./paren":70,"./rule":72,"./selector":75}],75:[function(e,t){function r(e,t,n,r,o,i){this.elements=e,this.extendList=t,this.condition=n,this.currentFileInfo=o||{},this.isReferenced=i,n||(this.evaldCondition=!0)}var n=e("./node"),o=e("./element");(r.prototype=new n).type="Selector",r.prototype.accept=function(e){this.elements&&(this.elements=e.visitArray(this.elements)),this.extendList&&(this.extendList=e.visitArray(this.extendList)),this.condition&&(this.condition=e.visit(this.condition))},r.prototype.createDerived=function(e,t,n){n=null!=n?n:this.evaldCondition;e=new r(e,t||this.extendList,null,this.index,this.currentFileInfo,this.isReferenced);return e.evaldCondition=n,e.mediaEmpty=this.mediaEmpty,e},r.prototype.createEmptySelectors=function(){var e=new o("","&",this.index,this.currentFileInfo),e=[new r([e],null,null,this.index,this.currentFileInfo)];return e[0].mediaEmpty=!0,e},r.prototype.match=function(e){var t,n,r=this.elements,o=r.length;if(e.CacheElements(),0===(t=e._elements.length)||o<t)return 0;for(n=0;n<t;n++)if(r[n].value!==e._elements[n])return 0;return t},r.prototype.CacheElements=function(){var e;this._elements||((e=this.elements.map(function(e){return e.combinator.value+(e.value.value||e.value)}).join("").match(/[,&#\*\.\w-]([\w-]|(\\.))*/g))?"&"===e[0]&&e.shift():e=[],this._elements=e)},r.prototype.isJustParentSelector=function(){return!this.mediaEmpty&&1===this.elements.length&&"&"===this.elements[0].value&&(" "===this.elements[0].combinator.value||""===this.elements[0].combinator.value)},r.prototype.eval=function(t){var e=this.condition&&this.condition.eval(t),n=this.elements,r=this.extendList,n=n&&n.map(function(e){return e.eval(t)}),r=r&&r.map(function(e){return e.eval(t)});return this.createDerived(n,r,e)},r.prototype.genCSS=function(e,t){var n;if(e&&e.firstSelector||""!==this.elements[0].combinator.value||t.add(" ",this.currentFileInfo,this.index),!this._css)for(n=0;this.elements.length>n;n++)this.elements[n].genCSS(e,t)},r.prototype.markReferenced=function(){this.isReferenced=!0},r.prototype.getIsReferenced=function(){return!this.currentFileInfo.reference||this.isReferenced},r.prototype.getIsOutput=function(){return this.evaldCondition},t.exports=r},{"./element":56,"./node":68}],76:[function(e,t){function n(e){this.value=e}e=e("./node");(n.prototype=new e).type="UnicodeDescriptor",t.exports=n},{"./node":68}],77:[function(e,t){function n(e,t,n){this.numerator=e?e.slice(0).sort():[],this.denominator=t?t.slice(0).sort():[],n?this.backupUnit=n:e&&e.length&&(this.backupUnit=e[0])}var r=e("./node"),o=e("../data/unit-conversions");(n.prototype=new r).type="Unit",n.prototype.clone=function(){return new n(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},n.prototype.genCSS=function(e,t){e=e&&e.strictUnits;1===this.numerator.length?t.add(this.numerator[0]):!e&&this.backupUnit?t.add(this.backupUnit):!e&&this.denominator.length&&t.add(this.denominator[0])},n.prototype.toString=function(){for(var e=this.numerator.join("*"),t=0;this.denominator.length>t;t++)e+="/"+this.denominator[t];return e},n.prototype.compare=function(e){return this.is(e.toString())?0:void 0},n.prototype.is=function(e){return this.toString().toUpperCase()===e.toUpperCase()},n.prototype.isLength=function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},n.prototype.isEmpty=function(){return 0===this.numerator.length&&0===this.denominator.length},n.prototype.isSingular=function(){return this.numerator.length<=1&&0===this.denominator.length},n.prototype.map=function(e){for(var t=0;this.numerator.length>t;t++)this.numerator[t]=e(this.numerator[t],!1);for(t=0;this.denominator.length>t;t++)this.denominator[t]=e(this.denominator[t],!0)},n.prototype.usedUnits=function(){var t,n,r={},e=function(e){return t.hasOwnProperty(e)&&!r[n]&&(r[n]=e),e};for(n in o)o.hasOwnProperty(n)&&(t=o[n],this.map(e));return r},n.prototype.cancel=function(){for(var e,t={},n=0;this.numerator.length>n;n++)t[e=this.numerator[n]]=(t[e]||0)+1;for(n=0;this.denominator.length>n;n++)t[e=this.denominator[n]]=(t[e]||0)-1;for(e in this.numerator=[],this.denominator=[],t)if(t.hasOwnProperty(e)){var r=t[e];if(0<r)for(n=0;n<r;n++)this.numerator.push(e);else if(r<0)for(n=0;n<-r;n++)this.denominator.push(e)}this.numerator.sort(),this.denominator.sort()},t.exports=n},{"../data/unit-conversions":13,"./node":68}],78:[function(e,t){function r(e,t,n,r){this.value=e,this.currentFileInfo=n,this.index=t,this.isEvald=r}e=e("./node");(r.prototype=new e).type="Url",r.prototype.accept=function(e){this.value=e.visit(this.value)},r.prototype.genCSS=function(e,t){t.add("url("),this.value.genCSS(e,t),t.add(")")},r.prototype.eval=function(e){var t,n=this.value.eval(e);return this.isEvald||((t=this.currentFileInfo&&this.currentFileInfo.rootpath)&&"string"==typeof n.value&&e.isPathRelative(n.value)&&(n.quote||(t=t.replace(/[\(\)'"\s]/g,function(e){return"\\"+e})),n.value=t+n.value),n.value=e.normalizePath(n.value),!e.urlArgs)||n.value.match(/^\s*data:/)||(t=(-1===n.value.indexOf("?")?"?":"&")+e.urlArgs,-1!==n.value.indexOf("#")?n.value=n.value.replace("#",t+"#"):n.value+=t),new r(n,this.index,this.currentFileInfo,!0)},t.exports=r},{"./node":68}],79:[function(e,t){function n(e){if(!(this.value=e))throw new Error("Value requires an array argument")}e=e("./node");(n.prototype=new e).type="Value",n.prototype.accept=function(e){this.value&&(this.value=e.visitArray(this.value))},n.prototype.eval=function(t){return 1===this.value.length?this.value[0].eval(t):new n(this.value.map(function(e){return e.eval(t)}))},n.prototype.genCSS=function(e,t){for(var n=0;this.value.length>n;n++)this.value[n].genCSS(e,t),this.value.length>n+1&&t.add(e&&e.compress?",":", ")},t.exports=n},{"./node":68}],80:[function(e,t){function r(e,t,n){this.name=e,this.index=t,this.currentFileInfo=n||{}}e=e("./node");(r.prototype=new e).type="Variable",r.prototype.eval=function(t){var e,n=this.name;if(0===n.indexOf("@@")&&(n="@"+new r(n.slice(1),this.index,this.currentFileInfo).eval(t).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+n,filename:this.currentFileInfo.filename,index:this.index};if(this.evaluating=!0,e=this.find(t.frames,function(e){e=e.variable(n);if(e)return e.important&&(t.importantScope[t.importantScope.length-1].important=e.important),e.value.eval(t)}))return this.evaluating=!1,e;throw{type:"Name",message:"variable "+n+" is undefined",filename:this.currentFileInfo.filename,index:this.index}},r.prototype.find=function(e,t){for(var n,r=0;e.length>r;r++)if(n=t.call(e,e[r]))return n;return null},t.exports=r},{"./node":68}],81:[function(e,t){t.exports={getLocation:function(e,t){for(var n=e+1,r=null,o=-1;0<=--n&&"\n"!==t.charAt(n);)o++;return{line:r="number"==typeof e?(t.slice(0,e).match(/\n/g)||"").length:r,column:o}}}},{}],82:[function(e,t){function n(){this._visitor=new o(this),this.contexts=[],this.allExtendsStack=[[]]}function r(){this._visitor=new o(this)}var m=e("../tree"),o=e("./visitor"),i=e("../logger");n.prototype={run:function(e){return(e=this._visitor.visit(e)).allExtends=this.allExtendsStack[0],e},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e){if(!e.root){for(var t,n,r=[],o=e.rules,i=o?o.length:0,a=0;a<i;a++)e.rules[a]instanceof m.Extend&&(r.push(o[a]),e.extendOnEveryPath=!0);var s=e.paths;for(a=0;s.length>a;a++){var l,u=s[a],c=u[u.length-1].extendList;for(l=(l=c?c.slice(0).concat(r):r)&&l.map(function(e){return e.clone()}),t=0;l.length>t;t++)this.foundExtends=!0,(n=l[t]).findSelfSelectors(u),n.ruleset=e,0===t&&(n.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(n)}this.contexts.push(e.selectors)}},visitRulesetOut:function(e){e.root||(this.contexts.length=this.contexts.length-1)},visitMedia:function(e){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitMediaOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitDirectiveOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1}};r.prototype={run:function(e){var t=new n;if(this.extendIndicies={},t.run(e),!t.foundExtends)return e;e.allExtends=e.allExtends.concat(this.doExtendChaining(e.allExtends,e.allExtends)),this.allExtendsStack=[e.allExtends];t=this._visitor.visit(e);return this.checkExtendsForNonMatched(e.allExtends),t},checkExtendsForNonMatched:function(e){var n=this.extendIndicies;e.filter(function(e){return!e.hasFoundMatches&&1==e.parent_ids.length}).forEach(function(e){var t="_unknown_";try{t=e.selector.toCSS({})}catch(e){}n[e.index+" "+t]||(n[e.index+" "+t]=!0,i.warn("extend '"+t+"' has no matches"))})},doExtendChaining:function(e,t,n){var r,o,i,a,s,l,u,c,f=[],d=this;for(n=n||0,r=0;e.length>r;r++)for(o=0;t.length>o;o++)l=e[r],u=t[o],0<=l.parent_ids.indexOf(u.object_id)||(s=[u.selfSelectors[0]],(i=d.findMatch(l,s)).length&&(l.hasFoundMatches=!0,l.selfSelectors.forEach(function(e){a=d.extendSelector(i,s,e),((c=new m.Extend(u.selector,u.option,0)).selfSelectors=a)[a.length-1].extendList=[c],f.push(c),c.ruleset=u.ruleset,c.parent_ids=c.parent_ids.concat(u.parent_ids,l.parent_ids),u.firstExtendOnThisSelectorPath&&(c.firstExtendOnThisSelectorPath=!0,u.ruleset.paths.push(a))})));if(f.length){if(this.extendChainCount++,100<n){var p="{unable to calculate}",h="{unable to calculate}";try{p=f[0].selfSelectors[0].toCSS(),h=f[0].selector.toCSS()}catch(e){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+p+":extend("+h+")"}}return f.concat(d.doExtendChaining(f,t,n+1))}return f},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitSelector:function(e,t){t.visitDeeper=!1},visitRuleset:function(e){if(!e.root){for(var t,n,r=this.allExtendsStack[this.allExtendsStack.length-1],o=[],i=this,a=0;r.length>a;a++)for(n=0;e.paths.length>n;n++){var s,l=e.paths[n];e.extendOnEveryPath||(s=l[l.length-1].extendList)&&s.length||(t=this.findMatch(r[a],l)).length&&(r[a].hasFoundMatches=!0,r[a].selfSelectors.forEach(function(e){o.push(i.extendSelector(t,l,e))}))}e.paths=e.paths.concat(o)}},findMatch:function(e,t){for(var n,r,o,i,a,s,l=e.selector.elements,u=[],c=[],f=0;t.length>f;f++)for(n=t[f],r=0;n.elements.length>r;r++)for(o=n.elements[r],(e.allowBefore||0===f&&0===r)&&u.push({pathIndex:f,index:r,matched:0,initialCombinator:o.combinator}),a=0;a<u.length;a++)""===(i=o.combinator.value)&&0===r&&(i=" "),!this.isElementValuesEqual(l[(s=u[a]).matched].value,o.value)||0<s.matched&&l[s.matched].combinator.value!==i?s=null:s.matched++,(s=s&&(s.finished=s.matched===l.length,s.finished)&&!e.allowAfter&&(n.elements.length>r+1||t.length>f+1)?null:s)?s.finished&&(s.length=l.length,s.endPathIndex=f,s.endPathElementIndex=r+1,u.length=0,c.push(s)):(u.splice(a,1),a--);return c},isElementValuesEqual:function(e,t){if("string"==typeof e||"string"==typeof t)return e===t;if(e instanceof m.Attribute)return e.op===t.op&&e.key===t.key&&(e.value&&t.value?(e=e.value.value||e.value)===(t=t.value.value||t.value):!e.value&&!t.value);if(e=e.value,t=t.value,e instanceof m.Selector){if(!(t instanceof m.Selector)||e.elements.length!==t.elements.length)return!1;for(var n=0;e.elements.length>n;n++){if(e.elements[n].combinator.value!==t.elements[n].combinator.value&&(0!==n||(e.elements[n].combinator.value||" ")!==(t.elements[n].combinator.value||" ")))return!1;if(!this.isElementValuesEqual(e.elements[n].value,t.elements[n].value))return!1}return!0}return!1},extendSelector:function(e,t,n){for(var r,o,i,a=0,s=0,l=[],u=0;e.length>u;u++)i=t[(o=e[u]).pathIndex],r=new m.Element(o.initialCombinator,n.elements[0].value,n.elements[0].index,n.elements[0].currentFileInfo),o.pathIndex>a&&0<s&&(l[l.length-1].elements=l[l.length-1].elements.concat(t[a].elements.slice(s)),s=0,a++),i=i.elements.slice(s,o.index).concat([r]).concat(n.elements.slice(1)),a===o.pathIndex&&0<u?l[l.length-1].elements=l[l.length-1].elements.concat(i):(l=l.concat(t.slice(a,o.pathIndex))).push(new m.Selector(i)),a=o.endPathIndex,(s=o.endPathElementIndex)>=t[a].elements.length&&(s=0,a++);return t.length>a&&0<s&&(l[l.length-1].elements=l[l.length-1].elements.concat(t[a].elements.slice(s)),a++),l.concat(t.slice(a,t.length))},visitRulesetOut:function(){},visitMedia:function(e){var t=(t=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1])).concat(this.doExtendChaining(t,e.allExtends));this.allExtendsStack.push(t)},visitMediaOut:function(){var e=this.allExtendsStack.length-1;this.allExtendsStack.length=e},visitDirective:function(e){var t=(t=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1])).concat(this.doExtendChaining(t,e.allExtends));this.allExtendsStack.push(t)},visitDirectiveOut:function(){var e=this.allExtendsStack.length-1;this.allExtendsStack.length=e}},t.exports=r},{"../logger":31,"../tree":60,"./visitor":88}],83:[function(e,t){function n(e){this.imports=[],this.variableImports=[],this._onSequencerEmpty=e,this._currentDepth=0}n.prototype.addImport=function(e){var t=this,n={callback:e,args:null,isReady:!1};return this.imports.push(n),function(){n.args=Array.prototype.slice.call(arguments,0),n.isReady=!0,t.tryRun()}},n.prototype.addVariableImport=function(e){this.variableImports.push(e)},n.prototype.tryRun=function(){this._currentDepth++;try{for(;;){for(;0<this.imports.length;){var e=this.imports[0];if(!e.isReady)return;this.imports=this.imports.slice(1),e.callback.apply(null,e.args)}if(0===this.variableImports.length)break;var t=this.variableImports[0];this.variableImports=this.variableImports.slice(1),t()}}finally{this._currentDepth--}0===this._currentDepth&&this._onSequencerEmpty&&this._onSequencerEmpty()},t.exports=n},{}],84:[function(e,t){function n(e,t){this._visitor=new r(this),this._importer=e,this._finish=t,this.context=new o.Eval,this.importCount=0,this.onceFileDetectionMap={},this.recursionDetector={},this._sequencer=new i(this._onSequencerEmpty.bind(this))}var o=e("../contexts"),r=e("./visitor"),i=e("./import-sequencer");n.prototype={isReplacing:!1,run:function(e){try{this._visitor.visit(e)}catch(e){this.error=e}this.isFinished=!0,this._sequencer.tryRun()},_onSequencerEmpty:function(){this.isFinished&&this._finish(this.error)},visitImport:function(e,t){var n,r=e.options.inline;e.css&&!r||(n=(r=new o.Eval(this.context,this.context.frames.slice(0))).frames[0],this.importCount++,e.isVariableImport()?this._sequencer.addVariableImport(this.processImportNode.bind(this,e,r,n)):this.processImportNode(e,r,n)),t.visitDeeper=!1},processImportNode:function(t,e,n){var r,o=t.options.inline;try{r=t.evalForImport(e)}catch(e){e.filename||(e.index=t.index,e.filename=t.currentFileInfo.filename),t.css=!0,t.error=e}if(!r||r.css&&!o)this.importCount--,this.isFinished&&this._sequencer.tryRun();else{r.options.multiple&&(e.importMultiple=!0);for(var o=void 0===r.css,i=0;n.rules.length>i;i++)if(n.rules[i]===t){n.rules[i]=r;break}e=this.onImported.bind(this,r,e),e=this._sequencer.addImport(e);this._importer.push(r.getPath(),o,r.currentFileInfo,r.options,e)}},onImported:function(e,t,n,r,o,i){n&&(n.filename||(n.index=e.index,n.filename=e.currentFileInfo.filename),this.error=n);var a=this,s=e.options.inline,l=e.options.plugin,o=o||i in a.recursionDetector;if(t.importMultiple||(e.skip=!!o||function(){return i in a.onceFileDetectionMap||!(a.onceFileDetectionMap[i]=!0)}),r&&(e.root=r,e.importedFilename=i,!(s||l||!t.importMultiple&&o))){a.recursionDetector[i]=!0;e=this.context;this.context=t;try{this._visitor.visit(r)}catch(n){this.error=n}this.context=e}a.importCount--,a.isFinished&&a._sequencer.tryRun()},visitRule:function(e,t){"DetachedRuleset"===e.value.type?this.context.frames.unshift(e):t.visitDeeper=!1},visitRuleOut:function(e){"DetachedRuleset"===e.value.type&&this.context.frames.shift()},visitDirective:function(e){this.context.frames.unshift(e)},visitDirectiveOut:function(){this.context.frames.shift()},visitMixinDefinition:function(e){this.context.frames.unshift(e)},visitMixinDefinitionOut:function(){this.context.frames.shift()},visitRuleset:function(e){this.context.frames.unshift(e)},visitRulesetOut:function(){this.context.frames.shift()},visitMedia:function(e){this.context.frames.unshift(e.rules[0])},visitMediaOut:function(){this.context.frames.shift()}},t.exports=n},{"../contexts":10,"./import-sequencer":83,"./visitor":88}],85:[function(e,t){e={Visitor:e("./visitor"),ImportVisitor:e("./import-visitor"),ExtendVisitor:e("./extend-visitor"),JoinSelectorVisitor:e("./join-selector-visitor"),ToCSSVisitor:e("./to-css-visitor")};t.exports=e},{"./extend-visitor":82,"./import-visitor":84,"./join-selector-visitor":86,"./to-css-visitor":87,"./visitor":88}],86:[function(e,t){function n(){this.contexts=[[]],this._visitor=new r(this)}var r=e("./visitor");n.prototype={run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e){var t,n=this.contexts[this.contexts.length-1],r=[];this.contexts.push(r),e.root||((t=e.selectors)&&(t=t.filter(function(e){return e.getIsOutput()}),e.selectors=t.length?t:t=null,t)&&e.joinSelectors(r,n,t),t||(e.rules=null),e.paths=r)},visitRulesetOut:function(){this.contexts.length=this.contexts.length-1},visitMedia:function(e){var t=this.contexts[this.contexts.length-1];e.rules[0].root=0===t.length||t[0].multiMedia},visitDirective:function(e){var t=this.contexts[this.contexts.length-1];e.rules&&e.rules.length&&(e.rules[0].root=e.isRooted||0===t.length||null)}},t.exports=n},{"./visitor":88}],87:[function(e,t){function n(e){this._visitor=new r(this),this._context=e}var s=e("../tree"),r=e("./visitor");n.prototype={isReplacing:!0,run:function(e){return this._visitor.visit(e)},visitRule:function(e){return e.variable?void 0:e},visitMixinDefinition:function(e){e.frames=[]},visitExtend:function(){},visitComment:function(e){return e.isSilent(this._context)?void 0:e},visitMedia:function(e,t){return e.accept(this._visitor),t.visitDeeper=!1,e.rules.length?e:void 0},visitImport:function(e){return void 0!==e.path.currentFileInfo.reference&&e.css?void 0:e},visitDirective:function(e,t){if("@charset"===e.name){if(!e.getIsReferenced())return;var n;if(this.charset)return e.debugInfo?((n=new s.Comment("/* "+e.toCSS(this._context).replace(/\n/g,"")+" */\n")).debugInfo=e.debugInfo,this._visitor.visit(n)):void 0;this.charset=!0}return e.rules&&e.rules.length?(this._mergeRules(e.rules[0].rules),e.accept(this._visitor),t.visitDeeper=!1,e.getIsReferenced()?e:e.rules&&e.rules.length&&function(e){var t,n=e.rules;1!==n.length||n[0].paths&&0!==n[0].paths.length||(n=n[0].rules);for(var r=0;n.length>r;r++)if((t=n[r]).getIsReferenced&&t.getIsReferenced())return 1}(e)?(e.markReferenced(),e):void 0):e.getIsReferenced()?e:void 0},checkPropertiesInRoot:function(e){for(var t,n=0;e.length>n;n++)if((t=e[n])instanceof s.Rule&&!t.variable)throw{message:"properties must be inside selector blocks, they cannot be in the root.",index:t.index,filename:t.currentFileInfo?t.currentFileInfo.filename:null}},visitRuleset:function(e,t){var n,r=[];if(e.firstRoot&&this.checkPropertiesInRoot(e.rules),e.root)e.accept(this._visitor),t.visitDeeper=!1,(e.firstRoot||e.rules&&0<e.rules.length)&&r.splice(0,0,e);else{e.paths&&(e.paths=e.paths.filter(function(e){var t;for(" "===e[0].elements[0].combinator.value&&(e[0].elements[0].combinator=new s.Combinator("")),t=0;e.length>t;t++)if(e[t].getIsReferenced()&&e[t].getIsOutput())return!0;return!1}));for(var o=e.rules,i=o?o.length:0,a=0;a<i;)(n=o[a])&&n.rules?(r.push(this._visitor.visit(n)),o.splice(a,1),i--):a++;0<i?e.accept(this._visitor):e.rules=null,t.visitDeeper=!1,(o=e.rules)&&(this._mergeRules(o),o=e.rules),o&&(this._removeDuplicateRules(o),o=e.rules),o&&0<o.length&&0<e.paths.length&&r.splice(0,0,e)}return 1===r.length?r[0]:r},_removeDuplicateRules:function(e){if(e)for(var t,n,r,o={},i=e.length-1;0<=i;i--)(r=e[i])instanceof s.Rule&&(o[r.name]?((t=o[r.name])instanceof s.Rule&&(t=o[r.name]=[o[r.name].toCSS(this._context)]),n=r.toCSS(this._context),-1!==t.indexOf(n)?e.splice(i,1):t.push(n)):o[r.name]=r)},_mergeRules:function(e){if(e){for(var o,i,t,a={},n=0;e.length>n;n++)(i=e[n])instanceof s.Rule&&i.merge&&(t=[i.name,i.important?"!":""].join(","),a[t]?e.splice(n--,1):a[t]=[],a[t].push(i));Object.keys(a).map(function(e){function t(e){return new s.Expression(e.map(function(e){return e.value}))}var n,r;1<(o=a[e]).length&&(i=o[0],n=[],r=[],o.map(function(e){"+"===e.merge&&(0<r.length&&n.push(t(r)),r=[]),r.push(e)}),n.push(t(r)),i.value=new s.Value(n.map(function(e){return e})))})}}},t.exports=n},{"../tree":60,"./visitor":88}],88:[function(e,t){function u(e){return e}function n(e){this._implementation=e,this._visitFnCache=[],o||(function e(t,n){var r,o;for(r in t)if(t.hasOwnProperty(r))switch(o=t[r],typeof o){case"function":o.prototype&&o.prototype.type&&(o.prototype.typeIndex=n++);break;case"object":n=e(o,n)}return n}(r,1),o=!0)}var r=e("../tree"),c={visitDeeper:!0},o=!1;n.prototype={visit:function(e){var t,n,r,o,i,a,s,l;return e&&(r=e.typeIndex)&&(t=this._visitFnCache,n=this._implementation,i=t[r=r<<1],a=t[o=1|r],(s=c).visitDeeper=!0,i||(i=n[l="visit"+e.type]||u,a=n[l+"Out"]||u,t[r]=i,t[o]=a),i!==u&&(l=i.call(n,e,s),n.isReplacing)&&(e=l),s.visitDeeper&&e&&e.accept&&e.accept(this),a!=u)&&a.call(n,e),e},visitArray:function(e,t){if(!e)return e;var n=e.length;if(t||!this._implementation.isReplacing){for(o=0;o<n;o++)this.visit(e[o]);return e}for(var r=[],o=0;o<n;o++){var i=this.visit(e[o]);void 0!==i&&(i.splice?i.length&&this.flatten(i,r):r.push(i))}return r},flatten:function(e,t){var n,r,o,i,a,s;for(t=t||[],r=0,n=e.length;r<n;r++)if(void 0!==(o=e[r]))if(o.splice)for(a=0,i=o.length;a<i;a++)void 0!==(s=o[a])&&(s.splice?s.length&&this.flatten(s,t):t.push(s));else t.push(o);return t}},t.exports=n},{"../tree":60}],89:[function(e,t){function n(){if(!i){i=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}i=!1}}function r(){}var t=t.exports={},o=[],i=!1;t.nextTick=function(e){o.push(e),i||setTimeout(n,0)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=r,t.addListener=r,t.once=r,t.off=r,t.removeListener=r,t.removeAllListeners=r,t.emit=r,t.binding=function(){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],90:[function(e,t){function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function f(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){r||(r=!0,n(e))}}var d=e("asap");t.exports=function(e){function o(n){null===a?l.push(n):d(function(){var e,t=a?n.onFulfilled:n.onRejected;if(null===t)(a?n.resolve:n.reject)(s);else{try{e=t(s)}catch(e){return void n.reject(e)}n.resolve(e)}})}function r(e){a=!1,s=e,i()}function i(){for(var e=0,t=l.length;e<t;e++)o(l[e]);l=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var a=null,s=null,l=[],u=this;this.then=function(n,r){return new u.constructor(function(e,t){o(new c(n,r,e,t))})},f(e,function e(t){try{if(t===u)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void f(n.bind(t),e,r)}a=!0,s=t,i()}catch(e){r(e)}},r)}},{asap:92}],91:[function(e,t){function n(r){this.then=function(n){return"function"!=typeof n?this:new o(function(e,t){i(function(){try{e(n(r))}catch(e){t(e)}})})}}var o=e("./core.js"),i=e("asap"),r=(t.exports=o,n.prototype=o.prototype,new n(!0)),a=new n(!1),s=new n(null),l=new n(void 0),u=new n(0),c=new n("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return s;if(void 0===e)return l;if(!0===e)return r;if(!1===e)return a;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(n){return new o(function(e,t){t(n)})}return new n(e)},o.all=function(e){var s=Array.prototype.slice.call(e);return new o(function(o,i){if(0===s.length)return o([]);for(var a=s.length,e=0;s.length>e;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(e){t(n,e)},i)}s[n]=e,0==--a&&o(s)}catch(e){i(e)}}(e,s[e])})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":90,asap:92}],92:[function(e,l){!function(t){function n(){for(;r.next;){var e=(r=r.next).task,t=(r.task=void 0,r.domain);t&&(r.domain=void 0,t.enter());try{e()}catch(e){if(s)throw t&&t.exit(),setTimeout(n,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}i=!1}var e,r={task:void 0,next:null},o=r,i=!1,a=void 0,s=!1,a=void 0!==t&&t.nextTick?(s=!0,function(){t.nextTick(n)}):"function"==typeof u?"undefined"!=typeof window?u.bind(window,n):function(){u(n)}:"undefined"!=typeof MessageChannel?((e=new MessageChannel).port1.onmessage=n,function(){e.port2.postMessage(0)}):function(){setTimeout(n,0)};l.exports=function(e){o=o.next={task:e,domain:s&&t.domain,next:null},i||(i=!0,a())}}.call(this,e("_process"))},{_process:89}],93:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})})},{}],94:[function(e){e("asap"),"undefined"==typeof Promise&&(Promise=e("./lib/core.js"),e("./lib/es6-extensions.js")),e("./polyfill-done.js")},{"./lib/core.js":90,"./lib/es6-extensions.js":91,"./polyfill-done.js":93,asap:92}]},{},[2])(2)}.call(this,n(6).setImmediate)},function(e,o,i){!function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}o.setTimeout=function(){return new r(n.call(setTimeout,t,arguments),clearTimeout)},o.setInterval=function(){return new r(n.call(setInterval,t,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(t,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(7),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}.call(this,i(1))},function(e,t,n){!function(e,t){function i(e){delete l[e]}function a(e){if(u)setTimeout(a,0,e);else{var t=l[e];if(t){u=!0;try{var n=t,r=n.callback,o=n.args;switch(o.length){case 0:r();break;case 1:r(o[0]);break;case 2:r(o[0],o[1]);break;case 3:r(o[0],o[1],o[2]);break;default:r.apply(s,o)}}finally{i(e),u=!1}}}}function n(){function e(e){e.source===r&&"string"==typeof e.data&&0===e.data.indexOf(t)&&a(+e.data.slice(t.length))}var t="setImmediate$"+Math.random()+"$";r.addEventListener?r.addEventListener("message",e,!1):r.attachEvent("onmessage",e),f=function(e){r.postMessage(t+e,"*")}}var r,s,o,l,u,c,f,d,p;(r="undefined"==typeof self?void 0===e?this:e:self).setImmediate||(o=1,u=!(l={}),c=r.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(r))&&e.setTimeout?e:r,"[object process]"==={}.toString.call(r.process)?f=function(e){t.nextTick(function(){a(e)})}:!function(){var e,t;if(r.postMessage&&!r.importScripts)return e=!0,t=r.onmessage,r.onmessage=function(){e=!1},r.postMessage("","*"),r.onmessage=t,e}()?f=r.MessageChannel?((p=new MessageChannel).port1.onmessage=function(e){a(e.data)},function(e){p.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){a(e),t.onreadystatechange=null,d.removeChild(t),t=null},d.appendChild(t)}):function(e){setTimeout(a,0,e)}:n(),e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return l[o]={callback:e,args:t},f(o),o++},e.clearImmediate=i)}.call(this,n(1),n(8))},function(e,t){var n,r,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var s,l=[],u=!1,c=-1;function f(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length)&&d()}function d(){if(!u){for(var e=a(f),t=(u=!0,l.length);t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,!function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return(r=clearTimeout)(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.prependListener=h,e.prependOnceListener=h,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(De,He){"use strict";var r={beforeShow:e,move:e,change:e,show:e,hide:e,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:false,className:"",containerClassName:"",replacerClassName:"",showAlpha:false,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:false,offset:null},$e=[],je=!!/msie/i.exec(window.navigator.userAgent),Ue=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div");var n=t.style;n.cssText="background-color:rgba(0,0,0,.5)";return e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),ze=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),qe=function(){var e="";if(je)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function Ve(e,t,n,r){var o=[];for(var i=0;i<e.length;i++){var a=e[i];if(a){var s=tinycolor(a);var l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(t,a)?" sp-thumb-active":"";var u=s.toString(r.preferredFormat||"rgb");var c=Ue?"background-color:"+s.toRgbString():"filter:"+s.toFilter();o.push('<span title="'+u+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+c+';"></span></span>')}else{var f="sp-clear-display";o.push(De("<div />").append(De('<span data-color="" style="background-color:transparent;" class="'+f+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function Ke(){for(var e=0;e<$e.length;e++)if($e[e])$e[e].hide()}function Je(e,t){var n=De.extend({},r,e);n.callbacks={move:o(n.move,t),change:o(n.change,t),show:o(n.show,t),hide:o(n.hide,t),beforeShow:o(n.beforeShow,t)};return n}function i(e,B){var u=Je(B,e),r=u.flat,D=u.showSelectionPalette,n=u.localStorageKey,H=u.theme,o=u.callbacks,$=Ze(L,10),t=false,j=false,l=0,c=0,a=0,s=0,U=0,z=0,q=0,V=0,f=0,d=0,p=0,h=1,K=[],i=[],J={},m=u.selectionPalette.slice(0),W=u.maxSelectionSize,G="sp-dragging",v=null;var g=e.ownerDocument,Q=g.body,b=De(e),X=false,y=De(qe,g).addClass(H),Z=y.find(".sp-picker-container"),Y=y.find(".sp-color"),ee=y.find(".sp-dragger"),te=y.find(".sp-hue"),ne=y.find(".sp-slider"),w=y.find(".sp-alpha-inner"),re=y.find(".sp-alpha"),oe=y.find(".sp-alpha-handle"),x=y.find(".sp-input"),ie=y.find(".sp-palette"),ae=y.find(".sp-initial"),se=y.find(".sp-cancel"),le=y.find(".sp-clear"),ue=y.find(".sp-choose"),ce=y.find(".sp-palette-toggle"),fe=b.is("input"),de=fe&&b.attr("type")==="color"&&Qe(),pe=fe&&!r,C=pe?De(ze).addClass(H).addClass(u.className).addClass(u.replacerClassName):De([]),S=pe?C:b,k=C.find(".sp-preview-inner"),P=u.color||fe&&b.val(),A=false,F=u.preferredFormat,he=!u.showButtons||u.clickoutFiresChange,_=!P,I=u.allowEmpty&&!de;function me(){if(u.showPaletteOnly)u.showPalette=true;ce.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText);if(u.palette){K=u.palette.slice(0);i=De.isArray(K[0])?K:[K];J={};for(var e=0;e<i.length;e++)for(var t=0;t<i[e].length;t++){var n=tinycolor(i[e][t]).toRgbString();J[n]=true}}y.toggleClass("sp-flat",r);y.toggleClass("sp-input-disabled",!u.showInput);y.toggleClass("sp-alpha-enabled",u.showAlpha);y.toggleClass("sp-clear-enabled",I);y.toggleClass("sp-buttons-disabled",!u.showButtons);y.toggleClass("sp-palette-buttons-disabled",!u.togglePaletteOnly);y.toggleClass("sp-palette-disabled",!u.showPalette);y.toggleClass("sp-palette-only",u.showPaletteOnly);y.toggleClass("sp-initial-disabled",!u.showInitial);y.addClass(u.className).addClass(u.containerClassName);L()}function ve(){if(je)y.find("*:not(input)").attr("unselectable","on");me();if(pe)b.after(C).hide();if(!I)le.hide();if(r)b.after(y).hide();else{var e=u.appendTo==="parent"?b.parent():De(u.appendTo);if(e.length!==1)e=De("body");e.append(y)}ge();S.on("click.spectrum touchstart.spectrum",function(e){if(!X)Pe();e.stopPropagation();if(!De(e.target).is("input"))e.preventDefault()});if(b.is(":disabled")||u.disabled===true)Oe();y.click(Xe);x.change(ke);x.on("paste",function(){setTimeout(ke,1)});x.keydown(function(e){if(e.keyCode==13)ke()});se.text(u.cancelText);se.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();Ie();T()});le.attr("title",u.clearText);le.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();_=true;R();if(r)O(true)});ue.text(u.chooseText);ue.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();if(je&&x.is(":focus"))x.trigger("change");if(Te()){O(true);T()}});ce.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText);ce.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();u.showPaletteOnly=!u.showPaletteOnly;if(!u.showPaletteOnly&&!r)y.css("left","-="+(Z.outerWidth(true)+5));me()});Ge(re,function(e,t,n){h=e/z;_=false;if(n.shiftKey)h=Math.round(h*10)/10;R()},Ce,Se);Ge(te,function(e,t){f=parseFloat(t/s);_=false;if(!u.showAlpha)h=1;R()},Ce,Se);Ge(Y,function(e,t,n){if(!n.shiftKey)v=null;else if(!v){var r=d*l;var o=c-p*c;var i=Math.abs(e-r)>Math.abs(t-o);v=i?"x":"y"}var a=!v||v==="x";var s=!v||v==="y";if(a)d=parseFloat(e/l);if(s)p=parseFloat((c-t)/c);_=false;if(!u.showAlpha)h=1;R()},Ce,Se);if(!!P){M(P);N();F=u.preferredFormat||tinycolor(P).format;be(P)}else N();if(r)Ae();function t(e){if(e.data&&e.data.ignore){M(De(e.target).closest(".sp-thumb-el").data("color"));R()}else{M(De(e.target).closest(".sp-thumb-el").data("color"));R();if(u.hideAfterPaletteSelect){O(true);T()}else O()}return false}var n=je?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ie.on(n,".sp-thumb-el",t);ae.on(n,".sp-thumb-el:nth-child(1)",{ignore:true},t)}function ge(){if(n&&window.localStorage){try{var e=window.localStorage[n].split(",#");if(e.length>1){delete window.localStorage[n];De.each(e,function(e,t){be(t)})}}catch(e){}try{m=window.localStorage[n].split(";")}catch(e){}}}function be(e){if(D){var t=tinycolor(e).toRgbString();if(!J[t]&&De.inArray(t,m)===-1){m.push(t);while(m.length>W)m.shift()}if(n&&window.localStorage)try{window.localStorage[n]=m.join(";")}catch(e){}}}function ye(){var e=[];if(u.showPalette)for(var t=0;t<m.length;t++){var n=tinycolor(m[t]).toRgbString();if(!J[n])e.push(m[t])}return e.reverse().slice(0,u.maxSelectionSize)}function we(){var n=E();var e=De.map(i,function(e,t){return Ve(e,n,"sp-palette-row sp-palette-row-"+t,u)});ge();if(m)e.push(Ve(ye(),n,"sp-palette-row sp-palette-row-selection",u));ie.html(e.join(""))}function xe(){if(u.showInitial){var e=A;var t=E();ae.html(Ve([e,t],t,"sp-palette-row-initial",u))}}function Ce(){if(c<=0||l<=0||s<=0)L();j=true;y.addClass(G);v=null;b.trigger("dragstart.spectrum",[E()])}function Se(){j=false;y.removeClass(G);b.trigger("dragstop.spectrum",[E()])}function ke(){var e=x.val();if((e===null||e==="")&&I){M(null);R();O()}else{var t=tinycolor(e);if(t.isValid()){M(t);R();O()}else x.addClass("sp-validation-error")}}function Pe(){if(t)T();else Ae()}function Ae(){var e=De.Event("beforeShow.spectrum");if(t){L();return}b.trigger(e,[E()]);if(o.beforeShow(E())===false||e.isDefaultPrevented())return;Ke();t=true;De(g).on("keydown.spectrum",Fe);De(g).on("click.spectrum",_e);De(window).on("resize.spectrum",$);C.addClass("sp-active");y.removeClass("sp-hidden");L();N();A=E();xe();o.show(A);b.trigger("show.spectrum",[A])}function Fe(e){if(e.keyCode===27)T()}function _e(e){if(e.button==2)return;if(j)return;if(he)O(true);else Ie();T()}function T(){if(!t||r)return;t=false;De(g).off("keydown.spectrum",Fe);De(g).off("click.spectrum",_e);De(window).off("resize.spectrum",$);C.removeClass("sp-active");y.addClass("sp-hidden");o.hide(E());b.trigger("hide.spectrum",[E()])}function Ie(){M(A,true);O(true)}function M(e,t){if(tinycolor.equals(e,E())){N();return}var n,r;if(!e&&I)_=true;else{_=false;n=tinycolor(e);r=n.toHsv();f=r.h%360/360;d=r.s;p=r.v;h=r.a}N();if(n&&n.isValid()&&!t)F=u.preferredFormat||n.getFormat()}function E(e){e=e||{};if(I&&_)return null;return tinycolor.fromRatio({h:f,s:d,v:p,a:Math.round(h*1e3)/1e3},{format:e.format||F})}function Te(){return!x.hasClass("sp-validation-error")}function R(){N();o.move(E());b.trigger("move.spectrum",[E()])}function N(){x.removeClass("sp-validation-error");Me();var e=tinycolor.fromRatio({h:f,s:1,v:1});Y.css("background-color",e.toHexString());var t=F;if(h<1&&!(h===0&&t==="name"))if(t==="hex"||t==="hex3"||t==="hex6"||t==="name")t="rgb";var n=E({format:t}),r="";k.removeClass("sp-clear-display");k.css("background-color","transparent");if(!n&&I)k.addClass("sp-clear-display");else{var o=n.toHexString(),i=n.toRgbString();if(Ue||n.alpha===1)k.css("background-color",i);else{k.css("background-color","transparent");k.css("filter",n.toFilter())}if(u.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString();var l="linear-gradient(left, "+s+", "+o+")";if(je)w.css("filter",tinycolor(s).toFilter({gradientType:1},o));else{w.css("background","-webkit-"+l);w.css("background","-moz-"+l);w.css("background","-ms-"+l);w.css("background","linear-gradient(to right, "+s+", "+o+")")}}r=n.toString(t)}if(u.showInput)x.val(r);if(u.showPalette)we();xe()}function Me(){var e=d;var t=p;if(I&&_){oe.hide();ne.hide();ee.hide()}else{oe.show();ne.show();ee.show();var n=e*l;var r=c-t*c;n=Math.max(-a,Math.min(l-a,n-a));r=Math.max(-a,Math.min(c-a,r-a));ee.css({top:r+"px",left:n+"px"});var o=h*z;oe.css({left:o-q/2+"px"});var i=f*s;ne.css({top:i-V+"px"})}}function O(e){var t=E(),n="",r=!tinycolor.equals(t,A);if(t){n=t.toString(F);be(t)}if(fe)b.val(n);if(e&&r){o.change(t);b.trigger("change",[t])}}function L(){if(!t)return;l=Y.width();c=Y.height();a=ee.height();U=te.width();s=te.height();V=ne.height();z=re.width();q=oe.width();if(!r){y.css("position","absolute");if(u.offset)y.offset(u.offset);else y.offset(We(y,S))}Me();if(u.showPalette)we();b.trigger("reflow.spectrum")}function Ee(){b.show();S.off("click.spectrum touchstart.spectrum");y.remove();C.remove();$e[Be.id]=null}function Re(e,t){if(e===He)return De.extend({},u);if(t===He)return u[e];u[e]=t;if(e==="preferredFormat")F=u.preferredFormat;me()}function Ne(){X=false;b.attr("disabled",false);S.removeClass("sp-disabled")}function Oe(){T();X=true;b.attr("disabled",true);S.addClass("sp-disabled")}function Le(e){u.offset=e;L()}ve();var Be={show:Ae,hide:T,toggle:Pe,reflow:L,option:Re,enable:Ne,disable:Oe,offset:Le,set:function(e){M(e);O()},get:E,destroy:Ee,container:y};Be.id=$e.push(Be)-1;return Be}function We(e,t){var n=0;var r=e.outerWidth();var o=e.outerHeight();var i=t.outerHeight();var a=e[0].ownerDocument;var s=a.documentElement;var l=s.clientWidth+De(a).scrollLeft();var u=s.clientHeight+De(a).scrollTop();var c=t.offset();var f=c.left;var d=c.top;d+=i;f-=Math.min(f,f+r>l&&l>r?Math.abs(f+r-l):0);d-=Math.min(d,d+o>u&&u>o?Math.abs(o+i-n):n);return{top:d,bottom:c.bottom,left:f,right:c.right,width:c.width,height:c.height}}function e(){}function Xe(e){e.stopPropagation()}function o(e,t){var n=Array.prototype.slice;var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function Ge(a,s,n,e){s=s||function(){};n=n||function(){};e=e||function(){};var l=document;var u=false;var c={};var f=0;var d=0;var p="ontouchstart"in window;var r={};r["selectstart"]=h;r["dragstart"]=h;r["touchmove mousemove"]=o;r["touchend mouseup"]=m;function h(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault();e.returnValue=false}function o(e){if(u){if(je&&l.documentMode<9&&!e.button)return m();var t=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0];var n=t&&t.pageX||e.pageX;var r=t&&t.pageY||e.pageY;var o=Math.max(0,Math.min(n-c.left,d));var i=Math.max(0,Math.min(r-c.top,f));if(p)h(e);s.apply(a,[o,i,e])}}function t(e){var t=e.which?e.which==3:e.button==2;if(!t&&!u)if(n.apply(a,arguments)!==false){u=true;f=De(a).height();d=De(a).width();c=De(a).offset();De(l).on(r);De(l.body).addClass("sp-dragging");o(e);h(e)}}function m(){if(u){De(l).off(r);De(l.body).removeClass("sp-dragging");setTimeout(function(){e.apply(a,arguments)},0)}u=false}De(a).on("touchstart mousedown",t)}function Ze(r,o,i){var a;return function(){var e=this,t=arguments;var n=function(){a=null;r.apply(e,t)};if(i)clearTimeout(a);if(i||!a)a=setTimeout(n,o)}}function Qe(){return De.fn.spectrum.inputTypeColorSupport()}var a="spectrum.id",S=(De.fn.spectrum=function(n,e){if(typeof n=="string"){var r=this;var o=Array.prototype.slice.call(arguments,1);this.each(function(){var e=$e[De(this).data(a)];if(e){var t=e[n];if(!t)throw new Error("Spectrum: no such method: '"+n+"'");if(n=="get")r=e.get();else if(n=="container")r=e.container;else if(n=="option")r=e.option.apply(e,o);else if(n=="destroy"){e.destroy();De(this).removeData(a)}else t.apply(e,o)}});return r}return this.spectrum("destroy").each(function(){var e=De.extend({},De(this).data(),n);var t=i(this,e);De(this).data(a,t.id)})},De.fn.spectrum.load=true,De.fn.spectrum.loadOpts={},De.fn.spectrum.draggable=Ge,De.fn.spectrum.defaults=r,De.fn.spectrum.inputTypeColorSupport=function e(){if(typeof e._cachedResult==="undefined"){var t=De("<input type='color'/>")[0];e._cachedResult=t.type==="color"&&t.value!==""}return e._cachedResult},De.spectrum={},De.spectrum.localization={},De.spectrum.palettes={},De.fn.spectrum.processNativeColorInputs=function(){var e=De("input[type=color]");if(e.length&&!Qe())e.spectrum({preferredFormat:"hex6"})},/^[\s,#]+/),k=/\s+$/,P=0,d=Math,s=d.round,u=d.min,c=d.max,t=d.random,f=function(e,t){e=e?e:"";t=t||{};if(e instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=A(e);this._originalInput=e;this._r=n.r;this._g=n.g;this._b=n.b;this._a=n.a;this._roundA=s(1e3*this._a)/1e3;this._format=t.format||n.format;this._gradientType=t.gradientType;if(this._r<1)this._r=s(this._r);if(this._g<1)this._g=s(this._g);if(this._b<1)this._b=s(this._b);this._ok=n.ok;this._tc_id=P++};function A(e){var t={r:0,g:0,b:0};var n=1;var r=false;var o=false;if(typeof e=="string")e=G(e);if(typeof e=="object"){if(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")){t=F(e.r,e.g,e.b);r=true;o=String(e.r).substr(-1)==="%"?"prgb":"rgb"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")){e.s=x(e.s);e.v=x(e.v);t=I(e.h,e.s,e.v);r=true;o="hsv"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")){e.s=x(e.s);e.l=x(e.l);t=_(e.h,e.s,e.l);r=true;o="hsl"}if(e.hasOwnProperty("a"))n=e.a}n=v(n);return{ok:r,format:e.format||o,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:n}}function F(e,t,n){return{r:g(e,255)*255,g:g(t,255)*255,b:g(n,255)*255}}function l(e,t,n){e=g(e,255);t=g(t,255);n=g(n,255);var r=c(e,t,n),o=u(e,t,n);var i,a,s=(r+o)/2;if(r==o)i=a=0;else{var l=r-o;a=s>.5?l/(2-r-o):l/(r+o);switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:a,l:s}}function _(e,t,n){var r,o,i;e=g(e,360);t=g(t,100);n=g(n,100);function a(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}if(t===0)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t;var l=2*n-s;r=a(l,s,e+1/3);o=a(l,s,e);i=a(l,s,e-1/3)}return{r:r*255,g:o*255,b:i*255}}function p(e,t,n){e=g(e,255);t=g(t,255);n=g(n,255);var r=c(e,t,n),o=u(e,t,n);var i,a,s=r;var l=r-o;a=r===0?0:l/r;if(r==o)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:a,v:s}}function I(e,t,n){e=g(e,360)*6;t=g(t,100);n=g(n,100);var r=d.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=r%6,u=[n,a,i,i,s,n][l],c=[s,n,n,a,i,i][l],f=[i,i,s,n,n,a][l];return{r:u*255,g:c*255,b:f*255}}function n(e,t,n,r){var o=[w(s(e).toString(16)),w(s(t).toString(16)),w(s(n).toString(16))];if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0);return o.join("")}function h(e,t,n,r){var o=[w(J(r)),w(s(e).toString(16)),w(s(t).toString(16)),w(s(n).toString(16))];return o.join("")}function T(e,t){t=t===0?0:t||10;var n=f(e).toHsl();n.s-=t/100;n.s=b(n.s);return f(n)}function M(e,t){t=t===0?0:t||10;var n=f(e).toHsl();n.s+=t/100;n.s=b(n.s);return f(n)}function E(e){return f(e).desaturate(100)}function R(e,t){t=t===0?0:t||10;var n=f(e).toHsl();n.l+=t/100;n.l=b(n.l);return f(n)}function N(e,t){t=t===0?0:t||10;var n=f(e).toRgb();n.r=c(0,u(255,n.r-s(255*-(t/100))));n.g=c(0,u(255,n.g-s(255*-(t/100))));n.b=c(0,u(255,n.b-s(255*-(t/100))));return f(n)}function O(e,t){t=t===0?0:t||10;var n=f(e).toHsl();n.l-=t/100;n.l=b(n.l);return f(n)}function L(e,t){var n=f(e).toHsl();var r=(s(n.h)+t)%360;n.h=r<0?360+r:r;return f(n)}function B(e){var t=f(e).toHsl();t.h=(t.h+180)%360;return f(t)}function D(e){var t=f(e).toHsl();var n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function H(e){var t=f(e).toHsl();var n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function $(e){var t=f(e).toHsl();var n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function j(e,t,n){t=t||6;n=n||30;var r=f(e).toHsl();var o=360/n;var i=[f(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;){r.h=(r.h+o)%360;i.push(f(r))}return i}function U(e,t){t=t||6;var n=f(e).toHsv();var r=n.h,o=n.s,i=n.v;var a=[];var s=1/t;while(t--){a.push(f({h:r,s:o,v:i}));i=(i+s)%1}return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},setAlpha:function(e){this._a=v(e);this._roundA=s(1e3*this._a)/1e3;return this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b);var t=s(e.h*360),n=s(e.s*100),r=s(e.v*100);return this._a==1?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b);var t=s(e.h*360),n=s(e.s*100),r=s(e.l*100);return this._a==1?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return n(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(g(this._r,255)*100)+"%",g:s(g(this._g,255)*100)+"%",b:s(g(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(g(this._r,255)*100)+"%, "+s(g(this._g,255)*100)+"%, "+s(g(this._b,255)*100)+"%)":"rgba("+s(g(this._r,255)*100)+"%, "+s(g(this._g,255)*100)+"%, "+s(g(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){if(this._a===0)return"transparent";if(this._a<1)return false;return z[n(this._r,this._g,this._b,true)]||false},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a);var n=t;var r=this._gradientType?"GradientType = 1, ":"";if(e){var o=f(e);n=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=false;var r=this._a<1&&this._a>=0;var o=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="name");if(o){if(e==="name"&&this._a===0)return this.toName();return this.toRgbString()}if(e==="rgb")n=this.toRgbString();if(e==="prgb")n=this.toPercentageRgbString();if(e==="hex"||e==="hex6")n=this.toHexString();if(e==="hex3")n=this.toHexString(true);if(e==="hex8")n=this.toHex8String();if(e==="name")n=this.toName();if(e==="hsl")n=this.toHslString();if(e==="hsv")n=this.toHsvString();return n||this.toHexString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));this._r=n._r;this._g=n._g;this._b=n._b;this.setAlpha(n._a);return this},lighten:function(){return this._applyModification(R,arguments)},brighten:function(){return this._applyModification(N,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(L,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(j,arguments)},complement:function(){return this._applyCombination(B,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination($,arguments)},triad:function(){return this._applyCombination(D,arguments)},tetrad:function(){return this._applyCombination(H,arguments)}},f.fromRatio=function(e,t){if(typeof e=="object"){var n={};for(var r in e)if(e.hasOwnProperty(r))if(r==="a")n[r]=e[r];else n[r]=x(e[r]);e=n}return f(e,t)},f.equals=function(e,t){if(!e||!t)return false;return f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:t(),g:t(),b:t()})},f.mix=function(e,t,n){n=n===0?0:n||50;var r=f(e).toRgb();var o=f(t).toRgb();var i=n/100;var a=i*2-1;var s=o.a-r.a;var l;if(a*s==-1)l=a;else l=(a+s)/(1+a*s);l=(l+1)/2;var u=1-l;var c={r:o.r*l+r.r*u,g:o.g*l+r.g*u,b:o.b*l+r.b*u,a:o.a*i+r.a*(1-i)};return f(c)},f.readability=function(e,t){var n=f(e);var r=f(t);var o=n.toRgb();var i=r.toRgb();var a=n.getBrightness();var s=r.getBrightness();var l=Math.max(o.r,i.r)-Math.min(o.r,i.r)+Math.max(o.g,i.g)-Math.min(o.g,i.g)+Math.max(o.b,i.b)-Math.min(o.b,i.b);return{brightness:Math.abs(a-s),color:l}},f.isReadable=function(e,t){var n=f.readability(e,t);return n.brightness>125&&n.color>500},f.mostReadable=function(e,t){var n=null;var r=0;var o=false;for(var i=0;i<t.length;i++){var a=f.readability(e,t[i]);var s=a.brightness>125&&a.color>500;var l=3*(a.brightness/125)+a.color/500;if(s&&!o||s&&o&&l>r||!s&&!o&&l>r){o=s;r=l;n=f(t[i])}}return n};var m=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=f.hexNames=q(m);function q(e){var t={};for(var n in e)if(e.hasOwnProperty(n))t[e[n]]=n;return t}function v(e){e=parseFloat(e);if(isNaN(e)||e<0||e>1)e=1;return e}function g(e,t){if(V(e))e="100%";var n=K(e);e=u(t,c(0,parseFloat(e)));if(n)e=parseInt(e*t,10)/100;if(d.abs(e-t)<1e-6)return 1;return e%t/parseFloat(t)}function b(e){return u(1,c(0,e))}function y(e){return parseInt(e,16)}function V(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function K(e){return typeof e==="string"&&e.indexOf("%")!=-1}function w(e){return e.length==1?"0"+e:""+e}function x(e){if(e<=1)e=e*100+"%";return e}function J(e){return Math.round(parseFloat(e)*255).toString(16)}function W(e){return y(e)/255}var C=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var n="(?:"+t+")|(?:"+e+")";var r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";var o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(e){e=e.replace(S,"").replace(k,"").toLowerCase();var t=false;if(m[e]){e=m[e];t=true}else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;if(n=C.rgb.exec(e))return{r:n[1],g:n[2],b:n[3]};if(n=C.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=C.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=C.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=C.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=C.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=C.hex8.exec(e))return{a:W(n[1]),r:y(n[2]),g:y(n[3]),b:y(n[4]),format:t?"name":"hex8"};if(n=C.hex6.exec(e))return{r:y(n[1]),g:y(n[2]),b:y(n[3]),format:t?"name":"hex"};if(n=C.hex3.exec(e))return{r:y(n[1]+""+n[1]),g:y(n[2]+""+n[2]),b:y(n[3]+""+n[3]),format:t?"name":"hex"};return false}window.tinycolor=f,De(function(){if(De.fn.spectrum.load)De.fn.spectrum.processNativeColorInputs()})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,O){var n,r;r=[O(0)],void 0!==(t="function"==typeof(n=function(he){if(!Array.prototype.reduce)Array.prototype.reduce=function(e){var t=Object(this),n=t.length>>>0,r=0,o;if(arguments.length===2)o=arguments[1];else{while(r<n&&!(r in t))r++;if(r>=n)throw new TypeError("Reduce of empty array with no initial value");o=t[r++]}for(;r<n;r++)if(r in t)o=e(o,t[r],r,t);return o};if("function"!==typeof Array.prototype.filter)Array.prototype.filter=function(e){var t=Object(this),n=t.length>>>0;var r=[];var o=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<n;i++)if(i in t){var a=t[i];if(e.call(o,a,i,t))r.push(a)}return r};if(!Array.prototype.map)Array.prototype.map=function(e,t){var n,r,o;if(this===null)throw new TypeError(" this is null or not defined");var i=Object(this);var a=i.length>>>0;if(typeof e!=="function")throw new TypeError(e+" is not a function");if(arguments.length>1)n=t;r=new Array(a);o=0;while(o<a){var s,l;if(o in i){s=i[o];l=e.call(n,s,o,i);r[o]=l}o++}return r};var e=false,t=function(e){var t=e==="Comic Sans MS"?"Courier New":"Comic Sans MS";var n=he("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body);var r=n.css("fontFamily",t).width();var o=n.css("fontFamily",e+","+t).width();n.remove();return r!==o},n=navigator.userAgent,r=/MSIE|Trident/i.test(n),o;if(r){var i=/MSIE (\d+[.]\d+)/.exec(n);if(i)o=parseFloat(i[1]);i=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(n);if(i)o=parseFloat(i[1])}var me={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:r,isFF:/firefox/i.test(n),isWebkit:/webkit/i.test(n),isSafari:/safari/i.test(n),browserVersion:o,jqueryVersion:parseFloat(he.fn.jquery),isSupportAmd:e,hasCodeMirror:!!window.CodeMirror,isFontInstalled:t,isW3CRangeSupport:!!document.createRange},ve=function(){var e=function(t){return function(e){return t===e}};var t=function(e,t){return e===t};var n=function(n){return function(e,t){return e[n]===t[n]}};var r=function(){return true};var o=function(){return false};var i=function(e){return function(){return!e.apply(e,arguments)}};var a=function(t,n){return function(e){return t(e)&&n(e)}};var s=function(e){return e};var l=0;var u=function(e){var t=++l+"";return e?e+t:t};var c=function(e){var t=he(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}};var f=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n))t[e[n]]=n;return t};var d=function(e,t){t=t||"";return t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")};return{eq:e,eq2:t,peq2:n,ok:r,fail:o,self:s,not:i,and:a,uniqueId:u,rect2bnd:c,invertObject:f,namespaceToCamel:d}}(),ge=function(){var n=function(e){return e[0]};var o=function(e){return e[e.length-1]};var e=function(e){return e.slice(0,e.length-1)};var i=function(e){return e.slice(1)};var t=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o))return o}};var r=function(e,t){for(var n=0,r=e.length;n<r;n++)if(!t(e[n]))return false;return true};var a=function(e,t){return he.inArray(t,e)};var s=function(e,t){return a(e,t)!==-1};var l=function(e,n){n=n||ve.self;return e.reduce(function(e,t){return e+n(t)},0)};var u=function(e){var t=[],n=-1,r=e.length;while(++n<r)t[n]=e[n];return t};var c=function(e,r){if(!e.length)return[];var t=i(e);return t.reduce(function(e,t){var n=o(e);if(r(o(n),t))n[n.length]=t;else e[e.length]=[t];return e},[[n(e)]])};var f=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)if(e[n])t.push(e[n]);return t};var d=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)if(!s(t,e[n]))t.push(e[n]);return t};var p=function(e,t){var n=a(e,t);if(n===-1)return null;return e[n+1]};var h=function(e,t){var n=a(e,t);if(n===-1)return null;return e[n-1]};return{head:n,last:o,initial:e,tail:i,prev:h,next:p,find:t,contains:s,all:r,sum:l,from:u,clusterBy:c,compact:f,unique:d}}(),be=String.fromCharCode(160),ye="\ufeff",we=function(){var o=function(e){return e&&he(e).hasClass("note-editable")};var L=function(e){return e&&he(e).hasClass("note-control-sizing")};var r=function(n){var e;if(n.hasClass("note-air-editor")){var t=ge.last(n.attr("id").split("-"));e=function(e){return function(){return he(e+t)}};return{editor:function(){return n},holder:function(){return n.data("holder")},editable:function(){return n},popover:e("#note-popover-"),handle:e("#note-handle-"),dialog:e("#note-dialog-")}}else{e=function(e,t){t=t||n;return function(){return t.find(e)}};var r=n.data("options");var o=r&&r.dialogsInBody?he(document.body):null;return{editor:function(){return n},holder:function(){return n.data("holder")},dropzone:e(".note-dropzone"),toolbar:e(".note-toolbar"),editable:e(".note-editable"),codable:e(".note-codable"),statusbar:e(".note-statusbar"),popover:e(".note-popover"),handle:e(".note-handle"),dialog:e(".note-dialog",o)}}};var B=function(e){var t=he(e).closest(".note-editor, .note-air-editor, .note-air-layout");if(!t.length)return null;var n;if(t.is(".note-editor, .note-air-editor"))n=t;else n=he("#note-editor-"+ge.last(t.attr("id").split("-")));return r(n)};var e=function(t){t=t.toUpperCase();return function(e){return e&&e.nodeName&&e.nodeName.toUpperCase()===t}};var a=function(e){return e&&e.nodeType===3};var i=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())};var l=function(e){if(o(e))return false;return e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())};var t=e("LI");var D=function(e){return l(e)&&!t(e)};var n=e("TABLE");var s=function(e){return!d(e)&&!u(e)&&!H(e)&&!l(e)&&!n(e)&&!f(e)};var u=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())};var H=e("HR");var c=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())};var f=e("BLOCKQUOTE");var d=function(e){return c(e)||f(e)||o(e)};var p=e("A");var $=function(e){return s(e)&&!!b(e,l)};var j=function(e){return s(e)&&!b(e,l)};var U=e("BODY");var z=function(e,t){return e.nextSibling===t||e.previousSibling===t};var q=function(e,t){t=t||ve.ok;var n=[];if(e.previousSibling&&t(e.previousSibling))n.push(e.previousSibling);n.push(e);if(e.nextSibling&&t(e.nextSibling))n.push(e.nextSibling);return n};var h=me.isMSIE&&me.browserVersion<11?"&nbsp;":"<br>";var m=function(e){if(a(e))return e.nodeValue.length;return e.childNodes.length};var v=function(e){var t=m(e);if(t===0)return true;else if(!a(e)&&t===1&&e.innerHTML===h)return true;else if(ge.all(e.childNodes,a)&&e.innerHTML==="")return true;return false};var g=function(e){if(!i(e)&&!m(e))e.innerHTML=h};var b=function(e,t){while(e){if(t(e))return e;if(o(e))break;e=e.parentNode}return null};var V=function(e,t){e=e.parentNode;while(e){if(m(e)!==1)break;if(t(e))return e;if(o(e))break;e=e.parentNode}return null};var y=function(e,t){t=t||ve.fail;var n=[];b(e,function(e){if(!o(e))n.push(e);return t(e)});return n};var K=function(e,t){var n=y(e);return ge.last(n.filter(t))};var J=function(e,t){var n=y(e);for(var r=t;r;r=r.parentNode)if(he.inArray(r,n)>-1)return r;return null};var W=function(e,t){t=t||ve.fail;var n=[];while(e){if(t(e))break;n.push(e);e=e.previousSibling}return n};var w=function(e,t){t=t||ve.fail;var n=[];while(e){if(t(e))break;n.push(e);e=e.nextSibling}return n};var G=function(o,i){var a=[];i=i||ve.ok;(function e(t){if(o!==t&&i(t))a.push(t);for(var n=0,r=t.childNodes.length;n<r;n++)e(t.childNodes[n])})(o);return a};var Q=function(e,t){var n=e.parentNode;var r=he("<"+t+">")[0];n.insertBefore(r,e);r.appendChild(e);return r};var x=function(e,t){var n=t.nextSibling,r=t.parentNode;if(n)r.insertBefore(e,n);else r.appendChild(e);return e};var C=function(n,e){he.each(e,function(e,t){n.appendChild(t)});return n};var S=function(e){return e.offset===0};var k=function(e){return e.offset===m(e.node)};var P=function(e){return S(e)||k(e)};var A=function(e,t){while(e&&e!==t){if(_(e)!==0)return false;e=e.parentNode}return true};var F=function(e,t){while(e&&e!==t){if(_(e)!==m(e.parentNode)-1)return false;e=e.parentNode}return true};var X=function(e,t){return S(e)&&A(e.node,t)};var Z=function(e,t){return k(e)&&F(e.node,t)};var _=function(e){var t=0;while(e=e.previousSibling)t+=1;return t};var I=function(e){return!!(e&&e.childNodes&&e.childNodes.length)};var T=function(e,t){var n,r;if(e.offset===0){if(o(e.node))return null;n=e.node.parentNode;r=_(e.node)}else if(I(e.node)){n=e.node.childNodes[e.offset-1];r=m(n)}else{n=e.node;r=t?0:e.offset-1}return{node:n,offset:r}};var M=function(e,t){var n,r;if(m(e.node)===e.offset){if(o(e.node))return null;n=e.node.parentNode;r=_(e.node)+1}else if(I(e.node)){n=e.node.childNodes[e.offset];r=0}else{n=e.node;r=t?m(e.node):e.offset+1}return{node:n,offset:r}};var E=function(e,t){return e.node===t.node&&e.offset===t.offset};var Y=function(e){if(a(e.node)||!I(e.node)||v(e.node))return true;var t=e.node.childNodes[e.offset-1];var n=e.node.childNodes[e.offset];if((!t||i(t))&&(!n||i(n)))return true;return false};var ee=function(e,t){while(e){if(t(e))return e;e=T(e)}return null};var te=function(e,t){while(e){if(t(e))return e;e=M(e)}return null};var ne=function(e){if(!a(e.node))return false;var t=e.node.nodeValue.charAt(e.offset-1);return t&&(t!==" "&&t!==be)};var re=function(e,t,n,r){var o=e;while(o){n(o);if(E(o,t))break;var i=r&&e.node!==o.node&&t.node!==o.node;o=M(o,i)}};var oe=function(e,t){var n=y(t,ve.eq(e));return n.map(_).reverse()};var ie=function(e,t){var n=e;for(var r=0,o=t.length;r<o;r++)if(n.childNodes.length<=t[r])n=n.childNodes[n.childNodes.length-1];else n=n.childNodes[t[r]];return n};var R=function(e,t){var n=t&&t.isSkipPaddingBlankHTML;var r=t&&t.isNotSplitEdgePoint;if(P(e)&&(a(e.node)||r))if(S(e))return e.node;else if(k(e))return e.node.nextSibling;if(a(e.node))return e.node.splitText(e.offset);else{var o=e.node.childNodes[e.offset];var i=x(e.node.cloneNode(false),e.node);C(i,w(o));if(!n){g(e.node);g(i)}return i}};var N=function(e,n,r){var t=y(n.node,ve.eq(e));if(!t.length)return null;else if(t.length===1)return R(n,r);return t.reduce(function(e,t){if(e===n.node)e=R(n,r);return R({node:t,offset:e?we.position(e):m(t)},r)})};var ae=function(e,t){var n=t?l:d;var r=y(e.node,n);var o=ge.last(r)||e.node;var i,a;if(n(o)){i=r[r.length-2];a=o}else{i=o;a=i.parentNode}var s=i&&N(i,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});if(!s&&a===e.node)s=e.node.childNodes[e.offset];return{rightNode:s,container:a}};var se=function(e){return document.createElement(e)};var le=function(e){return document.createTextNode(e)};var O=function(e,t){if(!e||!e.parentNode)return;if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var r=[];var o,i;for(o=0,i=e.childNodes.length;o<i;o++)r.push(e.childNodes[o]);for(o=0,i=r.length;o<i;o++)n.insertBefore(r[o],e)}n.removeChild(e)};var ue=function(e,t){while(e){if(o(e)||!t(e))break;var n=e.parentNode;O(e);e=n}};var ce=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=se(t);if(e.style.cssText)n.style.cssText=e.style.cssText;C(n,ge.from(e.childNodes));x(n,e);O(e);return n};var fe=e("TEXTAREA");var de=function(e,t){var n=fe(e[0])?e.val():e.html();if(t)return n.replace(/[\n\r]/g,"");return n};var pe=function(e,t){var n=de(e);if(t){var r=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(r,function(e,t,n){n=n.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t;var o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(r||o?"\n":"")});n=he.trim(n)}return n};return{NBSP_CHAR:be,ZERO_WIDTH_NBSP_CHAR:ye,blank:h,emptyPara:"<p>"+h+"</p>",makePredByNodeName:e,isEditable:o,isControlSizing:L,buildLayoutInfo:r,makeLayoutInfo:B,isText:a,isVoid:i,isPara:l,isPurePara:D,isInline:s,isBlock:ve.not(s),isBodyInline:j,isBody:U,isParaInline:$,isList:u,isTable:n,isCell:c,isBlockquote:f,isBodyContainer:d,isAnchor:p,isDiv:e("DIV"),isLi:t,isBR:e("BR"),isSpan:e("SPAN"),isB:e("B"),isU:e("U"),isS:e("S"),isI:e("I"),isImg:e("IMG"),isTextarea:fe,isEmpty:v,isEmptyAnchor:ve.and(p,v),isClosestSibling:z,withClosestSiblings:q,nodeLength:m,isLeftEdgePoint:S,isRightEdgePoint:k,isEdgePoint:P,isLeftEdgeOf:A,isRightEdgeOf:F,isLeftEdgePointOf:X,isRightEdgePointOf:Z,prevPoint:T,nextPoint:M,isSamePoint:E,isVisiblePoint:Y,prevPointUntil:ee,nextPointUntil:te,isCharPoint:ne,walkPoint:re,ancestor:b,singleChildAncestor:V,listAncestor:y,lastAncestor:K,listNext:w,listPrev:W,listDescendant:G,commonAncestor:J,wrap:Q,insertAfter:x,appendChildNodes:C,position:_,hasChildren:I,makeOffsetPath:oe,fromOffsetPath:ie,splitTree:N,splitPoint:ae,create:se,createText:le,remove:O,removeWhile:ue,replace:ce,html:pe,value:de}}(),g=function(){var f=function(e,t){var n=e.parentElement(),r;var o=document.body.createTextRange(),i;var a=ge.from(n.childNodes);for(r=0;r<a.length;r++){if(we.isText(a[r]))continue;o.moveToElementText(a[r]);if(o.compareEndPoints("StartToStart",e)>=0)break;i=a[r]}if(r!==0&&we.isText(a[r-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(i||n);s.collapse(!i);l=i?i.nextSibling:n.firstChild;var u=e.duplicate();u.setEndPoint("StartToStart",s);var c=u.text.replace(/[\r\n]/g,"").length;while(c>l.nodeValue.length&&l.nextSibling){c-=l.nodeValue.length;l=l.nextSibling}var f=l.nodeValue;if(t&&l.nextSibling&&we.isText(l.nextSibling)&&c===l.nodeValue.length){c-=l.nodeValue.length;l=l.nextSibling}n=l;r=c}return{cont:n,offset:r}};var r=function(e){var a=function(e,t){var n,r;if(we.isText(e)){var o=we.listPrev(e,ve.not(we.isText));var i=ge.last(o).previousSibling;n=i||e.parentNode;t+=ge.sum(ge.tail(o),we.nodeLength);r=!i}else{n=e.childNodes[t]||e;if(we.isText(n))return a(n,0);t=0;r=false}return{node:n,collapseToStart:r,offset:t}};var t=document.body.createTextRange();var n=a(e.node,e.offset);t.moveToElementText(n.node);t.collapse(n.collapseToStart);t.moveStart("character",n.offset);return t};var d=function(i,o,a,s){this.sc=i;this.so=o;this.ec=a;this.eo=s;var n=function(){if(me.isW3CRangeSupport){var e=document.createRange();e.setStart(i,o);e.setEnd(a,s);return e}else{var t=r({node:i,offset:o});t.setEndPoint("EndToEnd",r({node:a,offset:s}));return t}};this.getPoints=function(){return{sc:i,so:o,ec:a,eo:s}};this.getStartPoint=function(){return{node:i,offset:o}};this.getEndPoint=function(){return{node:a,offset:s}};this.select=function(){var e=n();if(me.isW3CRangeSupport){var t=document.getSelection();if(t.rangeCount>0)t.removeAllRanges();t.addRange(e)}else e.select();return this};this.normalize=function(){var e=function(e,t){if(we.isVisiblePoint(e)&&!we.isEdgePoint(e)||we.isVisiblePoint(e)&&we.isRightEdgePoint(e)&&!t||we.isVisiblePoint(e)&&we.isLeftEdgePoint(e)&&t||we.isVisiblePoint(e)&&we.isBlock(e.node)&&we.isEmpty(e.node))return e;var n=we.ancestor(e.node,we.isBlock);if((we.isLeftEdgePointOf(e,n)||we.isVoid(we.prevPoint(e).node))&&!t||(we.isRightEdgePointOf(e,n)||we.isVoid(we.nextPoint(e).node))&&t){if(we.isVisiblePoint(e))return e;t=!t}var r=t?we.nextPointUntil(we.nextPoint(e),we.isVisiblePoint):we.prevPointUntil(we.prevPoint(e),we.isVisiblePoint);return r||e};var t=e(this.getEndPoint(),false);var n=this.isCollapsed()?t:e(this.getStartPoint(),true);return new d(n.node,n.offset,t.node,t.offset)};this.nodes=function(n,e){n=n||ve.ok;var r=e&&e.includeAncestor;var o=e&&e.fullyContains;var t=this.getStartPoint();var i=this.getEndPoint();var a=[];var s=[];we.walkPoint(t,i,function(e){if(we.isEditable(e.node))return;var t;if(o){if(we.isLeftEdgePoint(e))s.push(e.node);if(we.isRightEdgePoint(e)&&ge.contains(s,e.node))t=e.node}else if(r)t=we.ancestor(e.node,n);else t=e.node;if(t&&n(t))a.push(t)},true);return ge.unique(a)};this.commonAncestor=function(){return we.commonAncestor(i,a)};this.expand=function(e){var t=we.ancestor(i,e);var n=we.ancestor(a,e);if(!t&&!n)return new d(i,o,a,s);var r=this.getPoints();if(t){r.sc=t;r.so=0}if(n){r.ec=n;r.eo=we.nodeLength(n)}return new d(r.sc,r.so,r.ec,r.eo)};this.collapse=function(e){if(e)return new d(i,o,i,o);else return new d(a,s,a,s)};this.splitText=function(){var e=i===a;var t=this.getPoints();if(we.isText(a)&&!we.isEdgePoint(this.getEndPoint()))a.splitText(s);if(we.isText(i)&&!we.isEdgePoint(this.getStartPoint())){t.sc=i.splitText(o);t.so=0;if(e){t.ec=t.sc;t.eo=s-o}}return new d(t.sc,t.so,t.ec,t.eo)};this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText();var t=e.nodes(null,{fullyContains:true});var r=we.prevPointUntil(e.getStartPoint(),function(e){return!ge.contains(t,e.node)});var o=[];he.each(t,function(e,t){var n=t.parentNode;if(r.node!==n&&we.nodeLength(n)===1)o.push(n);we.remove(t,false)});he.each(o,function(e,t){we.remove(t,false)});return new d(r.node,r.offset,r.node,r.offset).normalize()};var e=function(t){return function(){var e=we.ancestor(i,t);return!!e&&e===we.ancestor(a,t)}};this.isOnEditable=e(we.isEditable);this.isOnList=e(we.isList);this.isOnAnchor=e(we.isAnchor);this.isOnCell=e(we.isCell);this.isLeftEdgeOf=function(e){if(!we.isLeftEdgePoint(this.getStartPoint()))return false;var t=we.ancestor(this.sc,e);return t&&we.isLeftEdgeOf(this.sc,t)};this.isCollapsed=function(){return i===a&&o===s};this.wrapBodyInlineWithPara=function(){if(we.isBodyContainer(i)&&we.isEmpty(i)){i.innerHTML=we.emptyPara;return new d(i.firstChild,0,i.firstChild,0)}var e=this.normalize();if(we.isParaInline(i)||we.isPara(i))return e;var t;if(we.isInline(e.sc)){var n=we.listAncestor(e.sc,ve.not(we.isInline));t=ge.last(n);if(!we.isInline(t))t=n[n.length-2]||e.sc.childNodes[e.so]}else t=e.sc.childNodes[e.so>0?e.so-1:0];var r=we.listPrev(t,we.isParaInline).reverse();r=r.concat(we.listNext(t.nextSibling,we.isParaInline));if(r.length){var o=we.wrap(ge.head(r),"p");we.appendChildNodes(o,ge.tail(r))}return this.normalize()};this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents();var n=we.splitPoint(t.getStartPoint(),we.isInline(e));if(n.rightNode)n.rightNode.parentNode.insertBefore(e,n.rightNode);else n.container.appendChild(e);return e};this.pasteHTML=function(e){var t=he("<div></div>").html(e)[0];var n=ge.from(t.childNodes);var r=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(e){return r.insertNode(e)}).reverse()};this.toString=function(){var e=n();return me.isW3CRangeSupport?e.toString():e.text};this.getWordRange=function(e){var t=this.getEndPoint();if(!we.isCharPoint(t))return this;var n=we.prevPointUntil(t,function(e){return!we.isCharPoint(e)});if(e)t=we.nextPointUntil(t,function(e){return!we.isCharPoint(e)});return new d(n.node,n.offset,t.node,t.offset)};this.bookmark=function(e){return{s:{path:we.makeOffsetPath(e,i),offset:o},e:{path:we.makeOffsetPath(e,a),offset:s}}};this.paraBookmark=function(e){return{s:{path:ge.tail(we.makeOffsetPath(ge.head(e),i)),offset:o},e:{path:ge.tail(we.makeOffsetPath(ge.last(e),a)),offset:s}}};this.getClientRects=function(){var e=n();return e.getClientRects()}};return{create:function(e,t,n,r){if(!arguments.length)if(me.isW3CRangeSupport){var o=document.getSelection();if(!o||o.rangeCount===0)return null;else if(we.isBody(o.anchorNode))return null;var i=o.getRangeAt(0);e=i.startContainer;t=i.startOffset;n=i.endContainer;r=i.endOffset}else{var a=document.selection.createRange();var s=a.duplicate();s.collapse(false);var l=a;l.collapse(true);var u=f(l,true),c=f(s,false);if(we.isText(u.node)&&we.isLeftEdgePoint(u)&&we.isTextNode(c.node)&&we.isRightEdgePoint(c)&&c.node.nextSibling===u.node)u=c;e=u.cont;t=u.offset;n=c.cont;r=c.offset}else if(arguments.length===2){n=e;r=t}return new d(e,t,n,r)},createFromNode:function(e){var t=e;var n=0;var r=e;var o=we.nodeLength(r);if(we.isVoid(t)){n=we.listPrev(t).length-1;t=t.parentNode}if(we.isBR(r)){o=we.listPrev(r).length-1;r=r.parentNode}else if(we.isVoid(r)){o=we.listPrev(r).length;r=r.parentNode}return this.create(t,n,r,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(true)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=we.fromOffsetPath(e,t.s.path);var r=t.s.offset;var o=we.fromOffsetPath(e,t.e.path);var i=t.e.offset;return new d(n,r,o,i)},createFromParaBookmark:function(e,t){var n=e.s.offset;var r=e.e.offset;var o=we.fromOffsetPath(ge.head(t),e.s.path);var i=we.fromOffsetPath(ge.last(t),e.e.path);return new d(o,n,i,r)}}}(),a={version:"0.6.17",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:false,tabsize:4,styleWithSpan:true,disableLinkTarget:false,disableDragAndDrop:false,disableResizeEditor:false,disableResizeImage:false,shortcuts:true,placeholder:false,prettifyHtml:true,iconPrefix:"mbr-icon-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit2"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic-stick"},lists:{unordered:"bulleted-list",ordered:"numbered-list"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:false,codemirror:{mode:"text/html",htmlMode:true,lineNumbers:true},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:false,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(e){if(e.indexOf("@")!==-1&&e.indexOf(":")===-1)e="mailto:"+e;return e},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+ENTER":"insertHorizontalRule"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+ENTER":"insertHorizontalRule","CMD+V":"paste"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}},b=function(){var e=function(e){return he.Deferred(function(n){he.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()};var t=function(n,r){return he.Deferred(function(e){var t=he("<img>");t.one("load",function(){t.off("error abort");e.resolve(t)}).one("error abort",function(){t.off("load").detach();e.reject(t)}).css({display:"none"}).appendTo(document.body).attr({src:n,"data-filename":r})}).promise()};return{readFileAsDataURL:e,createImage:t}}(),y=function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return ge.contains([t.BACKSPACE,t.TAB,t.ENTER,t.SPACe],e)},isMove:function(e){return ge.contains([t.LEFT,t.UP,t.RIGHT,t.DOWN],e)},nameFromCode:ve.invertObject(t),code:t}}(),w=function(n){var e=[],t=-1;var r=n[0];var o=function(){var e=g.create();var t={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:n.html(),bookmark:e?e.bookmark(r):t}};var i=function(e){if(e.contents!==null)n.html(e.contents);if(e.bookmark!==null)g.createFromBookmark(r,e.bookmark).select()};this.undo=function(){if(n.html()!==e[t].contents)this.recordUndo();if(0<t){t--;i(e[t])}};this.redo=function(){if(e.length-1>t){t++;i(e[t])}};this.recordUndo=function(){t++;if(e.length>t)e=e.slice(0,t);e.push(o())};this.recordUndo()},f=function(){var r=function(n,e){if(me.jqueryVersion<1.9){var r={};he.each(e,function(e,t){r[t]=n.css(t)});return r}return n.css.call(n,e)};this.fromNode=function(e){var t=["font-family","font-size","text-align","list-style-type","line-height"];var n=r(e,t)||{};n["font-size"]=parseInt(n["font-size"],10);return n};this.stylePara=function(e,n){he.each(e.nodes(we.isPara,{includeAncestor:true}),function(e,t){he(t).css(n)})};this.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN";var r=!!(t&&t.expandClosestSibling);var o=!!(t&&t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(we.create(n))];var i=we.makePredByNodeName(n);var a=e.nodes(we.isText,{fullyContains:true}).map(function(e){return we.singleChildAncestor(e,i)||we.wrap(e,n)});if(r){if(o){var s=e.nodes();i=ve.and(i,function(e){return ge.contains(s,e)})}return a.map(function(e){var t=we.withClosestSiblings(e,i);var n=ge.head(t);var r=ge.tail(t);he.each(r,function(e,t){we.appendChildNodes(n,t.childNodes);we.remove(t)});return ge.head(t)})}else return a};this.current=function(e){var t=he(we.isText(e.sc)?e.sc.parentNode:e.sc);var n=this.fromNode(t);n["font-bold"]=document.queryCommandState("bold")?"bold":"normal";n["font-italic"]=document.queryCommandState("italic")?"italic":"normal";n["font-underline"]=document.queryCommandState("underline")?"underline":"normal";n["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal";n["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal";n["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal";if(!e.isOnList())n["list-style"]="none";else{var r=["circle","disc","disc-leading-zero","square"];var o=he.inArray(n["list-style-type"],r)>-1;n["list-style"]=o?"unordered":"ordered"}var i=we.ancestor(e.sc,we.isPara);if(i&&i.style["line-height"])n["line-height"]=i.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}n.anchor=e.isOnAnchor()&&we.ancestor(e.sc,we.isAnchor);n.ancestors=we.listAncestor(e.sc,we.isEditable);n.range=e;return n}},d=function(){this.insertOrderedList=function(){this.toggleList("OL")};this.insertUnorderedList=function(){this.toggleList("UL")};this.indent=function(){var r=this;var e=g.create().wrapBodyInlineWithPara();var t=e.nodes(we.isPara,{includeAncestor:true});var n=ge.clusterBy(t,ve.peq2("parentNode"));he.each(n,function(e,t){var n=ge.head(t);if(we.isLi(n))r.wrapList(t,n.parentNode.nodeName);else he.each(t,function(e,t){he(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})});e.select()};this.outdent=function(){var r=this;var e=g.create().wrapBodyInlineWithPara();var t=e.nodes(we.isPara,{includeAncestor:true});var n=ge.clusterBy(t,ve.peq2("parentNode"));he.each(n,function(e,t){var n=ge.head(t);if(we.isLi(n))r.releaseList([t]);else he.each(t,function(e,t){he(t).css("marginLeft",function(e,t){t=parseInt(t,10)||0;return t>25?t-25:""})})});e.select()};this.toggleList=function(n){var r=this;var e=g.create().wrapBodyInlineWithPara();var t=e.nodes(we.isPara,{includeAncestor:true});var o=e.paraBookmark(t);var i=ge.clusterBy(t,ve.peq2("parentNode"));if(ge.find(t,we.isPurePara)){var a=[];he.each(i,function(e,t){a=a.concat(r.wrapList(t,n))});t=a}else{var s=e.nodes(we.isList,{includeAncestor:true}).filter(function(e){return!he.nodeName(e,n)});if(s.length)he.each(s,function(e,t){we.replace(t,n)});else t=this.releaseList(i,true)}g.createFromParaBookmark(o,t).select()};this.wrapList=function(e,t){var n=ge.head(e);var r=ge.last(e);var o=we.isList(n.previousSibling)&&n.previousSibling;var i=we.isList(r.nextSibling)&&r.nextSibling;var a=o||we.insertAfter(we.create(t||"UL"),r);e=e.map(function(e){return we.isPurePara(e)?we.replace(e,"LI"):e});we.appendChildNodes(a,e);if(i){we.appendChildNodes(a,ge.from(i.childNodes));we.remove(i)}return e};this.releaseList=function(e,l){var u=[];he.each(e,function(e,t){var n=ge.head(t);var r=ge.last(t);var o=l?we.lastAncestor(n,we.isList):n.parentNode;var i=o.childNodes.length>1?we.splitTree(o,{node:r.parentNode,offset:we.position(r)+1},{isSkipPaddingBlankHTML:true}):null;var a=we.splitTree(o,{node:n.parentNode,offset:we.position(n)},{isSkipPaddingBlankHTML:true});t=l?we.listDescendant(a,we.isLi):ge.from(a.childNodes).filter(we.isLi);if(l||!we.isList(o.parentNode))t=t.map(function(e){return we.replace(e,"P")});he.each(ge.from(t).reverse(),function(e,t){we.insertAfter(t,o)});var s=ge.compact([o,a,i]);he.each(s,function(e,t){var n=[t].concat(we.listDescendant(t,we.isList));he.each(n.reverse(),function(e,t){if(!we.nodeLength(t))we.remove(t,true)})});u=u.concat(t)});return u}},p=function(){var i=new d;this.insertTab=function(e,t,n){var r=we.createText(new Array(n+1).join(we.NBSP_CHAR));t=t.deleteContents();t.insertNode(r,true);t=g.create(r,n);t.select()};this.insertParagraph=function(){var e=g.create();e=e.deleteContents();e=e.wrapBodyInlineWithPara();var t=we.ancestor(e.sc,we.isPara);var n;if(t)if(we.isEmpty(t)&&we.isLi(t)){i.toggleList(t.parentNode.nodeName);return}else{n=we.splitTree(t,e.getStartPoint());var r=we.listDescendant(t,we.isEmptyAnchor);r=r.concat(we.listDescendant(n,we.isEmptyAnchor));he.each(r,function(e,t){we.remove(t)})}else{var o=e.sc.childNodes[e.so];n=he(we.emptyPara)[0];if(o)e.sc.insertBefore(n,o);else e.sc.appendChild(n)}g.create(n,0).normalize().select()}},x=function(){this.tab=function(e,t){var n=we.ancestor(e.commonAncestor(),we.isCell);var r=we.ancestor(n,we.isTable);var o=we.listDescendant(r,we.isCell);var i=ge[t?"prev":"next"](o,n);if(i)g.create(i,0).select()};this.createTable=function(e,t){var n=[],r;for(var o=0;o<e;o++)n.push("<td>"+we.blank+"</td>");r=n.join("");var i=[],a;for(var s=0;s<t;s++)i.push("<tr>"+r+"</tr>");a=i.join("");return he('<table class="table table-bordered">'+a+"</table>")[0]}},C="bogus",S=function(r){var t=this;var h=new f;var o=new x;var i=new p;var n=new d;this.createRange=function(e){this.focus(e);return g.create()};this.saveRange=function(e,t){this.focus(e);e.data("range",g.create());if(t)g.create().collapse().select()};this.saveNode=function(e){var t=[];for(var n=0,r=e[0].childNodes.length;n<r;n++)t.push(e[0].childNodes[n]);e.data("childNodes",t)};this.restoreRange=function(e){var t=e.data("range");if(t){t.select();this.focus(e)}};this.restoreNode=function(e){e.html("");var t=e.data("childNodes");for(var n=0,r=t.length;n<r;n++)e[0].appendChild(t[n])};this.currentStyle=function(e){var t=g.create();if(!t||!t.isOnEditable()){var n=he(e).get(0);t=g.create(n,0,n,0)}var r=t&&t.isOnEditable()?h.current(t.normalize()):{};if(we.isImg(e))r.image=e;return r};this.styleFromNode=function(e){return h.fromNode(e)};var a=function(e){var t=we.makeLayoutInfo(e).holder();r.bindCustomEvent(t,e.data("callbacks"),"before.command")(e.html(),e)};var s=function(e){var t=we.makeLayoutInfo(e).holder();r.bindCustomEvent(t,e.data("callbacks"),"change")(e.html(),e)};this.undo=function(e){a(e);e.data("NoteHistory").undo();s(e)};this.redo=function(e){a(e);e.data("NoteHistory").redo();s(e)};var m=this.beforeCommand=function(e){a(e);t.focus(e)};var v=this.afterCommand=function(e,t){e.data("NoteHistory").recordUndo();if(!t)s(e)};var e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"];for(var l=0,u=e.length;l<u;l++)this[e[l]]=function(n){return function(e,t){m(e);document.execCommand(n,false,t);v(e,true)}}(e[l]);this.tab=function(e,t){var n=this.createRange(e);if(n.isCollapsed()&&n.isOnCell())o.tab(n);else{m(e);i.insertTab(e,n,t.tabsize);v(e)}};this.untab=function(e){var t=this.createRange(e);if(t.isCollapsed()&&t.isOnCell())o.tab(t,true)};this.insertParagraph=function(e){m(e);i.insertParagraph(e);v(e)};this.insertOrderedList=function(e){m(e);n.insertOrderedList(e);v(e)};this.insertUnorderedList=function(e){m(e);n.insertUnorderedList(e);v(e)};this.indent=function(e){m(e);n.indent(e);v(e)};this.outdent=function(e){m(e);n.outdent(e);v(e)};this.insertImage=function(t,e,n){b.createImage(e,n).then(function(e){m(t);e.css({display:"",width:Math.min(t.width(),e.width())});g.create().insertNode(e[0]);g.createFromNodeAfter(e[0]).select();v(t)}).fail(function(){var e=we.makeLayoutInfo(t).holder();r.bindCustomEvent(e,t.data("callbacks"),"image.upload.error")()})};this.insertNode=function(e,t){m(e);g.create().insertNode(t);g.createFromNodeAfter(t).select();v(e)};this.prependNode=function(e,t){m(e);e.prepend(t);g.createFromNodeAfter(t).select();v(e)};this.insertAfter=function(e,t,n){m(e);he(n).after(t);g.createFromNodeAfter(t).select();v(e)};this.insertAtCursor=function(e,t){m(e);c(t);g.createFromNodeAfter(t).select();v(e)};function c(e){var t,n,r;if(window.getSelection){t=window.getSelection();if(t.getRangeAt&&t.rangeCount){n=t.getRangeAt(0);n.deleteContents();n.insertNode(e)}}else if(document.selection&&document.selection.createRange)document.selection.createRange().text=e.outerHTML}this.insertText=function(e,t){m(e);var n=g.create().insertNode(we.createText(t));g.create(n,we.nodeLength(n)).select();v(e)};this.pasteHTML=function(e,t){m(e);var n=g.create().pasteHTML(t);g.createFromNodeAfter(ge.last(n)).select();v(e)};this.formatBlock=function(e,t){m(e);t=me.isMSIE?"<"+t+">":t;document.execCommand("FormatBlock",false,t);v(e)};this.formatPara=function(e){m(e);this.formatBlock(e,"P");v(e)};for(var l=1;l<=6;l++)this["formatH"+l]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(l);this.fontSize=function(e,t){var n=g.create();if(n.isCollapsed()){var r=h.styleNodes(n);var o=ge.head(r);he(r).css({"font-size":t+"px"});if(o&&!we.nodeLength(o)){o.innerHTML=we.ZERO_WIDTH_NBSP_CHAR;g.createFromNodeAfter(o.firstChild).select();e.data(C,o)}}else{m(e);he(h.styleNodes(n)).css({"font-size":t+"px"});v(e)}};this.insertHorizontalRule=function(e){m(e);var t=g.create();var n=t.insertNode(he("<HR/>")[0]);if(n.nextSibling)g.create(n.nextSibling,0).normalize().select();v(e)};this.removeBogus=function(e){var t=e.data(C);if(!t)return;var n=ge.find(ge.from(t.childNodes),we.isText);var r=n.nodeValue.indexOf(we.ZERO_WIDTH_NBSP_CHAR);if(r!==-1)n.deleteData(r,1);if(we.isEmpty(t))we.remove(t);e.removeData(C)};this.lineHeight=function(e,t){m(e);h.stylePara(g.create(),{lineHeight:t});v(e)};this.unlink=function(e){var t=this.createRange(e);if(t.isOnAnchor()){var n=we.ancestor(t.sc,we.isAnchor);t=g.createFromNode(n);t.select();m(e);document.execCommand("unlink");v(e)}};this.createLink=function(e,t,n){var r=t.url;var o=t.text;var i=t.isNewWindow;var a=t.range||this.createRange(e);var s=a.toString()!==o;n=n||we.makeLayoutInfo(e).editor().data("options");m(e);if(n.onCreateLink)r=n.onCreateLink(r);var l=[];if(s){var u=a.insertNode(he("<A>"+o+"</A>")[0]);l.push(u)}else l=h.styleNodes(a,{nodeName:"A",expandClosestSibling:true,onlyPartialContains:true});he.each(l,function(e,t){he(t).attr("href",r);if(i)he(t).attr("target","_blank");else he(t).removeAttr("target")});var c=g.createFromNodeBefore(ge.head(l));var f=c.getStartPoint();var d=g.createFromNodeAfter(ge.last(l));var p=d.getEndPoint();g.create(f.node,f.offset,p.node,p.offset).select();v(e)};this.getLinkInfo=function(e){this.focus(e);var t=g.create().expand(we.isAnchor);var n=e.is("a")?e:he(ge.head(t.nodes(we.isAnchor)));var r=n.is("a")?n.html():t.toString();return{range:t,text:r,isNewWindow:n.length?n.attr("target")==="_blank":false,url:n.length?n.attr("href"):""}};this.color=function(e,t){var n=JSON.parse(t);var r=n.foreColor,o=n.backColor;m(e);if(r)document.execCommand("foreColor",false,r);if(o)document.execCommand("backColor",false,o);v(e)};this.insertTable=function(e,t){var n=t.split("x");m(e);var r=g.create().deleteContents();r.insertNode(o.createTable(n[0],n[1]));v(e)};this.floatMe=function(e,t,n){m(e);n.css("float",t);v(e)};this.imageShape=function(e,t,n){m(e);n.removeClass("img-rounded img-circle img-thumbnail");if(t)n.addClass(t);v(e)};this.resize=function(e,t,n){m(e);n.css({width:t*100+"%",height:""});v(e)};this.resizeTo=function(e,t,n){var r;if(n){var o=e.y/e.x;var i=t.data("ratio");r={width:i>o?e.x:e.y/i,height:i>o?e.x*i:e.y}}else r={width:e.x,height:e.y};t.css(r)};this.removeMedia=function(e,t,n){m(e);n.detach();r.bindCustomEvent(he(),e.data("callbacks"),"media.delete")(n,e);v(e)};this.focus=function(e){e.focus();if(me.isFF){var t=g.create();if(!t||t.isOnEditable())return;g.createFromNode(e[0]).normalize().collapse().select()}};this.isEmpty=function(e){return we.isEmpty(e[0])||we.emptyPara===e.html()}},s=function(){this.update=function(r,o){var e=function(e,t){e.find(".dropdown-menu li a").each(function(){var e;if(typeof t==="function")e=t(he(this));else e=he(this).data("value")+""===t+"";this.className=e?"checked":""})};var t=function(e,t){var n=r.find(e);n.toggleClass("active",t())};if(o.image){var n=he(o.image);t('button[data-event="imageShape"][data-value="img-rounded"]',function(){return n.hasClass("img-rounded")});t('button[data-event="imageShape"][data-value="img-circle"]',function(){return n.hasClass("img-circle")});t('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return n.hasClass("img-thumbnail")});t('button[data-event="imageShape"]:not([data-value])',function(){return!n.is(".img-rounded, .img-circle, .img-thumbnail")});var i=n.css("float");t('button[data-event="floatMe"][data-value="left"]',function(){return i==="left"});t('button[data-event="floatMe"][data-value="right"]',function(){return i==="right"});t('button[data-event="floatMe"][data-value="none"]',function(){return i!=="left"&&i!=="right"});var a=n.attr("style");t('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(a)});t('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(a)});t('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(a)});return}var s=r.find(".note-fontname");if(s.length){var l=o["font-family"];if(!!l){var u=l.split(",");for(var c=0,f=u.length;c<f;c++){l=u[c].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"");if(me.isFontInstalled(l))break}s.find(".note-current-fontname").text(l);e(s,l)}}var d=r.find(".note-fontsize");d.find(".note-current-fontsize").text(o["font-size"]);e(d,parseFloat(o["font-size"]));var p=r.find(".note-height");e(p,parseFloat(o["line-height"]));t('button[data-event="bold"]',function(){return o["font-bold"]==="bold"});t('button[data-event="italic"]',function(){return o["font-italic"]==="italic"});t('button[data-event="underline"]',function(){return o["font-underline"]==="underline"});t('button[data-event="strikethrough"]',function(){return o["font-strikethrough"]==="strikethrough"});t('button[data-event="superscript"]',function(){return o["font-superscript"]==="superscript"});t('button[data-event="subscript"]',function(){return o["font-subscript"]==="subscript"});t('button[data-event="justifyLeft"]',function(){return o["text-align"]==="left"||o["text-align"]==="start"});t('button[data-event="justifyCenter"]',function(){return o["text-align"]==="center"});t('button[data-event="justifyRight"]',function(){return o["text-align"]==="right"});t('button[data-event="justifyFull"]',function(){return o["text-align"]==="justify"});t('button[data-event="insertUnorderedList"]',function(){return o["list-style"]==="unordered"});t('button[data-event="insertOrderedList"]',function(){return o["list-style"]==="ordered"});var h=!!he(o.anchor).closest("[data-app-modern-menu]").length;var m=r.find(".note-mbrBtnColor");var v=r.find(".note-mbrLinkColor");if(he(o.anchor).is(".btn:not(.mbr-menu-item, .mbr-editable-menu-item)")){v.hide();m.parent().css("display","");e(m,function(e){var t=he(o.anchor).hasClass(e.data("value"));if(t){var n=e.find("> span").clone().css("margin-left",0);m.find("button > .note-current-mbrBtnColor").html(n)}return t})}else if(he(o.anchor).is(".nav-link[data-app-btn], .dropdown-item[data-app-btn]")&&!h){m.parent().hide();v.hide()}else{m.parent().hide();v.show();if(he(o.anchor).is("a"))e(v,function(e){var t=he(o.anchor).hasClass(e.data("value"));if(e.data("value")==="text-primary"&&!he(o.anchor).is(".text-primary,"+".text-success,"+".text-info,"+".text-warning,"+".text-danger,"+".text-white,"+".text-black,"+".text-gray"))t=true;if(t){var n=e.find("> span").clone().css("margin-left",0);v.find("button > .note-current-mbrLinkColor").html(n)}return t})}var g=r.find('.btn[data-name="mbrBtnRemove"]');if(g.length){var b=he(o.anchor).hasClass("mbr-menu-item")||he(o.anchor).hasClass("mbr-editable-menu-item");var y=b||he(o.anchor).attr("data-app-btn")==="parent";var w=y?he(o.anchor).parent().siblings("li").find("> a"):he(o.anchor).siblings("btn, [data-app-btn]");if(b)if(!w.length)g.attr("disabled","disabled");else g.removeAttr("disabled")}var x=r.find(".note-mbrFonts > [data-name=mbrFontSize]");x.find(".note-current-mbrFontSize").text(o["font-size"]);e(x,parseFloat(o["font-size"]));var C=r.find(".note-mbrFonts > [data-name=mbrFonts]");if(C.length){var S=o["font-family"];if(!!S){var k=S.split(",");for(var P=0,A=k.length;P<A;P++){S=k[P].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"");if(me.isFontInstalled(S))break}C.find(".note-current-mbrFonts").css("font-family","'"+S+"'").text(S);e(C,S)}}var F=r.find("[data-name=mbrColor] .curTextColor");if(o.ancestors){var _=he(o.ancestors[0]).parent();var I=_.data("options");var T=he(o.anchor).hasClass("btn")||he(o.anchor).is("[data-app-btn]:not(.mbr-menu-item, .mbr-editable-menu-item, .nav-link, .dropdown-item)");if(I&&I.customToolbar&&I.customToolbar.mbrColor==="on")T=false;if(T)F.parent().remove();else{var M;for(var E in o.ancestors)if(/P|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(o.ancestors[E].tagName)){M=he(o.ancestors[E]).css("color");continue}if(!M){var R=he(o.ancestors[0]).parent();M=R.css("color")}F.css({background:he.summernote.adaptColorForBg(M||"#000")})}}var N=r.find("[data-name=mbrAlign]");var O=N.find("> i");switch(o["text-align"]){case"left":case"start":O.attr("class","mbr-icon-align-left");break;case"right":O.attr("class","mbr-icon-align-right");break;case"center":O.attr("class","mbr-icon-align-center");break;case"justify":O.attr("class","mbr-icon-align-justify");break}};this.updateRecentColor=function(e,t,n){var r=he(e).closest(".note-color");var o=r.find(".note-recent-color");var i=JSON.parse(o.attr("data-value"));i[t]=n;o.attr("data-value",JSON.stringify(i));var a=t==="backColor"?"background-color":"color";o.find("i").css(a,n)}},k=function(){var r=new s;this.update=function(e,t){r.update(e,t)};this.updateRecentColor=function(e,t,n){r.updateRecentColor(e,t,n)};this.activate=function(e){e.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(e){e.find("button").not('button[data-event="codeview"]').addClass("disabled")};this.updateFullscreen=function(e,t){var n=e.find('button[data-event="fullscreen"]');n.toggleClass("active",t)};this.updateCodeview=function(e,t){var n=e.find('button[data-event="codeview"]');n.toggleClass("active",t);if(t)this.deactivate(e);else this.activate(e)};this.get=function(e,t){var n=we.makeLayoutInfo(e).toolbar();return n.find("[data-name="+t+"]")};this.setButtonState=function(e,t,n){n=n===false?false:true;var r=this.get(e,t);r.toggleClass("active",n)}},l=24,P=function(){var i=he(document);this.attach=function(e,t){if(!t.disableResizeEditor)e.statusbar().on("mousedown",n)};var n=function(e){e.preventDefault();e.stopPropagation();var n=we.makeLayoutInfo(e.target).editable();var r=n.offset().top-i.scrollTop();var t=we.makeLayoutInfo(e.currentTarget||e.target);var o=t.editor().data("options");i.on("mousemove.summernote",function(e){var t=e.clientY-(r+l);t=o.minHeight>0?Math.max(t,o.minHeight):t;t=o.maxHeight>0?Math.min(t,o.maxHeight):t;n.height(t)}).one("mouseup.summernote",function(){i.off("mousemove.summernote")})}},A=function(){var _=new s;var l=-11;var u=5;var c=5;var f=20;var d=200;var I=function(e,t,n){var r=he(e);var o=t?r.offset():r.position();var i=r.outerWidth(true);return{left:o.left+i/2,top:o.top,lineHeight:n.ancestors[0]?he(n.ancestors[0].parentNode).outerHeight():""}};var n=function(e,t){var n=he(window).width();e.css({display:"block",left:u,top:f});var r=e.outerWidth();var o=e.outerHeight();e.css("display","none");t.left=t.left-r/2;if(t.top-o<f){e.removeClass("top").addClass("bottom");t.top=t.top+parseFloat(t.lineHeight)}else{e.removeClass("bottom").addClass("top");t.top=t.top-o}var i=t.left;if(t.left<u)t.left=u;else if(t.left+r>n-c*2)t.left=n-c*2-r;var a=e.find(".dropdown-menu").parent(".btn-group");if(t.top<d)a.removeClass("dropup");else a.addClass("dropup");var s=l+i-t.left;e.find("> .arrow").css("margin-left",s);return t};var T=function(e,t){t=n(e,t);e.css({display:"block",left:t.left,top:t.top})};this.addGroup=m.addGroup;this.update=function(e,t,n){_.update(e,t);var r=t.anchor&&/btn|mbr-menu-item|mbr-editable-menu-item/g.test(t.anchor.className);if(!r&&t.anchor)r=!!he(t.anchor).attr("data-app-btn");var o=t.range&&t.range.isCollapsed();var i=o&&t.anchor&&!r;var a=e.find(".note-link-popover");if(i){var s=a.find("a:eq(0)");var l=he(t.anchor).attr("href");var u=he(t.anchor).attr("target");s.html(l);if(!u)s.removeAttr("target");else s.attr("target","_blank");setTimeout(function(){T(a,I(t.anchor,n,t),t)},0)}else a.hide();var c=e.find(".note-button-popover");if(r){var f=I(t.anchor,n,t);setTimeout(function(){T(c,f)},0)}else c.hide();var d=e.find(".note-image-popover");if(t.image)T(d,I(t.image,n,t),t);else d.hide();var p=e.find(".note-air-popover");if(n&&t.range&&!r&&!i){var h=t.range.getClientRects();if(h[0]){var m=0;var v=0;for(var g in h)if(typeof h[g]==="object")if(h[g].top===h[0].top){m+=h[g].width;v=h[g].right}else continue;h={bottom:h[0].bottom,height:h[0].height,left:h[0].left,top:h[0].top,right:v,width:m};var b=p.find(".note-font");var y=p.find(".note-para");var w=p.find(".note-style");var x=p.find(".note-mbrLink");var C=p.find(".note-mbrFonts");var S=p.find("button[data-name=mbrAlign]");var k;if(o){b.hide();x.hide();y.show();w.show();C.show();S.show();var P;for(var A in t.ancestors)if(/P|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(t.ancestors[A].tagName)){P=t.ancestors[A];continue}if(!P)P=he(t.ancestors[0]).parent()[0];if(!P)return;k=I(P,n,t)}else{b.show();x.show();y.hide();w.hide();C.hide();S.hide();var F=ve.rect2bnd(h);k={left:Math.max(F.left+F.width/2,0),top:F.top,lineHeight:t.ancestors[0]?he(t.ancestors[0].parentNode).outerHeight():""}}setTimeout(function(){T(p,k)},0)}}else p.hide()};this.updateRecentColor=function(e,t,n){e.updateRecentColor(e,t,n)};this.hide=function(e){e.children().hide()}},F=function(f){var d=he(document);var t=function(e){if(we.isControlSizing(e.target)){e.preventDefault();e.stopPropagation();var t=we.makeLayoutInfo(e.target),n=t.handle(),r=t.popover(),o=t.editable(),i=t.editor();var a=n.find(".note-control-selection").data("target"),s=he(a),l=s.offset(),u=d.scrollTop();var c=i.data("options").airMode;d.on("mousemove.summernote",function(e){f.invoke("editor.resizeTo",{x:e.clientX-l.left,y:e.clientY-(l.top-u)},s,!e.shiftKey);f.invoke("handle.update",n,{image:a},c);f.invoke("popover.update",r,{image:a},c)}).one("mouseup",function(){d.off("mousemove.summernote");f.invoke("editor.afterCommand",o)});if(!s.data("ratio"))s.data("ratio",s.height()/s.width())}};this.attach=function(e){e.handle().on("mousedown.summernote",t)};this.update=function(e,t,n){var r=e.find(".note-control-selection");if(t.image){var o=he(t.image);var i=n?o.offset():o.position();var a={w:o.outerWidth(true),h:o.outerHeight(true)};r.css({display:"block",left:i.left,top:i.top,width:a.w,height:a.h}).data("target",t.image);var s=a.w+"x"+a.h;r.find(".note-control-selection-info").text(s)}else r.hide()};this.hide=function(e){e.children().hide()}},_=function(s){var l=he(window);var u=he("html, body");this.toggle=function(e){var t=e.editor(),n=e.toolbar(),r=e.editable(),o=e.codable();var i=function(e){r.css("height",e.h);o.css("height",e.h);if(o.data("cmeditor"))o.data("cmeditor").setsize(null,e.h)};t.toggleClass("fullscreen");var a=t.hasClass("fullscreen");if(a){r.data("orgheight",r.css("height"));l.on("resize.summernote",function(){i({h:l.height()-n.outerHeight()})}).trigger("resize");u.css("overflow","hidden")}else{l.off("resize.summernote");i({h:r.data("orgheight")});u.css("overflow","visible")}s.invoke("toolbar.updateFullscreen",n,a)}},h;if(me.hasCodeMirror)if(me.isSupportAmd)Promise.resolve().then(function(){var e=[O(34)];(function(e){h=e}).apply(null,e)}).catch(O.oe);else h=window.CodeMirror;var I=function(c){this.sync=function(e){var t=c.invoke("codeview.isActivated",e);if(t&&me.hasCodeMirror)e.codable().data("cmEditor").save()};this.isActivated=function(e){var t=e.editor();return t.hasClass("codeview")};this.toggle=function(e){if(this.isActivated(e))this.deactivate(e);else this.activate(e)};this.activate=function(e){var t=e.editor(),n=e.toolbar(),r=e.editable(),o=e.codable(),i=e.popover(),a=e.handle();var s=t.data("options");o.val(we.html(r,s.prettifyHtml));o.height(r.height());c.invoke("toolbar.updateCodeview",n,true);c.invoke("popover.hide",i);c.invoke("handle.hide",a);t.addClass("codeview");o.focus();if(me.hasCodeMirror){var l=h.fromTextArea(o[0],s.codemirror);if(s.codemirror.tern){var u=new h.TernServer(s.codemirror.tern);l.ternServer=u;l.on("cursorActivity.summernote",function(e){u.updateArgHints(e)})}l.setSize(null,r.outerHeight());o.data("cmEditor",l)}};this.deactivate=function(e){var t=e.holder(),n=e.editor(),r=e.toolbar(),o=e.editable(),i=e.codable();var a=n.data("options");if(me.hasCodeMirror){var s=i.data("cmEditor");i.val(s.getValue());s.toTextArea()}var l=we.value(i,a.prettifyHtml)||we.emptyPara;var u=o.html()!==l;o.html(l);o.height(a.height?i.height():"auto");n.removeClass("codeview");if(u)c.bindCustomEvent(t,o.data("callbacks"),"change")(o.html(),o);o.focus();c.invoke("toolbar.updateCodeview",r,false)}},T=function(u){var n=he(document);this.attach=function(e,t){if(t.airMode||t.disableDragAndDrop)n.on("drop.summernote",function(e){e.preventDefault()});else this.attachDragAndDropEvent(e,t)};this.attachDragAndDropEvent=function(r,o){var i=he(),a=r.editor(),s=r.dropzone(),l=s.find(".note-dropzone-message");n.on("dragenter.summernote",function(e){var t=u.invoke("codeview.isActivated",r);var n=a.width()>0&&a.height()>0;if(!t&&!i.length&&n){a.addClass("dragover");s.width(a.width());s.height(a.height());l.text(o.langInfo.image.dragImageHere)}i=i.add(e.target)}).on("dragleave",function(e){i=i.not(e.target);if(!i.length)a.removeClass("dragover")}).on("drop",function(){i=he();a.removeClass("dragover")});s.on("dragenter.summernote",function(){s.addClass("hover");l.text(o.langInfo.image.dropImage)}).on("dragleave",function(){s.removeClass("hover");l.text(o.langInfo.image.dragImageHere)});s.on("drop.summernote",function(e){var t=e.originalEvent.dataTransfer;var n=we.makeLayoutInfo(e.currentTarget||e.target);if(t&&t.files&&t.files.length){e.preventDefault();n.editable().focus();u.insertImages(n,t.files)}else{var r=function(){n.holder().summernote("insertNode",this)};for(var o=0,i=t.types.length;o<i;o++){var a=t.types[o];var s=t.getData(a);if(a.toLowerCase().indexOf("text")>-1)n.holder().summernote("pasteHTML",s);else he(s).each(r)}}}).on("dragover",false)}},M=function(u){var c;this.attach=function(t){if(me.isMSIE&&me.browserVersion>10||me.isFF){c=he("<div />").attr("contenteditable",true).css({position:"absolute",left:-1e5,opacity:0});t.editable().on("keydown.summernote",function(e){if(e.ctrlKey&&e.keyCode===y.code.V){u.invoke("saveRange",t.editable());c.focus();setTimeout(function(){n(t)},0)}});t.editable().before(c)}else t.editable().on("paste.summernote",e)};var n=function(e){var t=e.editable();var n=c[0].firstChild;if(we.isImg(n)){var r=n.src;var o=atob(r.split(",")[1]);var i=new Uint8Array(o.length);for(var a=0;a<o.length;a++)i[a]=o.charCodeAt(a);var s=new Blob([i],{type:"image/png"});s.name="clipboard.png";u.invoke("restoreRange",t);u.invoke("focus",t);u.insertImages(e,[s])}else{var l=he("<div />").html(c.html()).html();u.invoke("restoreRange",t);u.invoke("focus",t);if(l)u.invoke("pasteHTML",t,l)}c.empty()};var e=function(e){var t=e.originalEvent.clipboardData;var n=we.makeLayoutInfo(e.currentTarget||e.target);var r=n.editable();if(t&&t.items&&t.items.length){var o=ge.head(t.items);if(o.kind==="file"&&o.type.indexOf("image/")!==-1)u.insertImages(n,[o.getAsFile()]);u.invoke("editor.afterCommand",r)}}},E=function(s){var l=function(e,t){e.toggleClass("disabled",!t);e.attr("disabled",!t)};var u=function(e,t){e.on("keypress.summernote",function(e){if(e.keyCode===y.code.ENTER)t.trigger("click")})};this.showLinkDialog=function(e,a,s){return he.Deferred(function(t){var n=a.find(".note-link-dialog");var r=n.find(".note-link-text"),o=n.find(".note-link-url"),e=n.find(".note-link-btn"),i=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){r.val(s.text);r.on("input",function(){l(e,r.val()&&o.val());s.text=r.val()});if(!s.url){s.url=s.text||"http://";l(e,s.text)}o.on("input",function(){l(e,r.val()&&o.val());if(!s.text)r.val(o.val())}).val(s.url).trigger("focus").trigger("select");u(o,e);u(r,e);i.prop("checked",s.isNewWindow);e.one("click",function(e){e.preventDefault();t.resolve({range:s.range,url:o.val(),text:r.val(),isNewWindow:i.is(":checked")});n.modal("hide")})}).one("hidden.bs.modal",function(){r.off("input keypress");o.off("input keypress");e.off("click");if(t.state()==="pending")t.reject()}).modal("show")}).promise()};this.show=function(e){var t=e.editor(),n=e.dialog(),r=e.editable(),o=e.popover(),i=s.invoke("editor.getLinkInfo",r);var a=t.data("options");s.invoke("editor.saveRange",r);this.showLinkDialog(r,n,i).then(function(e){s.invoke("editor.restoreRange",r);s.invoke("editor.createLink",r,e,a);s.invoke("popover.hide",o)}).fail(function(){s.invoke("editor.restoreRange",r)})}},R=function(r){var a=function(e,t){e.toggleClass("disabled",!t);e.attr("disabled",!t)};var s=function(e,t){e.on("keypress.summernote",function(e){if(e.keyCode===y.code.ENTER)t.trigger("click")})};this.show=function(t){var e=t.dialog(),n=t.editable();r.invoke("editor.saveRange",n);this.showImageDialog(n,e).then(function(e){r.invoke("editor.restoreRange",n);if(typeof e==="string")r.invoke("editor.insertImage",n,e);else r.insertImages(t,e)}).fail(function(){r.invoke("editor.restoreRange",n)})};this.showImageDialog=function(e,i){return he.Deferred(function(t){var n=i.find(".note-image-dialog");var e=i.find(".note-image-input"),r=i.find(".note-image-url"),o=i.find(".note-image-btn");n.one("shown.bs.modal",function(){e.replaceWith(e.clone().on("change",function(){t.resolve(this.files||this.value);n.modal("hide")}).val(""));o.click(function(e){e.preventDefault();t.resolve(r.val());n.modal("hide")});r.on("keyup paste",function(e){var t;if(e.type==="paste")t=e.originalEvent.clipboardData.getData("text");else t=r.val();a(o,t)}).val("").trigger("focus");s(r,o)}).one("hidden.bs.modal",function(){e.off("change");r.off("keyup paste keypress");o.off("click");if(t.state()==="pending")t.reject()}).modal("show")})}},N=function(r){this.showHelpDialog=function(e,n){return he.Deferred(function(e){var t=n.find(".note-help-dialog");t.one("hidden.bs.modal",function(){e.resolve()}).modal("show")}).promise()};this.show=function(e){var t=e.dialog(),n=e.editable();r.invoke("editor.saveRange",n,true);this.showHelpDialog(n,t).then(function(){r.invoke("editor.restoreRange",n)})}},u=function(){var r=this;var d=this.modules={editor:new S(this),toolbar:new k(this),statusbar:new P(this),popover:new A(this),handle:new F(this),fullscreen:new _(this),codeview:new I(this),dragAndDrop:new T(this),clipboard:new M(this),linkDialog:new E(this),imageDialog:new R(this),helpDialog:new N(this)};this.invoke=function(){var e=ge.head(ge.from(arguments));var t=ge.tail(ge.from(arguments));var n=e.split(".");var r=n.length>1;var o=r&&ge.head(n);var i=r?ge.last(n):ge.head(n);var a=this.getModule(o);var s=a[i];return s&&s.apply(a,t)};this.getModule=function(e){return this.modules[e]||this.modules.editor};var l=this.bindCustomEvent=function(t,n,r){return function(){var e=n[ve.namespaceToCamel(r,"on")];if(e)e.apply(t[0],arguments);return t.trigger("summernote."+r,arguments)}};this.insertImages=function(e,t){var n=e.editor(),r=e.editable(),o=e.holder();var i=r.data("callbacks");var a=n.data("options");if(i.onImageUpload)l(o,i,"image.upload")(t);else he.each(t,function(e,t){var n=t.name;if(a.maximumImageFileSize&&a.maximumImageFileSize<t.size)l(o,i,"image.upload.error")(a.langInfo.image.maximumFileSizeError);else b.readFileAsDataURL(t).then(function(e){d.editor.insertImage(r,e,n)}).fail(function(){l(o,i,"image.upload.error")(a.langInfo.image.maximumFileSizeError)})})};var p={showLinkDialog:function(e){d.linkDialog.show(e)},showImageDialog:function(e){d.imageDialog.show(e)},showHelpDialog:function(e){d.helpDialog.show(e)},fullscreen:function(e){d.fullscreen.toggle(e)},codeview:function(e){d.codeview.toggle(e)}};var s=function(e){if(we.isImg(e.target))e.preventDefault()};var u=function(e){var t=we.makeLayoutInfo(e.currentTarget||e.target);d.editor.removeBogus(t.editable());h(e)};this.updateStyleInfo=function(e,t){if(!e||!t.popover().length)return;var n=t.editor().data("options").airMode;if(!n)d.toolbar.update(t.toolbar(),e);d.popover.update(t.popover(),e,n);d.handle.update(t.handle(),e,n)};var h=function(e){var n=e.target;setTimeout(function(){var e=we.makeLayoutInfo(n);var t=d.editor.currentStyle(n);r.updateStyleInfo(t,e)},0)};var c=function(e){var t=we.makeLayoutInfo(e.currentTarget||e.target);d.popover.hide(t.popover());d.handle.hide(t.handle())};var f=function(e){var t=he(e.target).closest("[data-event]");if(t.length)e.preventDefault()};var m=function(e){var t=he(e.target).closest("[data-event]");if(!t.length)return;var n=t.attr("data-event"),r=t.attr("data-value"),o=t.attr("data-hide");var i=we.makeLayoutInfo(e.target);var a;if(he.inArray(n,["resize","floatMe","removeMedia","imageShape"])!==-1){var s=i.handle().find(".note-control-selection");a=he(s.data("target"))}if(o)t.parents(".popover").hide();if(he.isFunction(he.summernote.pluginEvents[n]))he.summernote.pluginEvents[n](e,d.editor,i,r);else if(d.editor[n]){var l=i.editable();l.focus();d.editor[n](l,r,a);e.preventDefault()}else if(p[n]){p[n].call(this,i);e.preventDefault()}if(he.inArray(n,["backColor","foreColor"])!==-1){var u=i.editor().data("options",u);var c=u.airMode?d.popover:d.toolbar;c.updateRecentColor(ge.head(t),n,r)}if(t.attr("data-bs-original-title")){var f=t.siblings("ul.dropdown-menu");t.toggleClass("show");if(f.length){f.toggleClass("show");f.css("z-index",1002);f.css("transform","translateY(40px)")}}h(e)};var v=18;var g=function(e,t){var n=he(e.target.parentNode);var r=n.next();var o=n.find(".note-dimension-picker-mousecatcher");var i=n.find(".note-dimension-picker-highlighted");var a=n.find(".note-dimension-picker-unhighlighted");var s;if(e.offsetX===undefined){var l=he(e.target).offset();s={x:e.pageX-l.left,y:e.pageY-l.top}}else s={x:e.offsetX,y:e.offsetY};var u={c:Math.ceil(s.x/v)||1,r:Math.ceil(s.y/v)||1};i.css({width:u.c+"em",height:u.r+"em"});o.attr("data-value",u.c+"x"+u.r);if(3<u.c&&u.c<t.insertTableMaxSize.col)a.css({width:u.c+1+"em"});if(3<u.r&&u.r<t.insertTableMaxSize.row)a.css({height:u.r+1+"em"});r.html(u.c+" x "+u.r)};this.bindKeyMap=function(a,s){var l=a.editor();var u=a.editable();u.on("keydown.summernote",function(e){var t=[];if(e.metaKey)t.push("CMD");if(e.ctrlKey&&!e.altKey)t.push("CTRL");if(e.shiftKey)t.push("SHIFT");var n=y.nameFromCode[e.keyCode];if(n)t.push(n);var r;var o=t.join("+");var i=s[o];if(i){r=he.summernote.pluginEvents[o];if(he.isFunction(r))if(r(e,d.editor,a))return false;r=he.summernote.pluginEvents[i];if(he.isFunction(r))r(e,d.editor,a);else if(d.editor[i]){d.editor[i](u,l.data("options"));e.preventDefault()}else if(p[i]){p[i].call(this,a);e.preventDefault()}}else if(y.isEdit(e.keyCode))d.editor.afterCommand(u)})};this.attach=function(e,t){if(t.shortcuts)this.bindKeyMap(e,t.keyMap[me.isMac?"mac":"pc"]);e.editable().on("mousedown.summernote",s);e.editable().on("keyup.summernote",u);e.editable().on("mouseup.summernote",function(e){if(e.which===1)u(e)});e.editable().on("scroll.summernote",c);d.clipboard.attach(e,t);d.handle.attach(e,t);e.popover().on("click",m);e.popover().on("mousedown",f);var n;he(window).on("resize",function(){clearTimeout(n);n=setTimeout(function(){d.popover.hide(e.popover())},50)});d.dragAndDrop.attach(e,t);if(!t.airMode){e.toolbar().on("click",m);e.toolbar().on("mousedown",f);d.statusbar.attach(e,t)}var r=t.airMode?e.popover():e.toolbar();var o=r.find(".note-dimension-picker-mousecatcher");o.css({width:t.insertTableMaxSize.col+"em",height:t.insertTableMaxSize.row+"em"}).on("mousemove",function(e){g(e,t)});e.editor().data("options",t);if(!me.isMSIE)setTimeout(function(){document.execCommand("styleWithCSS",0,t.styleWithSpan)},0);var i=new w(e.editable());e.editable().data("NoteHistory",i);e.editable().data("callbacks",{onInit:t.onInit,onFocus:t.onFocus,onBlur:t.onBlur,onKeydown:t.onKeydown,onKeyup:t.onKeyup,onMousedown:t.onMousedown,onEnter:t.onEnter,onPaste:t.onPaste,onBeforeCommand:t.onBeforeCommand,onChange:t.onChange,onImageUpload:t.onImageUpload,onImageUploadError:t.onImageUploadError,onMediaDelete:t.onMediaDelete,onToolbarClick:t.onToolbarClick});var a=d.editor.currentStyle(e.editable());this.updateStyleInfo(a,e)};this.attachCustomEvent=function(t,e){var n=t.holder();var r=t.editable();var o=r.data("callbacks");r.on("focus.summernote",l(n,o,"focus"));r.on("blur.summernote",l(n,o,"blur"));r.keydown(function(e){if(e.keyCode===y.code.ENTER)l(n,o,"enter").call(this,e);l(n,o,"keydown").call(this,e)});r.keyup(l(n,o,"keyup"));r.on("mousedown.summernote",l(n,o,"mousedown"));r.on("mouseup.summernote",l(n,o,"mouseup"));r.on("scroll.summernote",l(n,o,"scroll"));r.on("paste.summernote",l(n,o,"paste"));var i=me.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";r.on(i+".summernote",function(){l(n,o,"change")(r.html(),r)});if(!e.airMode){t.toolbar().click(l(n,o,"toolbar.click"));t.popover().click(l(n,o,"popover.click"))}if(we.isTextarea(ge.head(n)))n.closest("form").submit(function(e){t.holder().val(t.holder().code());l(n,o,"submit").call(this,e,n.code())});l(n,o,"init")(t);for(var a=0,s=he.summernote.plugins.length;a<s;a++)if(he.isFunction(he.summernote.plugins[a].init))he.summernote.plugins[a].init(t)};this.detach=function(e,t){e.holder().off(".summernote");e.editable().off(".summernote");e.popover().off(".summernote");e.handle().off(".summernote");e.dialog().off();if(!t.airMode){e.dropzone().off();e.toolbar().off();e.statusbar().off()}}},c=function(){var h=function(e,t){var n=t.event;var r=t.value;var o=t.title;var i=t.name;var a=t.className;var s=t.dropdown;var l=t.nocaret;var u=t.hide;return(s?'<div class="btn-group dropup'+(a?" "+a:"")+'"'+(i?' data-name="'+i+'"':"")+">":"")+'<button type="button"'+' class="btn btn-default btn-sm'+(!s&&a?" "+a:"")+(s?" dropdown-toggle":"")+'"'+(s?' data-toggle="dropdown"':"")+(o?' title="'+o+'"':"")+(n?' data-event="'+n+'"':"")+(i&&!s?' data-name="'+i+'"':"")+(r?" data-value='"+r+"'":"")+(u?" data-hide='"+u+"'":"")+(s?' style="z-index: 1001;"':"")+' tabindex="-1">'+e+(s&&!l?' <span class="caret"></span>':"")+"</button>"+(s||"")+(s?"</div>":"")};var m=function(e,t){var n='<i class="'+e+'"></i>';return h(n,t)};var v=function(e,t){var n=he('<div class="'+e+' popover top in" style="display: none;">'+'<div class="arrow"></div>'+'<div class="popover-content">'+"</div>"+"</div>");n.find(".popover-content").append(t);return n};var s=function(e,t,n,r){return'<div class="'+e+' modal" aria-hidden="false">'+'<div class="modal-dialog">'+'<div class="modal-content">'+(t?'<div class="modal-header">'+'<button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button>'+'<h4 class="modal-title">'+t+"</h4>"+"</div>":"")+'<div class="modal-body">'+n+"</div>"+(r?'<div class="modal-footer">'+r+"</div>":"")+"</div>"+"</div>"+"</div>"};var u=function(e,t,n){var r="dropdown-menu"+(t?" "+t:"");n=n||"ul";if(e instanceof Array)e=e.join("");return"<"+n+' class="'+r+'">'+e+"</"+n+">"};var C={picture:function(e,t){return m(t.iconPrefix+t.icons.image.image,{event:"showImageDialog",title:e.image.image,hide:true})},link:function(e,t){return m(t.iconPrefix+t.icons.link.link,{event:"showLinkDialog",title:e.link.link,hide:true})},table:function(e,t){var n=['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'];return m(t.iconPrefix+t.icons.table.table,{title:e.table.table,dropdown:u(n,"note-table")})},style:function(r,e){var t=e.styleTags.reduce(function(e,t){var n=r.style[t==="p"?"normal":t];return e+'<li><a data-event="formatBlock" href="#" data-value="'+t+'">'+n+"</a></li>"},"");return m(e.iconPrefix+e.icons.style.style,{title:r.style.style,dropdown:u(t)})},fontname:function(e,n){var r=[];var t=n.fontNames.reduce(function(e,t){if(!me.isFontInstalled(t)&&!ge.contains(n.fontNamesIgnoreCheck,t))return e;r.push(t);console.log(t);return e+'<li><a data-event="fontName" href="#" data-value="'+t+'">'+'<i class="'+n.iconPrefix+'check"></i> <span style="font-family:\''+t+"'\">"+t+"</span></a></li>"},"");var o=me.isFontInstalled(n.defaultFontName);var i=o?n.defaultFontName:r[0];var a='<span class="note-current-fontname">'+i+"</span>";return h(a,{title:e.font.name,className:"note-fontname",dropdown:u(t,"note-check")})},fontsize:function(e,n){var t=n.fontSizes.reduce(function(e,t){return e+'<li><a data-event="fontSize" href="#" data-value="'+t+'">'+'<i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"},"");var r='<span class="note-current-fontsize">11</span>';return h(r,{title:e.font.size,className:"note-fontsize",dropdown:u(t,"note-check")})},color:function(e,t){var n='<i class="'+t.iconPrefix+t.icons.color.recent+'" style="color:black;background-color:yellow;"></i>';var r=h(n,{className:"note-recent-color",title:e.color.recent,event:"color",value:'{"backColor":"yellow"}'});var o=['<li><div class="btn-group">','<div class="note-palette-title">'+e.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+e.color.transparent+'">'+e.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+e.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+e.color.reset+'">',e.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"];var i=h("",{title:e.color.more,dropdown:u(o)});return r+i},bold:function(e,t){return m(t.iconPrefix+t.icons.font.bold,{event:"bold",title:e.font.bold})},italic:function(e,t){return m(t.iconPrefix+t.icons.font.italic,{event:"italic",title:e.font.italic})},underline:function(e,t){return m(t.iconPrefix+t.icons.font.underline,{event:"underline",title:e.font.underline})},strikethrough:function(e,t){return m(t.iconPrefix+t.icons.font.strikethrough,{event:"strikethrough",title:e.font.strikethrough})},superscript:function(e,t){return m(t.iconPrefix+t.icons.font.superscript,{event:"superscript",title:e.font.superscript})},subscript:function(e,t){return m(t.iconPrefix+t.icons.font.subscript,{event:"subscript",title:e.font.subscript})},clear:function(e,t){return m(t.iconPrefix+t.icons.font.clear,{event:"removeFormat",title:e.font.clear})},ul:function(e,t){return m(t.iconPrefix+t.icons.lists.unordered,{event:"insertUnorderedList",title:e.lists.unordered})},ol:function(e,t){return m(t.iconPrefix+t.icons.lists.ordered,{event:"insertOrderedList",title:e.lists.ordered})},paragraph:function(e,t){var n=m(t.iconPrefix+t.icons.paragraph.left,{title:e.paragraph.left,event:"justifyLeft"});var r=m(t.iconPrefix+t.icons.paragraph.center,{title:e.paragraph.center,event:"justifyCenter"});var o=m(t.iconPrefix+t.icons.paragraph.right,{title:e.paragraph.right,event:"justifyRight"});var i=m(t.iconPrefix+t.icons.paragraph.justify,{title:e.paragraph.justify,event:"justifyFull"});var a=m(t.iconPrefix+t.icons.paragraph.outdent,{title:e.paragraph.outdent,event:"outdent"});var s=m(t.iconPrefix+t.icons.paragraph.indent,{title:e.paragraph.indent,event:"indent"});var l=['<div class="note-align btn-group">',n+r+o+i,'</div><div class="note-list btn-group">',s+a,"</div>"];return m(t.iconPrefix+t.icons.paragraph.paragraph,{title:e.paragraph.paragraph,dropdown:u(l,"","div")})},height:function(e,n){var t=n.lineHeights.reduce(function(e,t){return e+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(t)+'">'+'<i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"},"");return m(n.iconPrefix+n.icons.font.height,{title:e.font.height,dropdown:u(t,"note-check")})},help:function(e,t){return m(t.iconPrefix+t.icons.options.help,{event:"showHelpDialog",title:e.options.help,hide:true})},fullscreen:function(e,t){return m(t.iconPrefix+t.icons.options.fullscreen,{event:"fullscreen",title:e.options.fullscreen})},codeview:function(e,t){return m(t.iconPrefix+t.icons.options.codeview,{event:"codeview",title:e.options.codeview})},undo:function(e,t){return m(t.iconPrefix+t.icons.history.undo,{event:"undo",title:e.history.undo})},redo:function(e,t){return m(t.iconPrefix+t.icons.history.redo,{event:"redo",title:e.history.redo})},hr:function(e,t){return m(t.iconPrefix+t.icons.hr.insert,{event:"insertHorizontalRule",title:e.hr.insert})}};var S=function(d,p){var e=function(){var e=m(p.iconPrefix+p.icons.link.link,{title:d.link.link,event:"showMbrLinkDialog",hide:true});var t=C.mbrLinkColor(d,p);var n='<a href="javascript:void(0)" style="display:none !important" target="_blank">www.google.com</a>'+'<div class="note-insert btn-group">'+e+t+"</div>";return v("note-link-popover",n)};var t=function(){var e=C.mbrLink(d,p);var t=C.mbrFonts(d,p);var n=C.mbrLinkColor(d,p);var r=C.mbrFontSize(d,p);var o=p.customToolbar;if(o){if(o.mbrLink==="off")e="";if(o.mbrFonts==="off")t="";if(o.mbrLinkColor==="off")n="";if(o.mbrFontSize==="off")r=""}var i='<div class="note-insert btn-group">'+e+"</div>"+'<div class="note-mbrFonts btn-group">'+t+r+n+"</div>";return v("note-button-popover",i)};var n=function(){var e=h('<span class="note-fontsize-10">100%</span>',{title:d.image.resizeFull,event:"resize",value:"1"});var t=h('<span class="note-fontsize-10">50%</span>',{title:d.image.resizeHalf,event:"resize",value:"0.5"});var n=h('<span class="note-fontsize-10">25%</span>',{title:d.image.resizeQuarter,event:"resize",value:"0.25"});var r=m(p.iconPrefix+p.icons.image.floatLeft,{title:d.image.floatLeft,event:"floatMe",value:"left"});var o=m(p.iconPrefix+p.icons.image.floatRight,{title:d.image.floatRight,event:"floatMe",value:"right"});var i=m(p.iconPrefix+p.icons.image.floatNone,{title:d.image.floatNone,event:"floatMe",value:"none"});var a=m(p.iconPrefix+p.icons.image.shapeRounded,{title:d.image.shapeRounded,event:"imageShape",value:"img-rounded"});var s=m(p.iconPrefix+p.icons.image.shapeCircle,{title:d.image.shapeCircle,event:"imageShape",value:"img-circle"});var l=m(p.iconPrefix+p.icons.image.shapeThumbnail,{title:d.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"});var u=m(p.iconPrefix+p.icons.image.shapeNone,{title:d.image.shapeNone,event:"imageShape",value:""});var c=m(p.iconPrefix+p.icons.image.remove,{title:d.image.remove,event:"removeMedia",value:"none"});var f=(p.disableResizeImage?"":'<div class="btn-group">'+e+t+n+"</div>")+'<div class="btn-group">'+r+o+i+"</div><br>"+'<div class="btn-group">'+a+s+l+u+"</div>"+'<div class="btn-group">'+c+"</div>";return v("note-image-popover",f)};var r=function(){var e=he("<div />");for(var t=0,n=p.airPopover.length;t<n;t++){var r=p.airPopover[t];e.append(c(r,d,p))}return v("note-air-popover",e.children())};var o=he('<div class="note-popover" />');o.append(e());o.append(n());o.append(t());if(p.airMode)o.append(r());return o};var c=function(e,t,n){var r=he('<div class="btn-group">');r.addClass("note-"+e[0]);for(var o=0,i=e[1].length;o<i;o++){var a=he(C[e[1][o]](t,n));a.attr("data-name",e[1][o]);r.append(a)}return r};var k=function(e){return'<div class="note-handle">'+'<div class="note-control-selection">'+'<div class="note-control-selection-bg"></div>'+'<div class="note-control-holder note-control-nw"></div>'+'<div class="note-control-holder note-control-ne"></div>'+'<div class="note-control-holder note-control-sw"></div>'+'<div class="'+(e.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(e.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div>"+"</div>"};var i=function(e,t){var n="note-shortcut-col col-xs-6 note-shortcut-";var r=[];for(var o in t)if(t.hasOwnProperty(o))r.push('<div class="'+n+'key">'+t[o].kbd+"</div>"+'<div class="'+n+'name">'+t[o].text+"</div>");return'<div class="note-shortcut-row row"><div class="'+n+'title col-xs-offset-6">'+e+"</div></div>"+'<div class="note-shortcut-row row">'+r.join('</div><div class="note-shortcut-row row">')+"</div>"};var o=function(e){var t=[{kbd:"⌘ + B",text:e.font.bold},{kbd:"⌘ + I",text:e.font.italic},{kbd:"⌘ + U",text:e.font.underline},{kbd:"⌘ + \\",text:e.font.clear}];return i(e.shortcut.textFormatting,t)};var a=function(e){var t=[{kbd:"⌘ + Z",text:e.history.undo},{kbd:"⌘ + ⇧ + Z",text:e.history.redo},{kbd:"⌘ + ]",text:e.paragraph.indent},{kbd:"⌘ + [",text:e.paragraph.outdent},{kbd:"⌘ + ENTER",text:e.hr.insert}];return i(e.shortcut.action,t)};var l=function(e){var t=[{kbd:"⌘ + ⇧ + L",text:e.paragraph.left},{kbd:"⌘ + ⇧ + E",text:e.paragraph.center},{kbd:"⌘ + ⇧ + R",text:e.paragraph.right},{kbd:"⌘ + ⇧ + J",text:e.paragraph.justify},{kbd:"⌘ + ⇧ + NUM7",text:e.lists.ordered},{kbd:"⌘ + ⇧ + NUM8",text:e.lists.unordered}];return i(e.shortcut.paragraphFormatting,t)};var f=function(e){var t=[{kbd:"⌘ + NUM0",text:e.style.normal},{kbd:"⌘ + NUM1",text:e.style.h1},{kbd:"⌘ + NUM2",text:e.style.h2},{kbd:"⌘ + NUM3",text:e.style.h3},{kbd:"⌘ + NUM4",text:e.style.h4},{kbd:"⌘ + NUM5",text:e.style.h5},{kbd:"⌘ + NUM6",text:e.style.h6}];return i(e.shortcut.documentStyle,t)};var d=function(e,t){var n=t.extraKeys;var r=[];for(var o in n)if(n.hasOwnProperty(o))r.push({kbd:o,text:n[o]});return i(e.shortcut.extraKeys,r)};var r=function(e,t){var n='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"';var r=["<div "+n+">"+a(e,t)+"</div>"+"<div "+n+">"+o(e,t)+"</div>","<div "+n+">"+f(e,t)+"</div>"+"<div "+n+">"+l(e,t)+"</div>"];if(t.extraKeys)r.push("<div "+n+">"+d(e,t)+"</div>");return'<div class="note-shortcut-row row">'+r.join('</div><div class="note-shortcut-row row">')+"</div>"};var p=function(e){return e.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")};var g={image:function(e,t){var n="";if(t.maximumImageFileSize){var r=Math.floor(Math.log(t.maximumImageFileSize)/Math.log(1024));var o=(t.maximumImageFileSize/Math.pow(1024,r)).toFixed(2)*1+" "+" KMGTP"[r]+"B";n="<small>"+e.image.maximumFileSize+" : "+o+"</small>"}var i='<div class="form-group row note-group-select-from-files">'+"<label>"+e.image.selectFromFiles+"</label>"+'<input class="note-image-input" type="file" name="files" accept="image/*" multiple="multiple" />'+n+"</div>"+'<div class="form-group row">'+"<label>"+e.image.url+"</label>"+'<input class="note-image-url form-control col-md-12" type="text" />'+"</div>";var a='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+e.image.insert+"</button>";return s("note-image-dialog",e.image.insert,i,a)},link:function(e,t){var n='<div class="form-group row">'+"<label>"+e.link.textToDisplay+"</label>"+'<input class="note-link-text form-control col-md-12" type="text" />'+"</div>"+'<div class="form-group row">'+"<label>"+e.link.url+"</label>"+'<input class="note-link-url form-control col-md-12" type="text" value="http://" />'+"</div>"+(!t.disableLinkTarget?'<div class="checkbox">'+"<label>"+'<input type="checkbox" checked> '+e.link.openInNewWindow+"</label>"+"</div>":"");var r='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+e.link.insert+"</button>";return s("note-link-dialog",e.link.insert,n,r)},help:function(e,t){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+e.shortcut.close+"</a>"+'<div class="title">'+e.shortcut.shortcuts+"</div>"+(me.isMac?r(e,t):p(r(e,t)))+'<p class="text-center">'+'<a href="//summernote.org/" target="_blank">Summernote 0.6.17</a> · '+'<a href="//github.com/summernote/summernote" target="_blank">Project</a> · '+'<a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a>'+"</p>";return s("note-help-dialog","",n,"")}};var P=function(n,r){var o="";he.each(g,function(e,t){o+=t(n,r)});return'<div class="note-dialog">'+o+"</div>"};var A=function(){return'<div class="note-resizebar">'+'<div class="note-icon-bar"></div>'+'<div class="note-icon-bar"></div>'+'<div class="note-icon-bar"></div>'+"</div>"};var e=function(e){if(me.isMac)e=e.replace("CMD","⌘").replace("SHIFT","⇧");return e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")};var b=function(){if(!b.isExecuted){b.isExecuted=true;var t=he.fn.tooltip;he.fn.tooltip=function(e){if(typeof e=="object")e.animation=false;return t.apply(this,arguments)};he.fn.tooltip.__proto__=t}};var F=function(e,t,n){var r=ve.invertObject(t);var o=e.find("button");b();o.each(function(e,t){}).tooltip({container:"body",trigger:"hover",placement:n||"top"}).on("click",function(){he(this).tooltip("hide")})};var y=function(e){e.find("[data-original-title]").tooltip(parseInt(he.fn.tooltip.Constructor.VERSION)>3?"dispose":"destroy")};var _=function(e,t){var c=t.colors;e.find(".note-color-palette").each(function(){var e=he(this),t=e.attr("data-target-event");var n=[];for(var r=0,o=c.length;r<o;r++){var i=c[r];var a=[];for(var s=0,l=i.length;s<l;s++){var u=i[s];a.push(['<button type="button" class="note-color-btn" style="background-color:',u,';" data-event="',t,'" data-value="',u,'" title="',u,'" data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+a.join("")+"</div>")}e.html(n.join(""))})};this.createLayoutByAirMode=function(e,t){var n=t.langInfo;var r=t.keyMap[me.isMac?"mac":"pc"];var o=ve.uniqueId();e.addClass("note-air-editor note-editable");e.attr({id:"note-editor-"+o,contentEditable:true});var i=document.body;var a=he(S(n,t));a.addClass("note-air-layout");a.attr("id","note-popover-"+o);a.appendTo(i);F(a,r);_(a,t);var s=he(k(t));s.addClass("note-air-layout");s.attr("id","note-handle-"+o);s.appendTo(i);var l=he(P(n,t));l.addClass("note-air-layout");l.attr("id","note-dialog-"+o);l.find("button.close, a.modal-close").click(function(){he(this).closest(".modal").modal("hide")});l.appendTo(i)};this.addGroup=function(e,t,n,r){n=n||"link,image,button,air";var o=e.data("options");var i=o.langInfo;var t=c(t,i,o);n=n.split(",");var a="";for(var s=0;s<n.length;s++)a+=(a?",":"")+".note-"+n[s]+"-popover";var l=e.attr("id").replace("note-editor-","");var u=he("#note-popover-"+l).find(a).find(".popover-content");if(r===0)u.prepend(t);else if(r>0)u.children().eq(r-1).after(t);else t.appendTo(u)};this.createLayoutByFrame=function(e,t){var n=t.langInfo;var r=he('<div class="note-editor panel panel-default" />');if(t.width)r.width(t.width);if(t.height>0)he('<div class="note-statusbar">'+(t.disableResizeEditor?"":A())+"</div>").prependTo(r);var o=he('<div class="note-editing-area" />');var i=!e.is(":disabled");var a=he('<div class="note-editable panel-body" contentEditable="'+i+'"></div>').prependTo(o);if(t.height)a.height(t.height);if(t.direction)a.attr("dir",t.direction);var s=e.attr("placeholder")||t.placeholder;if(s)a.attr("data-placeholder",s);a.html(we.html(e)||we.emptyPara);he('<textarea class="note-codable"></textarea>').prependTo(o);var l=he(S(n,t)).prependTo(o);_(l,t);F(l,y);he(k(t)).prependTo(o);o.prependTo(r);var u=he('<div class="note-toolbar panel-heading" />');for(var c=0,f=t.toolbar.length;c<f;c++){var d=t.toolbar[c][0];var p=t.toolbar[c][1];var h=he('<div class="note-'+d+' btn-group" />');for(var m=0,v=p.length;m<v;m++){var g=C[p[m]];if(!he.isFunction(g))continue;var b=he(g(n,t));b.attr("data-name",p[m]);h.append(b)}u.append(h)}var y=t.keyMap[me.isMac?"mac":"pc"];_(u,t);F(u,y,"bottom");u.prependTo(r);he('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(r);var w=t.dialogsInBody?he(document.body):r;var x=he(P(n,t)).prependTo(w);x.find("button.close, a.modal-close").click(function(){he(this).closest(".modal").modal("hide")});r.insertAfter(e);e.hide()};this.hasNoteEditor=function(e){return this.noteEditorFromHolder(e).length>0};this.noteEditorFromHolder=function(e){if(e.hasClass("note-air-editor"))return e;else if(e.next().hasClass("note-editor"))return e.next();else return he()};this.createLayout=function(e,t){if(t.airMode)this.createLayoutByAirMode(e,t);else this.createLayoutByFrame(e,t)};this.layoutInfoFromHolder=function(e){var t=this.noteEditorFromHolder(e);if(!t.length)return;t.data("holder",e);return we.buildLayoutInfo(t)};this.removeLayout=function(e,t,n){y(t.popover());if(n.airMode){e.removeClass("note-air-editor note-editable").removeAttr("id contentEditable");t.popover().remove();t.handle().remove();t.dialog().remove()}else{e.html(t.editable().html());if(n.dialogsInBody)t.dialog().remove();t.editor().remove();e.show()}};this.getTemplate=function(){return{button:h,iconButton:m,dialog:s}};this.addButtonInfo=function(e,t){C[e]=t};this.addDialogInfo=function(e,t){g[e]=t}},m=(he.summernote=he.summernote||{},he.extend(he.summernote,a),new c),v=new u;he.extend(he.summernote,{renderer:m,eventHandler:v,core:{agent:me,list:ge,dom:we,range:g},pluginEvents:{},plugins:[]}),he.summernote.addPlugin=function(e){he.summernote.plugins.push(e);if(e.buttons)he.each(e.buttons,function(e,t){m.addButtonInfo(e,t)});if(e.dialogs)he.each(e.dialogs,function(e,t){m.addDialogInfo(e,t)});if(e.events)he.each(e.events,function(e,t){he.summernote.pluginEvents[e]=t});if(e.langs)he.each(e.langs,function(e,t){if(he.summernote.lang[e])he.extend(he.summernote.lang[e],t)});if(e.options)he.extend(he.summernote.options,e.options)},he.summernote.adaptColorForBg=function(e){return tinycolor(e).toHex()=="ffffff"?"#efefef":e},he.fn.extend({summernote:function(){var e=he.type(ge.head(arguments));var t=e==="string";var n=e==="object";var p=n?ge.head(arguments):{};p=he.extend({},he.summernote.options,p);p.icons=he.extend({},he.summernote.options.icons,p.icons);p.langInfo=he.extend(true,{},he.summernote.lang["en-US"],he.summernote.lang[p.lang]);if(!t&&n)for(var r=0,o=he.summernote.plugins.length;r<o;r++){var i=he.summernote.plugins[r];if(p.plugin[i.name])he.summernote.plugins[r]=he.extend(true,i,p.plugin[i.name])}this.each(function(e,t){var n=he(t);var r=he.extend(true,{},p);var o=n.attr("data-toolbar");if(o){if(!r.customToolbar)r.customToolbar={};var i=o.split(/,\s|,/g);for(var a in i)if(/^-/g.test(i[a]))r.customToolbar[i[a].replace(/^-/g,"")]="off";else r.customToolbar[i[a]]="on";for(var s in r.airPopover){for(var l in r.airPopover[s]){if(l>1)continue;var u=r.airPopover[s][l];if(typeof u==="object"){for(var c in u){var f=u[c];if(r.customToolbar[f]==="off")r.airPopover[s][l].splice(c,1)}if(!u.length)r.airPopover[s].splice(l,1)}}if(r.airPopover[s].length===1)r.airPopover.splice(s,1)}}if(!m.hasNoteEditor(n)){m.createLayout(n,r);var d=m.layoutInfoFromHolder(n);n.data("layoutInfo",d);v.attach(d,r);v.attachCustomEvent(d,r)}});var a=this.first();if(a.length){var s=m.layoutInfoFromHolder(a);if(t){var l=ge.head(ge.from(arguments));var u=ge.tail(ge.from(arguments));var c=[l,s.editable()].concat(u);return v.invoke.apply(v,c)}else if(p.focus)s.editable().focus()}return this},code:function(o){if(o===undefined){var e=this.first();if(!e.length)return;var t=m.layoutInfoFromHolder(e);var n=t&&t.editable();if(n&&n.length){var r=v.invoke("codeview.isActivated",t);v.invoke("codeview.sync",t);return r?t.codable().val():t.editable().html()}return we.value(e)}this.each(function(e,t){var n=m.layoutInfoFromHolder(he(t));var r=n&&n.editable();if(r)r.html(o)});return this},destroy:function(){this.each(function(e,t){var n=he(t);if(!m.hasNoteEditor(n))return;var r=m.layoutInfoFromHolder(n);var o=r.editor().data("options");v.detach(r,o);m.removeLayout(n,r,o)});return this}})})?n.apply(t,r):n)&&(e.exports=t)},function(e,t){$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"H1",h2:"H2",h3:"H3",h4:"H4",h5:"H5",h6:"H6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}})},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(u){var s=u.summernote.renderer.getTemplate(),t={"btn-default":"#e6e6e6","btn-primary":"#286090","btn-success":"#449d44","btn-info":"#31b0d5","btn-warning":"#ec971f","btn-danger":"#c9302c"},n={"text-muted":"#777","text-primary":"#337ab7","text-success":"#3c763d","text-info":"#31708f","text-warning":"#8a6d3b","text-danger":"#a94442"},c=function(){return mbrAppCore&&mbrAppCore.APP},f=function(){var e=c();if(e&&e.fire)return e.fire.apply(e,arguments)},d=function(){var e=c();if(e&&e.getThemeButtonColors&&e.getThemeButtonColors())return e.getThemeButtonColors();return t},p=function(){var e=c();return e&&e.hasButtonOutlineColors&&e.hasButtonOutlineColors()},l=function(){var e=c();if(e&&e.getThemeLinkColors&&e.getThemeLinkColors())return e.getThemeLinkColors();return n},h=function(){var e=c();if(e&&e.getThemeButtonColors)return'<li class="link-change-style">'+e.applyFilter("buttonColorSiteStyleIcon","")+"</li>";return""};u.summernote.addPlugin({name:"mbrBtn",langs:{"en-US":{mbrBtn:{mbrBtnAdd:"Add",mbrBtnMove:"Move Left",mbrBtnRemove:"Remove",mbrBtnColor:"Color",mbrBtnExtendedColor:"Color"}}},buttons:{mbrBtnRemove:function(e,t){return s.iconButton("mbr-icon-trash",{event:"mbrBtnRemove",name:"mbrBtnRemove",title:e.mbrBtn.mbrBtnRemove,hide:true})},mbrBtnAdd:function(e,t){return s.iconButton("mbr-icon-plus",{event:"mbrBtnAdd",name:"mbrBtnAdd",title:e.mbrBtn.mbrBtnAdd,hide:false})},mbrBtnMove:function(e,t){return s.iconButton("mbr-icon-arrow-left",{event:"mbrBtnMove",name:"mbrBtnMove",title:e.mbrBtn.mbrBtnMove,hide:false})},mbrBtnColor:function(e,t){var n="",r=d();for(var o in r)n+='<li><a data-event="mbrBtnColor" href="javascript:void(0);" data-value="'+o+'">'+'<i class="mbr-icon-check"></i>'+'<span style="width:25px;height:25px;border-radius:100px;'+"vertical-align: bottom;margin-left: 5px;"+"display: inline-block;background:"+u.summernote.adaptColorForBg(r[o])+';">'+"</span>"+"</a></li>";var i='<span class="note-current-mbrBtnColor"></span>';var a='<ul class="dropdown-menu note-check">'+n+"</ul>";return s.button(i,{title:e.mbrBtn.mbrBtnColor,name:"mbrBtnColor",event:"mbrBtnColorPrevent",hide:true,className:"note-mbrBtnColor",dropdown:a,nocaret:true})},mbrBtnExtendedColor:function(e,t){var n="",r=d();for(var o in r)n+='<li><a data-event="mbrBtnColor" href="javascript:void(0);" data-value="'+o+'">'+'<i class="mbr-icon-check"></i>'+'<span style="width:25px;height:25px;border-radius:100px;'+"vertical-align: bottom;margin-left: 5px;"+"display: inline-block;background:"+u.summernote.adaptColorForBg(r[o])+';">'+"</span>"+"</a></li>";if(p())for(var o in r)n+='<li><a data-event="mbrBtnColor" href="javascript:void(0);" data-value="'+o+'-outline">'+'<i class="mbr-icon-check"></i>'+'<span style="width:25px;height:25px;border-radius:100px;'+"vertical-align: bottom;margin-left: 5px;"+"display: inline-block;background: none;border: 3px solid "+u.summernote.adaptColorForBg(r[o])+';">'+"</span>"+"</a></li>";var i='<span class="note-current-mbrBtnColor"></span>';var a='<ul class="dropdown-menu note-check">'+n+h()+"</ul>";return s.button(i,{title:e.mbrBtn.mbrBtnExtendedColor,name:"mbrBtnColor",event:"mbrBtnColorPrevent",hide:!t.isSecondaryComponent,className:"note-mbrBtnColor",dropdown:a,nocaret:true})},mbrLinkColor:function(e,t){var n="",r=l();for(var o in r)n+='<li><a data-event="mbrLinkColor" href="javascript:void(0);" data-value="'+o+'">'+'<i class="mbr-icon-check"></i>'+'<span style="width:25px;height:25px;border-radius:100px;'+"vertical-align: bottom;margin-left: 5px;"+"display: inline-block;background:"+u.summernote.adaptColorForBg(r[o])+';">'+"</span>"+"</a></li>";var i='<span class="note-current-mbrLinkColor"></span>';var a='<ul class="dropdown-menu note-check">'+n+h()+"</ul>";return s.button(i,{title:"Color",name:"mbrLinkColor",event:"mbrBtnColorPrevent",hide:!t.isSecondaryComponent,className:"note-mbrLinkColor",dropdown:a,nocaret:true})}},init:function(e){var t=[["insert2",["mbrBtnExtendedColor"]],["insert3",["mbrBtnAdd","mbrBtnMove","mbrBtnRemove"]]];if(typeof mbrAppCore!="undefined")t=mbrAppCore.applyFilter("summernoteMakePopover",t,e.editable());var n=e.editor().data("options");for(var r in t){var o=t[r];if(n.customToolbar)for(var i in n.customToolbar){if(n.customToolbar[i]!="off")continue;var a=o[1].indexOf(i);if(a<0)continue;o[1].splice(a,1)}if(o[1].length){var s=o[1].concat("mbrShowSiteColors").map(function(e){if(e=="mbrBtnExtendedColor")e="mbrBtnColorPrevent";else if(e=="mbrBtnColor")e+="Prevent";return'[data-event="'+e+'"]'}).join(",");e.editable().summernote("popover.addGroup",o,"button");e.popover().find(s).tooltip({container:"body",trigger:"hover",placement:"top"}).on("click",function(){u(this).tooltip("hide")})}}},events:{mbrShowSiteColors:function(e,t,n){setTimeout(function(){var e=c();e.openThemeSettings();e.ToogleThemeSettings.target.$elm.find('[data-group-name="colors"]').addClass("selected")},100)},mbrBtnRemove:function(e,t,n){var r=n.editable();var o=r.hasClass("mbr-menu-item")||r.hasClass("mbr-editable-menu-item");var i=o||r.attr("data-app-btn")==="parent";var a=i?r.parent().siblings("li:eq(0)").find("> a"):r.siblings("[data-app-btn]:eq(0)");var s=i?r.parents("[data-app-edit]:eq(0)"):r.parent();var l=i?r.parent().siblings("li").find("> a"):r.siblings("btn, [data-app-btn]");if(!o&&!l.length){r.blur();f("removeLastButton");return}if(i)r.destroy().parent().remove();else r.destroy().remove();if(s.is("[data-app-edit]"))s.trigger("delete.rivets")},mbrBtnAdd:function(e,t,n){var r=n.editable();var o=r;var i=r.hasClass("mbr-menu-item")||r.hasClass("mbr-editable-menu-item")||r.attr("data-app-btn")==="parent";if(i)o=r.parent();var a=o.clone();o.after(a);o.after(" ");if(i){a=a.find("> a");o=o.find("> a")}a.removeClass("summernote-air note-air-editor note-editable").removeAttr("id contenteditable");a.trigger("mousedown")},mbrBtnMove:function(e,t,n){var r=n.editable();var o=r;var i=r.hasClass("mbr-menu-item")||r.hasClass("mbr-editable-menu-item")||r.attr("data-app-btn")==="parent";if(i)o=r.parent();var a=o.prev(i?undefined:".btn");if(!a[0])a=o.prev("[data-app-btn]");if(!a[0])return;a.before(o);a.before(" ");t.afterCommand(r);r.focus()},mbrBtnColor:function(e,t,n,r){var o=n.editable();var i="";var a=p();for(var s in d()){i+=" "+s;if(a)i+=" "+s+"-outline"}o.removeClass(i).addClass(r);var l=c();if(l)o.trigger(u.Event("change-button-color",{removedClasses:i,addedClass:r})).closest(".app-component-content").find("> *").trigger("changeButtonColor.cards",o[0],r,i);t.afterCommand(o);n.editable().trigger("blur")},mbrLinkColor:function(e,t,n,r){var o=n.editable(),i=u(t.createRange(o).commonAncestor().parentNode);if(i.is("a")){var a="";for(var s in l())a+=" "+s;i.add(i.closest("[data-app-modern-menu]").find("a")).removeClass(a).addClass(r);t.afterCommand(o)}},mbrBtnColorPrevent:function(e){e.preventDefault()}}})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(s){var i=s.summernote.renderer.getTemplate(),o=[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,30,32,36,46,48,60,72,80,84,100];function a(){if(!mbrAppCore&&!mbrAppCore.APP&&!mbrAppCore.APP.getAccesibleFonts)return[];return mbrAppCore.APP.getAccesibleFonts()||[]}function l(e){var t;for(var n in e)if(/P|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(e[n].tagName)){t=e[n];continue}if(!t)for(var r in e)if(e[r].tagName==="A"){t=e[r];continue}return t||s(e[0]).parent()[0]}function u(e,t,n,r){if(window.mbrAppCore)window.mbrAppCore.addComponentStyles(s(e),t,n,r);else s(e).css(t,n)}s.summernote.addPlugin({name:"mbrFonts",buttons:{mbrFonts:function(){var e="";var t=a();for(var n=0;n<t.length;n++)e+='<li><a data-event="mbrFonts" href="javascript:void(0);"'+'data-value="'+t[n].name+'" '+'data-css="'+t[n].css+'" '+'data-url="'+t[n].url+'" '+'data-slug="'+n+'" '+'style="font-family: '+t[n].css+';">'+'<i class="mbr-icon-check"></i> '+t[n].name+"</a></li>";var r='<span class="note-current-mbrFonts">Roboto</span>';var o='<ul class="dropdown-menu note-check">'+e+"</ul>";return i.button(r,{title:"Fonts",hide:true,dropdown:o,event:"mbrFontsPrevent",name:"mbrFonts"})},mbrFontSize:function(){var e="";for(var t in o)e+='<li><a data-event="mbrFontSize" href="javascript:void(0);"'+'data-value="'+o[t]+'">'+'<i class="mbr-icon-check"></i> '+o[t]+"</a></li>";var n='<span class="note-current-mbrFontSize">11</span>';var r='<ul class="dropdown-menu note-check" style="min-width: 105px;"> '+e+" </ul>";return i.button(n,{title:"Font Size",hide:true,dropdown:r,event:"mbrFontsPrevent",name:"mbrFontSize"})}},events:{mbrFonts:function(e,t,n){n.editable().focus();var r=t.currentStyle();var o=s(e.target).attr("data-css");var i=s(e.target).attr("data-url");var a=l(r.ancestors);if(a)u(a,"font-family",o,i)},mbrFontSize:function(e,t,n){n.editable().focus();var r=t.currentStyle();var o=s(e.target).attr("data-value");var i=l(r.ancestors);if(i)u(i,"font-size",o+"px")},mbrFontsPrevent:function(e){e.preventDefault()}}})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(u){if(typeof u.fn.spectrum==="undefined")return false;var n=u.summernote.renderer.getTemplate(),c,f,d,p;function o(e){d.beforeCommand(f);if(c&&c.css){var t="color";if(window.mbrAppCore)window.mbrAppCore.addComponentStyles(c,t,e);else c.css(t,e);d.restoreRange(f)}if(p&&p.length)p.find("[data-name=mbrColor] .curTextColor").css("background",u.summernote.adaptColorForBg(e));d.afterCommand(f)}var h=u('<input type="text" />').css({display:"none"}).appendTo("body"),m;function v(){var n;var t;var e=false;if(mbrAppCore&&mbrAppCore.APP)e=mbrAppCore.APP.getThemeColorsSet(7);var r=function(e,t){t=t.map(function(e){return e.toUpperCase()});if(t.indexOf(e.toUpperCase())==-1)return true};mbrAppCore&&mbrAppCore.APP&&(n=mbrAppCore.APP);if(!n)return;h.spectrum("destroy").spectrum({showButtons:false,preferredFormat:"hex",showInput:true,showPaletteOnly:true,togglePaletteOnly:true,togglePaletteMoreText:"More >",togglePaletteLessText:"Less <",maxSelectionSize:1,palette:e,move:function(e){(function(e){clearTimeout(t);t=setTimeout(function(){o(e)},150)})(e.toHexString())},hide:function(e){if(!e)return;var t;if(t=n.projectSettings.theme.additionalSetColors){if(r(e.toHexString(),t)&&r(e.toHexString(),n.getThemeColorsSet(7)[0]))if(t.length<7)t.push(e.toHexString());else{t.unshift(e.toHexString());t.pop()}}else if(r(e.toHexString(),n.getThemeColorsSet(7)[0]))n.projectSettings.theme.additionalSetColors=[e.toHexString()];else n.projectSettings.theme.additionalSetColors=[]}});m=h.next(".sp-replacer");m.css({position:"absolute",visibility:"hidden",opacity:0,width:0,height:0,overflow:"hidden",zIndex:-1e6});mbrAppCore.spectrumPicker=m}u.summernote.addPlugin({name:"mbrColor",langs:{"en-US":{mbrColor:{mbrColor:"Color"}}},buttons:{mbrColor:function(e,t){return n.button('<span class="curTextColor"'+'style="border-radius: 100px;background: #000;'+'width: 25px;height: 25px;float: left;"><span>',{event:"mbrColor",name:"mbrColor",title:e.mbrColor.mbrColor,hide:false})}},events:{mbrColor:function(e,t,n){v();e.stopPropagation();e.preventDefault();d=t;f=n.editable();let r=u(e.target);t.saveRange(f);let o=t.currentStyle();for(let e in o.ancestors)if(o.ancestors.hasOwnProperty(e))if(/P|DIV|UL|H1|H2|H3|H4|H5|H6|LABEL|TH|TD/g.test(o.ancestors[e].parentNode.tagName))c=u(o.ancestors[e].parentNode);if(!c)for(let e in o.ancestors)if(o.ancestors.hasOwnProperty(e))if(o.ancestors[e].parentNode.tagName==="A")c=u(o.ancestors[e].parentNode);if(!c)c=u(o.ancestors[0]).parent();if(!c)return;p=n.popover();let i=r.offset(),a=r.outerHeight(true),s=r.outerWidth(true);m.css({top:i.top,left:i.left,height:a,width:s});let l=c.css("color");h.spectrum("set",l);h.spectrum("toggle")}}})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(e){var n=e.summernote.renderer.getTemplate(),o=e.summernote.core.range,i=e.summernote.core.list,a=e.summernote.core.dom;e.summernote.addPlugin({name:"mbrLink",langs:{"en-US":{mbrLink:{mbrLink:"Link"}}},buttons:{mbrLink:function(e,t){return n.iconButton("mbr-icon-link",{event:"showMbrLinkDialog",name:"mbrLink",title:e.mbrLink.mbrLink,hide:true})}},events:{showMbrLinkDialog:function(e,t,n){var r={editor:t,layoutInfo:n,range:o,list:i,dom:a};window.mbrAppCore.APP.showMbrLinkDialog(r)}}})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(r){var n=r.summernote.renderer.getTemplate();function a(e){var t;for(var n in e)if(/\bP\b|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(e[n].tagName)){t=e[n];continue}return t||r(e[e.length-1]).parent()[0]}function s(e,t,n){if(window.mbrAppCore)window.mbrAppCore.addComponentStyles(r(e),t,n);else r(e).css(t,n)}r.summernote.addPlugin({name:"mbrAlign",langs:{"en-US":{mbrAlign:{mbrAlign:"Align"}}},buttons:{mbrAlign:function(e,t){return n.iconButton("fa fa-align-left",{event:"mbrAlign",name:"mbrAlign",title:e.mbrAlign.mbrAlign,className:"mbrAlign",hide:false})}},events:{mbrAlign:function(e,t,n){e.stopPropagation();var r=n.editable();var o=t.currentStyle();var i=a(o.ancestors);switch(o["text-align"]){case"left":case"start":if(window.mbrAppCore)s(i,"text-align","center");else t.justifyCenter(r);break;case"right":if(window.mbrAppCore)s(i,"text-align","left");else t.justifyLeft(r);break;case"center":if(window.mbrAppCore)s(i,"text-align","right");else t.justifyRight(r);break}}}})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(e){var c=e.summernote.core.range,f=e.summernote.core.dom;e.summernote.addPlugin({name:"mbrMultiline",events:{ENTER:function(e,t,n){var r=n.editor();var o=r.is("p, span, a, .btn, button, strong, b, em, i, small, code, label");var i=r.data("multiline")||""===r.data("multiline");if(i&&!o)n.holder().summernote("insertParagraph");else{var a=n.editable();t.beforeCommand(a);var s=c.create().deleteContents();var l=f.splitPoint(s.getStartPoint(),false);var u=f.create("br");if(l.rightNode)l.rightNode.parentNode.insertBefore(u,l.rightNode);else{l.container.appendChild(u);if(r[0]===l.container)l.container.appendChild(f.create("br"))}s.normalize();(function(e){var t=e;var n=f.nodeLength(t);if(f.isVoid(t)){n=f.listPrev(t).length;t=t.parentNode}return c.create(t,n,t,n)})(u).select();t.afterCommand(a)}return true}},init:function(e){var o=e.holder();function t(e){var t=e.keyCode===8||e.keyCode===46;if(t&&o.text().length===0){var n=o.find("br");if(n.length===1)n.remove();var r=o.find("p");if(r.length===1)r.remove()}}o.on("keyup.summernote",t);t({keyCode:8})}})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(c){"use strict";var n=c.summernote.renderer.getTemplate(),f=c.summernote.core.range,e=c.summernote.core.dom,t=c.summernote.eventHandler.modules,r=c.summernote.eventHandler;function d(e,t,n){if(window.mbrAppCore&&window.mbrAppCore.summernoteIconRequest)window.mbrAppCore.summernoteIconRequest(e,t,n);else{console.log("Error: no summernoteIconRequest handler");if(n)n()}}c.extend(c.summernote.options.icons,{iconFont:{iconFont:"sun"}}),c.summernote.addPlugin({name:"iconFont",langs:{"en-US":{iconFont:{iconFont:"Insert icon"}}},buttons:{iconFont:function(e,t){return n.iconButton(t.iconPrefix+t.icons.iconFont.iconFont,{event:"insertIconFontDialog",title:e.iconFont.iconFont,hide:true}).replace("<button",'<button data-toggle="tooltip"')}},events:{insertIconFontDialog:function(e,l,u){u.popover().hide();setTimeout(function(){var e=u.editor(),t=u.dialog(),n=u.editable(),r=l.getLinkInfo(n),o=e.data("options");if(!c("#"+n.attr("id")).length)return;n.focus();l.saveRange(n);var i=f.create();var a=i.ec;if(!a.tagName)a=a.parentNode;var s=n.attr("data-app-btn");if(s)a=n.children().get(0);d(a,n.get(0),function(e){l.restoreRange(n);u.popover().show();if(!arguments.length)return;if(e)if(s)l.prependNode(n,e);else if(a)l.insertAfter(n,e,a);else l.insertAtCursor(n,e);if(a)c(a).remove();n.blur()})},100)}}})})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;n=[n(0)],void 0!==(t="function"==typeof(r=function(u){"use strict";var c=true,s;function e(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(r,arguments);return n.apply(this,e)}}function f(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n];if(!r[2]||!r[2].optional)continue;var o=r[2].optional;if(typeof o=="boolean")t.push(".note-"+r[0]);else for(var i=0;i<o.length;i++)t.push('[data-name="'+o[i]+'"]')}return t.join(",")}function r(e){var t=e.editor().data("options"),n=e.popover(),r=e.editable(),o=u.summernote.eventHandler.modules.editor.currentStyle(r);if(t.shortMode){var i=f(t.airPopover);if(!i)return;var a=n.find('[data-name="mbrShortModeMore"]');if(!a.length){r.summernote("popover.addGroup",["mbrShortModeMore",["mbrShortModeMore"]]);a=n.find('[data-name="mbrShortModeMore"]').tooltip({container:"body",trigger:"hover",placement:"top"})}if(c){a.find("i").removeClass("mbr-icon-angle-left").addClass("mbr-icon-angle-right");a.attr("data-original-title","More");n.find(i).addClass("hidden")}else{a.find("i").removeClass("mbr-icon-angle-right").addClass("mbr-icon-angle-left");a.attr("data-original-title","Less");n.find(i).removeClass("hidden")}}u.summernote.eventHandler.updateStyleInfo(o,e)}e(u.summernote.eventHandler.modules.popover,"addGroup",function(n,e,r,o,t,i){var a=r.data("options");a.airPopover=a.airPopover||[];a.airPopover.push(o);var s=u("#note-popover-"+r.attr("id").replace("note-editor-",""));if(o[0]=="dropdownMenu"){var l=f(a.airPopover);if(r.is("[data-button]")){s.find(".note-mbrShortModeMore").show();if(l&&a.shortMode&&c)s.find(l).addClass("hidden")}}(t||"link,image,button,air").split(",").forEach(function(e){var t=s.find(".note-"+e+"-popover .note-mbrShortModeMore").prevAll().length;n.call(this,r,o,e,t||-1)},this);if(a.shortMode&&c&&o[2]&&o[2].optional){var l=f([o]);if(l)s.find(l).addClass("hidden")}}),e(u.summernote.eventHandler,"updateStyleInfo",function(e,t,n,r){e.apply(this,t);var o=n.anchor&&/btn|mbr-menu-item|mbr-editable-menu-item/g.test(n.anchor.className);if(!o&&n.anchor)o=!!u(n.anchor).attr("data-app-btn");var i=r.popover().find(".note-mbrShortModeMore");if(o){i.removeClass("hidden");return}var a=n.range&&n.range.isCollapsed();var s=a&&n.anchor;if(!a||s)i.addClass("hidden");else i.removeClass("hidden")});var l=u.summernote.renderer.getTemplate();u.summernote.addPlugin(function(n){if(!n.name)throw new Error("Plugin name not found.");s=n.name;var r=n.langs||{},o=u.summernote.options,i={};r["en-US"]=r["en-US"]||{};o.icons[s]={};n.events=n.events||{};n.buttons=n.buttons||{};var a=function(n,r){return function(e,t){return l.iconButton(t.iconPrefix+t.icons[s][n],{event:r,title:e[s][n],hide:true}).replace("<button",'<button data-toggle="tooltip"')}};u.each(n.buttons,function(e){var t=s+e.charAt(0).toUpperCase()+e.substr(1);i[t]=a(e,t);n.events[t]=this.click;r["en-US"][e]=this.title||"";o.icons[s][e]=this.icon||""});n.langs={};for(var e in r){n.langs[e]={};n.langs[e][s]={};for(var t in r[e])n.langs[e][s][t]=r[e][t]}n.buttons=i;return n}({name:"mbrShortMode",init:function(e){c=true;r(e)},buttons:{more:{title:"More",icon:"angle-right",click:function(e,t,n){e.stopPropagation();c=!c;r(n)}}}}))})?r.apply(t,n):r)&&(e.exports=t)},function(e,t,n){var r;r=function t(l,u){function s(e,t,n){e.stopPropagation(),e.preventDefault(),l.isFunction(n)&&!1===n.call(t,e)||t.modal("hide")}function c(e,n){var r=0;l.each(e,function(e,t){n(e,t,r++)})}function f(e){var r,o;if("object"!=typeof e)throw new Error("Please supply an object of options");if(e.message)return(e=l.extend({},i,e)).buttons||(e.buttons={}),r=e.buttons,o=function(e){var t,n=0;for(t in e)n++;return n}(r),c(r,function(e,t,n){if(l.isFunction(t)&&(t=r[e]={callback:t}),"object"!==l.type(t))throw new Error("button with key "+e+" must be an object");t.label||(t.label=e),t.className||(t.className=o<=2&&n===o-1?"btn-primary":"btn-default")}),e;throw new Error("Please specify a message")}function d(e,t,n){return l.extend(!0,{},e,function(e,t){var n=e.length,r={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(r[t[0]]=e[0],r[t[1]]=e[1]):r=e[0],r}(t,n))}function n(e,t,n,r){return h(d({className:"bootbox-"+e,buttons:p.apply(null,t)},r,n),t)}function p(){for(var e={},t=0,n=arguments.length;t<n;t++){var r=arguments[t],o=r.toLowerCase(),r=r.toUpperCase();e[o]={label:(o=r,(a[i.locale]||a.en)[o])}}return e}function h(e,t){var n={};return c(t,function(e,t){n[t]=!0}),c(e.buttons,function(e){if(n[e]===u)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var m={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},i={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},v={alert:function(){var e=n("alert",["ok"],["message","callback"],arguments);if(e.callback&&!l.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return!l.isFunction(e.callback)||e.callback.call(this)},v.dialog(e)},confirm:function(){var e=n("confirm",["cancel","confirm"],["message","callback"],arguments);if(e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},l.isFunction(e.callback))return v.dialog(e);throw new Error("confirm requires a callback")},prompt:function(){var t,o,e=l(m.form),i=h(d({className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},arguments,["title","callback"]),["cancel","confirm"]),n=i.show===u||i.show;if(i.message=e,i.buttons.cancel.callback=i.onEscape=function(){return i.callback.call(this,null)},i.buttons.confirm.callback=function(){switch(i.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=o.val();break;case"checkbox":var e=o.find("input:checked"),n=[];c(e,function(e,t){n.push(l(t).val())})}return i.callback.call(this,n)},i.show=!1,!i.title)throw new Error("prompt requires a title");if(!l.isFunction(i.callback))throw new Error("prompt requires a callback");if(!m.inputs[i.inputType])throw new Error("invalid prompt type");switch(o=l(m.inputs[i.inputType]),i.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":o.val(i.value);break;case"select":var r={},a=i.inputOptions||[];if(!l.isArray(a))throw new Error("Please pass an array of input options");if(!a.length)throw new Error("prompt with select requires options");c(a,function(e,t){var n=o;if(t.value===u||t.text===u)throw new Error("given options in wrong format");t.group&&(r[t.group]||(r[t.group]=l("<optgroup/>").attr("label",t.group)),n=r[t.group]),n.append("<option value='"+t.value+"'>"+t.text+"</option>")}),c(r,function(e,t){o.append(t)}),o.val(i.value);break;case"checkbox":var s=l.isArray(i.value)?i.value:[i.value];if(!(a=i.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!a[0].value||!a[0].text)throw new Error("given options in wrong format");o=l("<div/>"),c(a,function(e,n){var r=l(m.inputs[i.inputType]);r.find("input").attr("value",n.value),r.find("label").append(n.text),c(s,function(e,t){t===n.value&&r.find("input").prop("checked",!0)}),o.append(r)})}return i.placeholder&&o.attr("placeholder",i.placeholder),i.pattern&&o.attr("pattern",i.pattern),i.maxlength&&o.attr("maxlength",i.maxlength),e.append(o),e.on("submit",function(e){e.preventDefault(),e.stopPropagation(),t.find(".btn-primary").click()}),(t=v.dialog(i)).off("shown.bs.modal"),t.on("shown.bs.modal",function(){o.focus()}),!0===n&&t.modal("show"),t},dialog:function(e){e=f(e);var n=l(m.dialog),t=n.find(".modal-dialog"),r=n.find(".modal-body"),o=e.buttons,i="",a={onEscape:e.onEscape};if(l.fn.modal===u)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");return c(o,function(e,t){i+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",a[e]=t.callback}),r.find(".bootbox-body").html(e.message),!0===e.animate&&n.addClass("fade"),e.className&&n.addClass(e.className),"large"===e.size?t.addClass("modal-lg"):"small"===e.size&&t.addClass("modal-sm"),e.title&&r.before(m.header),e.closeButton&&(o=l(m.closeButton),e.title?n.find(".modal-header").prepend(o):o.css("margin-top","-10px").prependTo(r)),e.title&&n.find(".modal-title").html(e.title),i.length&&(r.after(m.footer),n.find(".modal-footer").html(i)),n.on("hidden.bs.modal",function(e){e.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),"static"!==e.backdrop&&n.on("click.dismiss.bs.modal",function(e){n.children(".modal-backdrop").length&&(e.currentTarget=n.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(e){a.onEscape&&s(e,n,a.onEscape)}),n.on("click",".modal-footer button",function(e){var t=l(this).data("bb-handler");s(e,n,a[t])}),n.on("click",".bootbox-close-button",function(e){s(e,n,a.onEscape)}),n.on("keyup",function(e){27===e.which&&n.trigger("escape.close.bb")}),l(e.container).append(n),n.modal({backdrop:!!e.backdrop&&"static",keyboard:!1,show:!1}),e.show&&n.modal("show"),n},setDefaults:function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],l.extend(i,e)},hideAll:function(){return l(".bootbox").modal("hide"),v}},a={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return v.addLocale=function(e,n){return l.each(["OK","CANCEL","CONFIRM"],function(e,t){if(!n[t])throw new Error("Please supply a translation for '"+t+"'")}),a[e]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},v},v.removeLocale=function(e){return delete a[e],v},v.setLocale=function(e){return v.setDefaults("locale",e)},v.init=function(e){return t(e||l)},v},n=[n(0)],void 0!==(t="function"==typeof(r=r)?r.apply(t,n):r)&&(e.exports=t)},function(e,t){function s(e,t){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=R(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=R.extend({},l,t),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function r(n,r){var o=!0;return R.each(n,function(e,t){if(void 0===r[e]||n[e]!==r[e])return o=!1}),o}function n(){return!i&&f}function c(){var e=(o.body||o.documentElement).style;if("string"==typeof e[t="transition"])return 1;v=["Moz","Webkit","Khtml","O","ms"];for(var t=t.charAt(0).toUpperCase()+t.substr(1),n=0;n<v.length;n++)if("string"==typeof e[v[n]+t])return 1}var R,N,o,l,f,i;R=jQuery,N=window,o=document,l={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(e){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},s.prototype={_init:function(){var e,t=this;o.querySelector&&(e=null,void 0===t.$el.data("tooltipster-initialTitle")&&(e=t.$el.attr("title"),t.$el.data("tooltipster-initialTitle",e=void 0===e?null:e)),null!==t.options.content?t._content_set(t.options.content):t._content_set(e),void 0!==(e=t.options.functionInit.call(t.$el,t.$el,t.Content))&&t._content_set(e),t.$el.removeAttr("title").addClass("tooltipstered"),!f&&t.options.iconDesktop||f&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=R('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,function(){n()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t._show())}).on("mouseleave."+t.namespace,function(){n()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)}),f&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,function(){n()&&!t.options.touchDevices||t._show()}))},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout(function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()},e.options.delay):e._showNow())},_showNow:function(l){var u=this;u.options.functionBefore.call(u.$el,u.$el,function(){var e,t,n,r,o,i,a,s;u.enabled&&null!==u.Content&&(l&&u.callbacks.show.push(l),u.callbacks.hide=[],clearTimeout(u.timerShow),u.timerShow=null,clearTimeout(u.timerHide),u.timerHide=null,u.options.onlyOne&&R(".tooltipstered").not(u.$el).each(function(e,t){var o=R(t),t=o.data("tooltipster-ns");R.each(t,function(e,t){var t=o.data(t),n=t.status(),r=t.option("autoClose");"hidden"!==n&&"disappearing"!==n&&r&&t.hide()})}),e=function(){u.Status="shown",R.each(u.callbacks.show,function(e,t){t.call(u.$el)}),u.callbacks.show=[]},"hidden"!==u.Status?(t=0,"disappearing"===u.Status?(u.Status="appearing",c()?(u.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+u.options.animation+"-show"),0<u.options.speed&&u.$tooltip.delay(u.options.speed),u.$tooltip.queue(e)):u.$tooltip.stop().fadeIn(e)):"shown"===u.Status&&e()):(u.Status="appearing",t=u.options.speed,u.bodyOverflowX=R("body").css("overflow-x"),R("body").css("overflow-x","hidden"),n="tooltipster-"+u.options.animation,r="-webkit-transition-duration: "+u.options.speed+"ms; -webkit-animation-duration: "+u.options.speed+"ms; -moz-transition-duration: "+u.options.speed+"ms; -moz-animation-duration: "+u.options.speed+"ms; -o-transition-duration: "+u.options.speed+"ms; -o-animation-duration: "+u.options.speed+"ms; -ms-transition-duration: "+u.options.speed+"ms; -ms-animation-duration: "+u.options.speed+"ms; transition-duration: "+u.options.speed+"ms; animation-duration: "+u.options.speed+"ms;",o=u.options.minWidth?"min-width:"+Math.round(u.options.minWidth)+"px;":"",i=u.options.maxWidth?"max-width:"+Math.round(u.options.maxWidth)+"px;":"",a=u.options.interactive?"pointer-events: auto;":"",u.$tooltip=R('<div class="tooltipster-base '+u.options.theme+'" style="'+o+" "+i+" "+a+" "+r+'"><div class="tooltipster-content"></div></div>'),c()&&u.$tooltip.addClass(n),u._content_insert(),u.$tooltip.appendTo("body"),u.reposition(),u.options.functionReady.call(u.$el,u.$el,u.$tooltip),c()?(u.$tooltip.addClass(n+"-show"),0<u.options.speed&&u.$tooltip.delay(u.options.speed),u.$tooltip.queue(e)):u.$tooltip.css("display","none").fadeIn(u.options.speed,e),u._interval_set(),R(N).on("scroll."+u.namespace+" resize."+u.namespace,function(){u.reposition()}),u.options.autoClose&&(R("body").off("."+u.namespace),"hover"==u.options.trigger?(f&&setTimeout(function(){R("body").on("touchstart."+u.namespace,function(){u.hide()})},0),u.options.interactive?(f&&u.$tooltip.on("touchstart."+u.namespace,function(e){e.stopPropagation()}),s=null,u.$elProxy.add(u.$tooltip).on("mouseleave."+u.namespace+"-autoClose",function(){clearTimeout(s),s=setTimeout(function(){u.hide()},u.options.interactiveTolerance)}).on("mouseenter."+u.namespace+"-autoClose",function(){clearTimeout(s)})):u.$elProxy.on("mouseleave."+u.namespace+"-autoClose",function(){u.hide()}),u.options.hideOnClick&&u.$elProxy.on("click."+u.namespace+"-autoClose",function(){u.hide()})):"click"==u.options.trigger&&(setTimeout(function(){R("body").on("click."+u.namespace+" touchstart."+u.namespace,function(){u.hide()})},0),u.options.interactive)&&u.$tooltip.on("click."+u.namespace+" touchstart."+u.namespace,function(e){e.stopPropagation()}))),0<u.options.timer)&&(u.timerHide=setTimeout(function(){u.timerHide=null,u.hide()},u.options.timer+t))})},_interval_set:function(){var n=this;n.checkInterval=setInterval(function(){var e,t;0===R("body").find(n.$el).length||0===R("body").find(n.$elProxy).length||"hidden"==n.Status||0===R("body").find(n.$tooltip).length?("shown"!=n.Status&&"appearing"!=n.Status||n.hide(),n._interval_cancel()):n.options.positionTracker&&(t=!1,r((e=n._repositionInfo(n.$elProxy)).dimension,n.elProxyPosition.dimension)&&("fixed"===n.$elProxy.css("position")?r(e.position,n.elProxyPosition.position)&&(t=!0):r(e.offset,n.elProxyPosition.offset)&&(t=!0)),t||(n.reposition(),n.options.positionTrackerCallback.call(n,n.$el)))},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this.$tooltip.find(".tooltipster-content");"string"!=typeof this.Content||this.options.contentAsHTML?e.empty().append(this.Content):e.text(this.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation)&&(c()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)})):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(e){var n=this,t=(e&&n.callbacks.hide.push(e),n.callbacks.show=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null,function(){R.each(n.callbacks.hide,function(e,t){t.call(n.$el)}),n.callbacks.hide=[]});return"shown"==n.Status||"appearing"==n.Status?(n.Status="disappearing",e=function(){n.Status="hidden","object"==typeof n.Content&&null!==n.Content&&n.Content.detach(),n.$tooltip.remove(),n.$tooltip=null,R(N).off("."+n.namespace),R("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX),R("body").off("."+n.namespace),n.$elProxy.off("."+n.namespace+"-autoClose"),n.options.functionAfter.call(n.$el,n.$el),t()},c()?(n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying"),0<n.options.speed&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(e)):n.$tooltip.stop().fadeOut(n.options.speed,e)):"hidden"==n.Status&&t(),n},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return void 0===e?this.Content:(this._update(e),this)},reposition:function(){var e=this;if(0!==R("body").find(e.$tooltip).length){e.$tooltip.css("width",""),e.elProxyPosition=e._repositionInfo(e.$elProxy);var t=null,n=R(N).width(),r=e.elProxyPosition,o=e.$tooltip.outerWidth(!1),i=(e.$tooltip.innerWidth(),e.$tooltip.outerHeight(!1));if(e.$elProxy.is("area")){var a=e.$elProxy.attr("shape"),s=e.$elProxy.parent().attr("name"),s=R('img[usemap="#'+s+'"]'),l=s.offset().left,u=s.offset().top,c=void 0!==e.$elProxy.attr("coords")?e.$elProxy.attr("coords").split(","):void 0;if("circle"==a){var f=parseInt(c[0]),d=parseInt(c[1]),p=parseInt(c[2]);r.dimension.height=2*p,r.dimension.width=2*p,r.offset.top=u+d-p,r.offset.left=l+f-p}else if("rect"==a){var f=parseInt(c[0]),d=parseInt(c[1]),p=parseInt(c[2]),h=parseInt(c[3]);r.dimension.height=h-d,r.dimension.width=p-f,r.offset.top=u+d,r.offset.left=l+f}else if("poly"==a){for(var m=0,v=0,g=0,b=0,y="even",w=0;w<c.length;w++)var x=parseInt(c[w]),y="even"==y?(x<(m=g<x&&(g=x,0===w)?g:m)&&(m=x),"odd"):(x<(v=b<x&&(b=x,1==w)?b:v)&&(v=x),"even");r.dimension.height=b-v,r.dimension.width=g-m,r.offset.top=u+v,r.offset.left=l+m}else r.dimension.height=s.outerHeight(!1),r.dimension.width=s.outerWidth(!1),r.offset.top=u,r.offset.left=l}var C,S,k,P,A,F=0,h=0,_=0,I=parseInt(e.options.offsetY),p=parseInt(e.options.offsetX),T=e.options.position;function M(){var e=R(N).scrollLeft();F-e<0&&(t=F-e,F=e),n<F+o-e&&(t=F-(n+e-o),F=n+e-o)}function E(e,t){r.offset.top-R(N).scrollTop()-i-I-12<0&&-1<t.indexOf("top")&&(T=e),r.offset.top+r.dimension.height+i+12+I>R(N).scrollTop()+R(N).height()&&-1<t.indexOf("bottom")&&(T=e,_=r.offset.top-i-I-12)}"top"==T&&(A=r.offset.left+o-(r.offset.left+r.dimension.width),F=r.offset.left+p-A/2,_=r.offset.top-i-I-12,M(),E("bottom","top")),"top-left"==T&&(F=r.offset.left+p,_=r.offset.top-i-I-12,M(),E("bottom-left","top-left")),"top-right"==T&&(F=r.offset.left+r.dimension.width+p-o,_=r.offset.top-i-I-12,M(),E("bottom-right","top-right")),"bottom"==T&&(A=r.offset.left+o-(r.offset.left+r.dimension.width),F=r.offset.left-A/2+p,_=r.offset.top+r.dimension.height+I+12,M(),E("top","bottom")),"bottom-left"==T&&(F=r.offset.left+p,_=r.offset.top+r.dimension.height+I+12,M(),E("top-left","bottom-left")),"bottom-right"==T&&(F=r.offset.left+r.dimension.width+p-o,_=r.offset.top+r.dimension.height+I+12,M(),E("top-right","bottom-right")),"left"==T&&(F=r.offset.left-p-o-12,h=r.offset.left+p+r.dimension.width+12,C=r.offset.top+i-(r.offset.top+r.dimension.height),_=r.offset.top-C/2-I,F<0&&n<h+o?(S=2*parseFloat(e.$tooltip.css("border-width")),k=o+F-S,e.$tooltip.css("width",k+"px"),i=e.$tooltip.outerHeight(!1),F=r.offset.left-p-k-12-S,C=r.offset.top+i-(r.offset.top+r.dimension.height),_=r.offset.top-C/2-I):F<0&&(F=r.offset.left+p+r.dimension.width+12,t="left")),"right"==T&&(F=r.offset.left+p+r.dimension.width+12,h=r.offset.left-p-o-12,C=r.offset.top+i-(r.offset.top+r.dimension.height),_=r.offset.top-C/2-I,n<F+o&&h<0?(S=2*parseFloat(e.$tooltip.css("border-width")),k=n-F-S,e.$tooltip.css("width",k+"px"),i=e.$tooltip.outerHeight(!1),C=r.offset.top+i-(r.offset.top+r.dimension.height),_=r.offset.top-C/2-I):n<F+o&&(F=r.offset.left-p-o-12,t="right")),e.options.arrow&&(d="tooltipster-arrow-"+T,f=e.options.arrowColor.length<1?e.$tooltip.css("background-color"):e.options.arrowColor,t=t?"left"==t?(d="tooltipster-arrow-right",""):"right"==t?(d="tooltipster-arrow-left",""):"left:"+Math.round(t)+"px;":"",a="top"==T||"top-left"==T||"top-right"==T?(P=parseFloat(e.$tooltip.css("border-bottom-width")),e.$tooltip.css("border-bottom-color")):"bottom"==T||"bottom-left"==T||"bottom-right"==T?(P=parseFloat(e.$tooltip.css("border-top-width")),e.$tooltip.css("border-top-color")):"left"==T?(P=parseFloat(e.$tooltip.css("border-right-width")),e.$tooltip.css("border-right-color")):"right"==T?(P=parseFloat(e.$tooltip.css("border-left-width")),e.$tooltip.css("border-left-color")):(P=parseFloat(e.$tooltip.css("border-bottom-width")),e.$tooltip.css("border-bottom-color")),1<P&&P++,s="",0!==P&&(u="",l="border-color: "+a+";",-1!==d.indexOf("bottom")?u="margin-top: -"+Math.round(P)+"px;":-1!==d.indexOf("top")?u="margin-bottom: -"+Math.round(P)+"px;":-1!==d.indexOf("left")?u="margin-right: -"+Math.round(P)+"px;":-1!==d.indexOf("right")&&(u="margin-left: -"+Math.round(P)+"px;"),s='<span class="tooltipster-arrow-border" style="'+u+" "+l+';"></span>'),e.$tooltip.find(".tooltipster-arrow").remove(),A='<div class="'+d+' tooltipster-arrow" style="'+t+'">'+s+'<span style="border-color:'+f+';"></span></div>',e.$tooltip.append(A)),e.$tooltip.css({top:Math.round(_)+"px",left:Math.round(F)+"px"})}return e},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e,n=this,t=(n.hide(),n.$el[0]!==n.$elProxy[0]&&n.$elProxy.remove(),n.$el.removeData(n.namespace).off("."+n.namespace),n.$el.data("tooltipster-ns"));return 1===t.length?(e=null,"previous"===n.options.restoration?e=n.$el.data("tooltipster-initialTitle"):"current"===n.options.restoration&&(e="string"==typeof n.Content?n.Content:R("<div></div>").append(n.Content).html()),e&&n.$el.attr("title",e),n.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(t=R.grep(t,function(e,t){return e!==n.namespace}),n.$el.data("tooltipster-ns",t)),n},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return void 0===t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},R.fn.tooltipster=function(){var n,r,o,e,i,a=arguments;return 0===this.length?"string"==typeof a[0]&&(e=!0,"setDefaults"===a[0]?R.extend(l,a[1]):e=!1,!!e)||this:"string"==typeof a[0]?(n="#*$~&",this.each(function(){var e=R(this).data("tooltipster-ns"),e=e?R(this).data(e[0]):null;if(!e)throw new Error("You called Tooltipster's \""+a[0]+'" method on an uninitialized element');if("function"!=typeof e[a[0]])throw new Error('Unknown method .tooltipster("'+a[0]+'")');var t=e[a[0]](a[1],a[2]);if(t!==e)return n=t,!1}),"#*$~&"!==n?n:this):(r=[],e=a[0]&&void 0!==a[0].multiple,o=e&&a[0].multiple||!e&&l.multiple,e=a[0]&&void 0!==a[0].debug,i=e&&a[0].debug||!e&&l.debug,this.each(function(){var e=!1,t=R(this).data("tooltipster-ns"),n=null;!t||o?e=!0:i&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'),e&&(n=new s(this,a[0]),(t=t||[]).push(n.namespace),R(this).data("tooltipster-ns",t),R(this).data(n.namespace,n)),r.push(n)}),o?r:this)},f=!!("ontouchstart"in N),i=!1,R("body").one("mousemove",function(){i=!0})},function(e,t){!function(u){function e(){this.$body=u("body"),this.$window=u(window),this.$document=u(document),this.$template=u(".template > div"),this.components={},this.currentPage="index.html",this.resultJSON={"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}},this.isMobile=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobirise-webview/i.test(navigator.userAgent.toLowerCase()),this.isMobile&&u("html").addClass("device")}var t=0,r=(e.prototype.uniqNum=function(){return t++},e.prototype.resetUniqNum=function(){t=0},this.uniqCompNum=0,e.prototype.getUniqCompName=function(){return(this.uniqCompNum++).toString(36)},{}),o={},i=(e.prototype.on=function(e,t){if(u.isArray(e))for(var n in e)this.on(e[n],t);else o[e]?t&&t.apply(this,o[e]):(r[e]||(r[e]=[])).push(t)},e.prototype.off=function(e,t){if(!r[e])return!1;if(t)for(var n=0;n<r[e].length;n++)r[e][n]===t&&(r[e][n]=void 0);else delete r[e]},e.prototype.fire=function(t){var e=[].slice.call(arguments,1);if(void 0!==r[t])for(var n in r[t])if(r[t][n])try{r[t][n].apply(this,e)}catch(e){console.error("Error in event handler mbrAppCore::"+t),console.log(e)}},e.prototype.fireOnce=function(t){if(!(t in o)){var e,n=[].slice.call(arguments,1);for(e in o[t]=n,r[t])if(r[t][e])try{r[t][e].apply(this,n),r[t][e]=void 0}catch(e){console.error("Error in event handler mbrAppCore::"+t,e)}}},{}),a=(e.prototype.addFilter=function(e,t){(i[e]||(i[e]=[])).push(t)},e.prototype.applyFilter=function(e){var t=[].slice.call(arguments,1);if(i[e])for(var n=i[e],r=0,o=n.length;r<o;r++)t[0]=n[r].apply(this,t),void 0===t[0]&&console.warn("handle of "+e+" filter return undefined: ",n[r]);return t[0]},{});e.prototype.regExtension=e.prototype.registerExtension=function(e){if(!e.name||void 0!==a[e.name])return!1;if((a[name]=e).global)for(var t in e.global)t in this?console.error("Error re-definition method mbrAppCore."+t+" by module "+e.name):this[t]=e.global[t];if(e.events)for(var n in e.events)this.on(n,e.events[n]);return!0},e.prototype.getResultProject=function(){var e,t=u.extend(!0,{},this.resultJSON);for(e in t){var n=t[e],r=n.components,o=r.findIndex(e=>e._name.includes("menu")&&e._once&&e._global);-1!==o&&o&&r.unshift(r.splice(o,1)[0]),delete n.components,(n=this.cleanJSONPlease(n)).components=r;for(var i=0;i<r.length;i++)this.isSecondaryComponent(r[i])?r[i]=this.transformSecondaryComponentForProject(r[i]):r[i]=this.cleanJSONPlease(r[i])}return{settings:{currentPage:this.currentPage,uniqCompNum:this.uniqCompNum},pages:t}},e.prototype.getResultHTML=function(a,e){let s=this;if(!s.resultJSON[a]||!s.resultJSON[a].components)return!1;var t;if(void 0!==e)return o=s.getComponent(e,a),t=s.prepareComponent(o),t=u("<div>").append(t),s.loadEachComponent(o,t,s.resultJSON[a],a,!0),s.isSecondaryComponent(o)&&s.getSecondaryComponent(o),u.Deferred().resolve(t.find("[data-app-component-id="+e+"] .app-component-content"));var n,r=s.resultJSON[a].components,o=s.prepareAllComponents(r);let l=u("<div>").append(o);for(n in r)s.loadEachComponent(r[n],l,s.resultJSON[a],a,!0),s.isSecondaryComponent(r[n])&&s.getSecondaryComponent(r[n]);{let t=l.find("[data-app-component-id]"),n=u.Deferred(),i="";return function r(o){var e;o<t.length?(e=u(t[o]).attr("data-app-component-id"),e=s.getComponent(e,a),s.applyFilter("getResultComponent",u.Deferred().resolve(u(t[o]).find(".app-component-content"),e,a)).then(function(e,t,n){e=s.cleanHTMLplease(e.html()),e=s.applyFilter("getResultHTMLcomponent",e,t,n),i+=e+"\n\n",r(++o)},function(e){APP.showError(e)})):n.resolve(i)}(0),n.promise()}},e.prototype.loadProject=function(e){var t=this;return e&&e.pages&&"object"==typeof e.pages?(this.uniqCompNum=e.settings.uniqCompNum||0,this.loadPage(e.settings.currentPage,e).always(function(){t.resultJSON=e&&e.pages||{},t.currentPage=e&&e.settings&&e.settings.currentPage||""}).then(function(){t.fire("projectLoaded"),t.render()})):(console.error("Error: project has no pages"),!1)},e.prototype.showDialog=function(e){return this.APP&&this.APP.showDialog?this.APP.showDialog(e):(console.warn("Error: mbrApp is not accessible"),e.buttons={success:{label:"Ok",className:"btn-primary",callback:e.success},cancel:{label:"Cancel",className:"btn-default",callback:e.cancel}},e.message=e.body,bootbox.dialog(e))},window.mbrAppCore=new e}(jQuery)},function(e,t){var s,u,n,o;s=jQuery,u=mbrAppCore,o=s("#insertBefore"),u.regExtension({name:"components-load",global:{clearBlocks:function(){this.fire("clearBlocks"),this.$template.html(""),this.fire("clearedBlocks")},prepareComponent:function(e){var t,n,r,o,i,a="";return"secondary"!=u.theme.type&&void 0===u.components[e._name]||void 0===e._id?"":(t=!e._noDrag,n=e._alwaysBottom,r=e._alwaysTop,o=e._positionAbsolute,i=e._params,a+=['<div class="app-component'+(t?"":" no-sortable")+(o?" pos-absolute":"")+'" data-app-component-id="'+e._id+'"'+(n?' data-app-always-bottom="true"':"")+(r?' data-app-always-top="true"':"")+">",'<div class="app-component-menu">','<div class="app-component-edit">',t?'<span class="mbr-btn sortable mbr-icon-arrows-vertical" data-tooltipster="bottom" title="Drag Block"></span>':"","object"==typeof i&&i&&Object.keys(i).length?'<span class="mbr-btn component-params mbr-icon-cog" data-tooltipster="bottom" title="Block Parameters"></span>':"",'<span class="mbr-btn component-remove mbr-icon-trash" data-tooltipster="bottom" title="Remove Block"></span>','<span class="mbr-btn component-show-more mbr-icon-horizontal-ellipsis" data-tooltipster="bottom" title="Show More"></span>',"</div>","</div>",'<div class="app-component-content"></div>',"</div>"].join(""),this.applyFilter("prepareComponent",a,e))},prepareAllComponents:function(e){var t,n="";for(t in e=e.filter(function(e){return!Object.keys(u.APP.restrictedAddons).length||!u.APP.restrictedAddons[e.alias]}))e[t]._alwaysTop&&(n+=this.prepareComponent(e[t]));for(t in e)e[t]._alwaysBottom||e[t]._alwaysTop||(n+=this.prepareComponent(e[t]));for(t in e)e[t]._alwaysBottom&&(n+=this.prepareComponent(e[t]));return n},publishAssets:[],prepareComponentAssets:function(e){var t=u.components[e],n=(t.alias?u.APP.getAddonDir(t.alias):this.theme.pathExport+"/components")+"/"+e,r=t.alias?n:this.theme.pathCore+"/components/"+e;t._css&&(this.publishAssets.push({src:n+"/style.css",dest:"assets/mobirise/css/style.css"}),s("#CSS-"+e).length||o.before('<link id="CSS-'+e+'" rel="stylesheet" href="'+r+'/style.css">')),t._js&&(this.publishAssets.push({src:n+"/script.js",dest:"assets/mobirise/js/script.js"}),s("#JS-"+e).length||o.before('<script id="JS-'+e+'" src="'+r+'/script.js">'))},loadEachComponent:function(t,e,n,r,o){var i=t._name;if(u.isSecondaryComponent(t)&&t._cid&&!t._customHTML)console.log("Error: component '"+i+"' is broken");else if(void 0===(t=o&&u.isSecondaryComponent(t)?s.extend(!0,{},t):t)._id)console.log("Error: component '"+i+"' is not initialized");else{t._sourceTheme||(t._sourceTheme=u.theme.name);i=this.applyFilter("loadComponentTemplate",u.APP.cachedTemplates[i]||"",t,o,t._styles||{});if(i){void 0===t._anchor&&(a=(a=t._name.replace(/^pro\./i,"")).replace(/\./g,"_")+"-",t._anchor=a+this.getUniqCompName()),this.fire("loadComponent",t,r,e);var a=s(document.createElement("DIV")).html(i).find("> *");if(a.find('[data-app-edit="content"], [data-app-edit="full"], [data-app-edit="buttons"], [data-app-edit="menu"]').each(function(){s(this).attr("mbr-content-edit",s(this).attr("mbr-html"))}),t._checkPublish=function(){return o},rivets.bind(a,t),e.find("[data-app-component-id="+t._id+"]").find("> .app-component-content").html(a),this.fire("loadedComponent",t,r,e,o),o&&t._publishFilter)try{t._publishFilter(e.find("[data-app-component-id="+t._id+"] > .app-component-content"),n)}catch(e){console.error("Error of _publishFilter of component("+t._id+") on the page("+r+"):",e)}}}},render:function(a,s){var l=this;clearTimeout(n),n=setTimeout(function(){l.fire("render",a);try{if(void 0!==a){var t=l.getComponent(a);if(l.loadEachComponent(t,l.$template,l.resultJSON[l.currentPage],l.currentPage,!1),void 0!==t._onParamsChange)try{t._onParamsChange(l.$template.find("[data-app-component-id="+a+"] > .app-component-content"))}catch(e){console.log("Error execution _onParamsChange of compoment(_name=",t&&t._name,", _id-",t&&t._id,"):",e)}}else{l.clearBlocks();var e,n=l.resultJSON[l.currentPage].components,r=l.prepareAllComponents(n),o=[],i=[];for(e in l.$template.append(r),n){t=n[e];if(void 0!==t._id)if(u.isSecondaryComponent(t)&&t._cid&&!t._customHTML)console.log("Error: component '"+t._name+"' is broken"),o.push(t._id);else if(t.alias&&u.APP.restrictedAddons[t.alias])console.log("Error: component '"+t._name+"' is restricted"),i.push(t._id);else if(l.loadEachComponent(t,l.$template,l.resultJSON[l.currentPage],l.currentPage,!1),void 0!==t._onParamsChange)try{t._onParamsChange(l.$template.find("[data-app-component-id="+t._id+"] > .app-component-content"))}catch(e){console.log("Error execution _onParamsChange of compoment(_name=",t&&t._name,", _id-",t&&t._id,"):",e)}}o.length&&l.showDialog({title:u.APP.TR("Broken blocks were found. Remove them?"),cancelLabel:u.APP.TR("Skip"),successLabel:u.APP.TR("Remove"),success:()=>{l.resultJSON[l.currentPage].components=n.filter(e=>!o.includes(e._id)),u.APP.runSaveProject()},cancel:()=>{}}),i.length&&(l.resultJSON[l.currentPage].components=n.filter(e=>!i.includes(e._id)),u.APP.runSaveProject())}}catch(e){console.log(e)}l.fire("rendered",a),"function"==typeof s&&s()},50)}},events:{}})},function(e,t){function n(e){this._rules="",this._googleLinks="",e&&this._compile(e,0)}var p,h,r,f;p=jQuery,h=mbrAppCore,f=p('<style name="theme-styles">').appendTo("body"),h.regExtension({name:"components",global:{replaceSystemVariables:function(e,t){var n,r=this;if("string"==typeof e)/@USER_EMAIL@/g.test(e)&&(n=(n=r.APP.getUserInfo())&&n.email?n.email:"",e=e.replace(/@USER_EMAIL@/g,n)),/@ADDON_DIR@/g.test(e)&&(e=e.replace(/@ADDON_DIR@/g,r.APP.path2core(r.APP.getAddonDir(t.alias||r.APP.theme.name))+(t.alias?"/":"/components/"))),/@SITES@/g.test(e)&&(e=e.replace(new RegExp(h.APP.projectSettings.path+"/","g"),h.APP.projectSettings.resourcesUrl)),e=r.applyFilter("replaceSystemVariables",e,t);else if("object"==typeof e)for(var o in e)e[o]=r.replaceSystemVariables(e[o],t);return e},addComponent:function(e,r,t){var n,o=p.Deferred(),i=p.extend(!0,{},this.components[e]),a=(r&&r.item&&r.where||(r=!1),0);for(s in this.APP.components)if(s===e){a=1;break}if(a||"secondary"!=!h.APP.theme.type){if((i=this.replaceSystemVariables(i,i))._once)for(var s in this.resultJSON[this.currentPage].components)if(this.resultJSON[this.currentPage].components[s]._name==e)return;if(this.fire("addComponent",e),i._global)for(var s in this.resultJSON)for(var l in this.resultJSON[s].components)if(this.resultJSON[s].components[l]._global&&this.resultJSON[s].components[l]._name==e){for(var u in this.resultJSON[s].components[l])i[u]=this.resultJSON[s].components[l][u];n=!0}if(!n&&i._params)for(var s in i._params)i._params[s]=i._params[s].default;var c=this.resultJSON[this.currentPage].components.length;if(r)for(var s in this.resultJSON[this.currentPage].components)this.resultJSON[this.currentPage].components[s]._id==r.item&&(c="before"==r.where?s:parseFloat(s)+1);var f=this.uniqNum(),t=h.applyFilter("addComponent",p.extend(!0,i,{_name:e,_id:f}),n,t);return t&&"function"==typeof t.then?t.then(function(e){h.resultJSON[h.currentPage].components.splice(c,0,e),d()},function(e){h.render(void 0),o.reject()}):(h.resultJSON[h.currentPage].components.splice(c,0,t),d()),o.promise()}function d(){var e=h.resultJSON[h.currentPage].components[c],t=h.prepareComponent(e),n=0;n=!r||e._alwaysBottom||e._alwaysTop?e._alwaysTop?(h.$template.prepend(t),0):((e=h.$template.find("[data-app-always-bottom]:eq(0)")).length?e.before(t):h.$template.append(t),h.$template.height()):(e=h.$template.find("[data-app-component-id="+r.item+"]"),"before"==r.where||e.attr("data-app-always-bottom")?(e.before(t),e.offset().top):(e.after(t),e.offset().top+e.height())),p("html").stop().animate({scrollTop:n},1e3),h.render(f),h.fire("addedComponent",f),o.resolve()}},getComponent:function(e,t,n){for(var r in t=t||this.currentPage,this.resultJSON[t].components){var o;if(this.resultJSON[t].components[r]._id==e)return o="",n?(delete(o=p.extend(!0,{},this.resultJSON[t].components[r]))._id,delete o._group):o=this.resultJSON[t].components[r],this.applyFilter("getComponent",o,e,t,n)}return this.applyFilter("getComponent",!1,e,t,n)},getNextComponent:function(e,t){var n,r;for(r in t=t||this.currentPage,this.resultJSON[t].components){if(n)return this.applyFilter("getNextComponent",this.resultJSON[t].components[r],e,t);this.resultJSON[t].components[r]._id==e&&(n=!0)}return this.applyFilter("getNextComponent",!1,e,t)},getPrevComponent:function(e,t){t=t||this.currentPage;var n,r=!1;for(n in this.resultJSON[t].components){if(this.resultJSON[t].components[n]._id==e)return this.applyFilter("getPrevComponent",r,e,t);r=this.resultJSON[t].components[n]}return this.applyFilter("getPrevComponent",!1,e,t)},removeComponent:function(e,t,n){for(var r in t=t||this.currentPage,this.resultJSON[t].components)if(this.resultJSON[t].components[r]._id==e){var o=this.getPrevComponent(e,t),i=this.getNextComponent(e,t),a=this.resultJSON[t].components[r]._name,s=this.$template.find("[data-app-component-id="+e+"]");if(this.fire("removeComponent",e,s,t),this.resultJSON[t].components.splice(r,1),t===this.currentPage&&(s.remove(),this.renderComponentsStyles()),this.fire("removedComponent",e,o,i,t),n)for(var l in this.resultJSON)this.resultJSON[l].components.forEach(function(e,t,n){e._name===a&&n.splice(t,1)});return!0}return!1},changeComponentPosition:function(e,t,n){var r,o=this.resultJSON[this.currentPage].components;for(i in o)if(o[i]._id==e){r=o[i],o.splice(parseInt(i),1);break}if(void 0===t)o.splice(0,0,r);else for(var i in o)if(o[i]._id==t){o.splice(parseInt(i)+1,0,r);break}this.fire("changedComponentPosition",e,n)},addComponentStyles:function(e,t,n,r){var o,i={},a=e.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),s=this.getComponent(a);i[t]=n,s&&!this.applyFilter("preventComponentStylesSave",!1,s,e,t,n,r)&&(o=e.attr("data-app-selector")||(e.hasClass("btn")?".btn":"")||e.prop("tagName"),"function"!=typeof s._onStylesChange||s._onStylesChange(e,t,n,o))&&(e.parents("[data-app-selector]").each(function(){o=p(this).attr("data-app-selector")+" "+o}),void 0===s._styles&&(s._styles={}),void 0===s._styles[o]&&(s._styles[o]={}),p.extend(s._styles[o],i),r&&(s._styles[o].googleLink=r),s._styles=this.applyFilter("addComponentStyles",s._styles,s,e,t,n,r),this.updateGlobalComponents(a,function(e,t){t._styles=e._styles}),this.renderComponentsStyles())},getComponentStyles:(n.prototype._compile=function(e,t){for(var n,r="",o=0;o<t;o++)r+="  ";for(n in e){var i=e[n];"object"==typeof i?(this._rules+=r+n+" {\n",this._compile(i,t+1),this._rules+=r+"}\n"):"googleLink"===n?this._googleLinks+="@import url("+i+");\n":this._rules+=r+n+": "+i+";\n"}},n.prototype.getRules=function(){return this._rules},n.prototype.getGoogleLinks=function(){return this._googleLinks},r=function(e){return new n(e)},function(e,t){var n=e,e=("number"==typeof e&&(n=this.getComponent(e)),r(n._styles));return this.applyFilter("getComponentStyles",{css:e.getRules(),google:t?e.getGoogleLinks():""},n,t)}),renderComponentsStyles:function(e,n,r){var o,i,t,a,s,l="",u="",c=(n=n||this.currentPage,this.resultJSON[n].components);if(e=e||!1,r&&this.isSecondaryComponent(r)&&!e)return o=p.Deferred(),t=this.applyFilter("componentSelector","#"+r._anchor,r),a=this.getComponentStyles(r,e),less.render(this.applyFilter("beforeRenderStylesForComponent",t+" {\n"+a.css+"}\n",r),function(e,t){e?(o.reject(e),console.log("Error while page ("+n+") less render:",e)):(o.resolve(t),p('[data-app-component-id="'+r._id+'"] > style').html(t.css))}),o.promise();for(i in c)this.isSecondaryComponent(c[i])&&c[i]._cid&&!c[i]._customHTML?console.log((c[i]._name||"The Block")+" is broken. Skip style rendering"):(t=this.applyFilter("componentSelector","#"+c[i]._anchor,c[i]),a=this.getComponentStyles(c[i],e),e||!this.isSecondaryComponent(c[i])?(l+="\n"+t+" {\n"+a.css+"}\n",u+=a.google):((s=p('[data-app-component-id="'+c[i]._id+'"]')).find("> style").length||s.append("<style/>"),less.render(this.applyFilter("beforeRenderStylesForComponent",t+" {\n"+a.css+"}\n",c[i]),function(e,t){e?(_this.APP.showError("The following error occured while creating the "+n+" page:<br>Less render in the "+c[i]._name+" block: "+e.message),s.find("> style").html("")):s.find("> style").html(t.css)})));if(l=this.applyFilter("beforeRenderStyles",l,c,e,n,u),less.render(l,function(e,t){e?console.log("Error while page ("+n+") less render:",e):l=t.css}),e)return l=u+l,this.applyFilter("afterRenderStyles",l,c,e,n,u);f.html(this.applyFilter("afterRenderStyles",l,c,e,n,u))},focusComponentBlock:function(e){var t,n=p('[data-app-component-id="'+e+'"]');n.hasClass("focused")||((t=p("[data-app-component-id].focused")).length&&h.fire("blurComponent",t.attr("data-app-component-id")),p("[data-app-component-id]").removeClass("focused"),"x"!==e?n.addClass("focused"):(h.$body.find(".note-popover > *").attr("style","display: none;"),h.$body.find(".sp-container").addClass("sp-hidden"),h.$body.find(".sp-replacer").css("visibility","hidden")),h.fire("focusedComponent","x"!=e&&e))},getFocusedComponentBlockId:function(){return p("[data-app-component-id].focused").attr("data-app-component-id")},getComponentBlock:function(e){return p('[data-app-component-id="'+e+'"]').get(0)},convertComponentParams:function(e){var t,n={};for(t in e=p.extend(!0,{},e))p.isArray(e[t])?(n[t]={},void 0!==e[t][0]&&(n[t].type=e[t][0]),void 0!==e[t][1]&&(n[t].title=e[t][1]),void 0!==e[t][2]&&(n[t].default=e[t][2]),void 0!==e[t][3]&&(n[t].values=e[t][3])):n[t]=e[t];return n},getComponentParams:function(e,t){var t=this.getComponent(e,!1,!t),n=this.convertComponentParams(("secondary"==h.theme.type&&h.isSecondaryComponent(t)?t:this.components[t._name])._params);return this.applyFilter("getComponentParams",{current:t._params,default:n},e)},changeComponentParams:function(e,n,r){var t=this.getComponent(e),o=t._params,i=!1,a=this.$template.find("[data-app-component-id="+e+"] > .app-component-content");function s(e,t,n,r){if(i)if(p.isArray(e[t])&&"object"==typeof e[t][Object.keys(e[t])[0]])for(var o in n)p.extend(e[t][o],n[o]);else p.extend(e[t],n);else e[t]=n;r&&p.extend(e,r)}if(this.fire("changeComponentParams",e,n,r),n){if("bgImage"!==n&&"parallax"!==n&&"bgImageRadio"!==n||a.trigger("destroy.parallax"),"object"==typeof r){var l,u=0,c=0;for(l in o[n])u++;for(l in r)c++;i=c<=u}r=this.applyFilter("changeComponentParams",r,n,o,e),s(o,n,r),this.updateGlobalComponents(e,function(e,t){s(t._params,n,r,e._params)})}void 0!==t._onParamsChange&&t._onParamsChange(a,n,r),this.fire("changedComponentParams",e,n,r)},getComponentsAnchorList:function(e,t){var n,r="",o=1,i='selected="selected"';for(n in this.resultJSON[t||this.currentPage].components){var a,s,l=this.resultJSON[t||this.currentPage].components[n],u="";e=="#"+l._anchor&&(u=i,o=1),void 0===l._anchor||l._positionAbsolute||l._alwaysBottom||(a=(l.alias?h.APP.getAddonDir(l.alias):h.theme.path+"/components")+"/"+l._name+"/thumb.png",s=0===l._anchor.indexOf(l._name+"-")?l._anchor.charAt(0).toUpperCase()+l._anchor.slice(1).replace(/\d/," $&"):l._anchor,r+='<option data-tooltipster="right" data-tooltip-src="'+a+'" value="'+(t||this.currentPage)+"#"+l._anchor+'" '+u+">"+s+"</option>")}return'<option value="" disabled="disabled" '+(o?'selected="selected"':"")+"></option>"+(r=this.applyFilter("getComponentsAnchorList",r='<option value="'+(t||"")+'#top" '+("top"==e?i:"")+">Top of Page</option>"+r+'<option value="'+(t||"")+'#bottom" '+("top"==e?i:"")+">Bottom of Page</option>",e))},updateGlobalComponents:function(e,t){var n=this.getComponent(e);if(n._global)for(var r in this.resultJSON)for(var o in this.resultJSON[r].components)this.resultJSON[r].components[o]._name==n._name&&this.resultJSON[r].components[o]._id!==n._id&&t&&t(n,this.resultJSON[r].components[o]);h.fire("updateGlobalComponents",e,t)}},events:{changeComponentPosition:function(e,t,n){this.changeComponentPosition(e,t,n)},rendered:function(e){this.renderComponentsStyles(),"number"==typeof e&&function(r){let a=h.getComponent(r);if(a._global&&1<Object.keys(this.resultJSON).length){let n=this.resultJSON,o=this.currentPage,i=[];if(a._once)for(let r in n)n.hasOwnProperty(r)&&r!==o&&n[r].components.some(function(e,t,n){if(e._once===a._once)return i.push(r),!0});h.APP.confirmDlg(h.APP.TR("This block is global. Do you want to add it to all pages?"),function(e){if(e)if(i.length){e=h.APP.TR("Please remove $component$ on all pages").replace("$component$",a._once||a._name.replace(/[0-9]/g,""))+":<br/><br/>- "+i.join("<br/>- ");h.APP.alertDlg(e),h.removeComponent(r)}else for(var t in n)n.hasOwnProperty(t)&&t!==o&&n[t].components.push(a)})}}.call(this,e)}}})},function(e,t){function n(){var e=document.createElement("div"),t=(c(e).addClass("placeholderPage"),f.APP.TR('Click the "plus" $icon$ to add a new block.').replace("$icon$",'<br/><button class="placeholderPage__button mbr-btn btn-red"><i class="mbr-icon-plus"></i></button>'));return c(e).append(f.APP.TR("This is a new empty page.")+"<br/>"+t),c(e).find("button").on("click",function(e){setTimeout(function(){c(e.target).css({pointerEvents:"none"}),f.APP.$componentsToggleBtn.trigger("click")},0)}),e}function r(e){var e=e||!1,t=f.currentPage,t=f.resultJSON[t].components.length;f.$body.find(".placeholderPage").length&&f.$body.find(".placeholderPage").remove(),!e&&!t||e&&!t?c(document.body).append(n()):(e=c(".placeholderPage")).length&&e.remove()}var c,f;c=jQuery,(f=mbrAppCore).regExtension({name:"pages",global:{getPages:function(){return this.applyFilter("getPages",c.extend(!0,{},this.resultJSON))},checkCurrentPage:function(e){return e===this.currentPage},getUniquePageName:function(e){if(!e){var t,n=0;for(t in this.resultJSON)this.resultJSON.hasOwnProperty(t)&&n++;e=n}return this.resultJSON["page"+e+".html"]?this.getUniquePageName(e+1):this.applyFilter("getUniquePageName","page"+e+".html",e)},getPageComponents:function(e){return e=e||this.currentPage,this.applyFilter("getPageComponents",!!this.resultJSON[e]&&c.extend(!0,{},this.resultJSON[e].components),e)},loadPage:function(e,t){var a=(t?t.pages:this.resultJSON)[e],s=[],n=[];if("object"!=typeof a||"object"!=typeof a.settings||"object"!=typeof a.components)return console.log("Error: error component list in page",e),c.Deferred().reject().promise();if(a.components.length&&"_id"in a.components[0])return c.when();for(var r,o,i=function(e,t){if((t=t||{})._once){if(!(s.indexOf(t._once)<0))return console.log("Error: dublicate _once =",t._once,"at component",e._name),void a.components.splice(l,1);s.push(t._once)}if(e._id=this.uniqNum(),!this.isSecondaryComponent(t)){var n,t=c.extend({},e._params||{});for(n in this.components[e._name])if(("function"==typeof this.components[e._name][n]||/_alwaysTop|_alwaysBottom|_positionAbsolute|_noDrag|_once|_group|_global|_autoPadding|_css|_js|_plugins|_afterNavbarItem/g.test(n)&&this.components[e._name][n])&&(e[n]=this.components[e._name][n]),"_params"===n){void 0===e[n]&&(e[n]={});var r,o=this.components[e._name][n],i={};for(r in o)void 0===e[n][r]?i[r]=o[r].default:c.isArray(e[n][r])?i[r]=c.extend([],!0,e[n][r]):"object"==typeof e[n][r]?i[r]=c.extend({},!0,e[n][r]):i[r]=e[n][r];e[n]=i}"function"==typeof(e=f.replaceSystemVariables(e,e))._onLoadFromProject&&e._onLoadFromProject(this.components[e._name],t)}},l=0;l<a.components.length;){var u=a.components[l];u?(u=this.applyFilter("loadingPageComponent",u,a),r=u._name,o=this,"string"==typeof r&&("secondary"===o.theme.type||"pro.custom-html"===r||r in o.components)?n.push(function(t){return(f.isSecondaryComponent(t)?c.Deferred().resolve(t).promise():f.APP.getRealComponent(t._name)).then(function(e){i.call(f,t,e)})}(u)):console.log('Error: component with name "'+u._name+'" is not registered, will be passed'),l++):(console.log("Warning: Empty component #",l,"in page",e,". Will be removed!"),a.components.splice(l,1))}return c.when.apply(c,n)},addPage:function(e){this.fire("addPage");var t=this.getUniquePageName(),n={settings:{},components:[]},r=(f.APP&&/^(default|mobirise3|mobirise4)$/.test(f.APP.theme.name)&&(r=f.APP.spinText("{Website|Website|Site|Web|Web Site|Web Page} {Builder|Builder|Creator|Maker|Generator}"),n.settings.meta_descr=r+" Description"),e&&delete(n=f.APP.getResultPage(this.resultJSON[e])).settings.main,/\d+/),e="Page"+(r.test(t)?" "+t.match(r):"");return n.settings.title=e,this.resultJSON[t]=this.applyFilter("addPage",n,t),this.fire("addedPage",t),{name:t,title:e}},removePage:function(e){return!!this.resultJSON[e]&&(this.fire("removePage",e),delete this.resultJSON[e],this.fire("removedPage",e),!0)},switchPage:function(e){return this.resultJSON[e]?(this.fire("switchPage",e),this.currentPage=e,this.loadPage(e).then(function(){f.render(),f.fire("switchedPage",e)})):c.Deferred().reject().promise()},changePageSettings:function(e,t,n){var r,o;if(this.fire("changePageSettings",e),"fileName"!==t)this.resultJSON[e].settings[t]=this.applyFilter("changePageSettings",n,t,e),this.fire("changedPageSettings",t,e);else if((n=n.replace(/^[\.]+|["'\\\/\:\;<>]/g,""))&&(o=(r=n.split("."))[r.length-1],r.length<2||!["html","shtml","xml","php","asp","aspx","xhtml","htm","jsp","js"].includes(o))&&(n+=".html"),""!==n&&!this.resultJSON[n])return Object.defineProperty(this.resultJSON,n,Object.getOwnPropertyDescriptor(this.resultJSON,e)),delete this.resultJSON[e],this.currentPage==e&&(this.currentPage=this.applyFilter("changePageSettings",n,t,e)),this.fire("changedPageSettings",t,e),n;return""},getPagesList:function(e){var t,n="",r=1,o=f.APP.sortPagesByOrder(this.getPages());for(t in o){var i="",a=(e==t&&(i='selected="selected"',r=1),f.APP.escapeHtml(o[t].settings.title||t));n+='<option value="'+t+'" '+i+' data-text="'+a+'">'+a+"</option>"}return this.applyFilter("getPagesList",'<option value="" disabled="disabled" '+(r?'selected="selected"':"")+"></option>"+n,e)}},events:{rendered:function(e){r(e)},projectLoaded:function(){f.APP.on("hideComponents",function(){f.$body.find(".placeholderPage__button").length&&f.$body.find(".placeholderPage__button").css({pointerEvents:""})})},removedComponent:function(e){r(e)}}})},function(e,t){var o=jQuery,n=mbrAppCore;function i(e,t,n){var r=e.replace(t,n);return r===e?r:i(r,t,n)}o.fn.uncomment=function(e,t){o(this).contents().each(function(){"IFRAME"!==this.tagName&&(e&&this.hasChildNodes()?o(this).uncomment(e,t):8!=this.nodeType||t&&!RegExp(t,"g").test(this.nodeValue)||o(this).remove())})},n.regExtension({name:"cleaners",global:{cleanHTMLplease:function(e,t){var n="string"==typeof e,r="object"==typeof e&&!!e.jQuery;return(n||r)&&((e=o("<div>").html(e)).find("b:not([class])").each(function(){var e,t=this.attributes,n=o("<strong>"+this.innerHTML+"</strong>");o(this).replaceWith(n);for(e of t)n.attr(e.name,e.value)}),e.find("i:not([class])").each(function(){var e,t=this.attributes,n=o("<em>"+this.innerHTML+"</em>");o(this).replaceWith(n);for(e of t)n.attr(e.name,e.value)}),e.find("[data-app-remove-it]").remove(),e.find("[data-app-edit], [data-app-btn]").removeAttr("data-app-edit contenteditable id"+(t?"":" data-app-btn data-app-list-item")).removeClass("note-air-editor note-editable"),e.find("*").each(function(){for(var e="",t=0,n=this.attributes,r=n.length;t<r;t++)/mbr-/g.test(n[t].nodeName)&&(e+=n[t].nodeName+" ");o(this).removeAttr(e)}),e.uncomment(!0,"rivets:"),t||(e.find(".mbr-menu-item").removeClass("mbr-menu-item"),e.find("[data-toolbar]").removeAttr("data-toolbar"),e.find("[data-app-placeholder]").removeAttr("data-app-placeholder"),e.find("[data-app-selector]").removeAttr("data-app-selector"),e.find("[data-multiline]").removeAttr("data-multiline")),e.find("[data-app-img-width], [data-app-img-height]").removeAttr("data-app-img-width data-app-img-height"),e=this.applyFilter("cleanHTMLplease",e,t),e=n?(e=e.html()).replace(/(<iframe\b[^>]*>)(.*?)(<\/iframe>)/g,function(e,t,n,r){return n=i(n,/\&amp;/g,"&"),t+(n=o("<textarea/>").html(n).text())+r}):e.unwrap()),e},isSerializableObject:function(e){return"object"==typeof e&&(Array.isArray(e)||o.isPlainObject(e))},cleanJSONPlease:function(e,t){if(this.isSerializableObject(e))for(var n in e)/_id|_alwaysTop|_alwaysBottom|_positionAbsolute|_noDrag|_once|_group|_global|_autoPadding|_css|_js|_plugins/g.test(n)||"function"==typeof e[n]?t||delete e[n]:e[n]=this.cleanJSONPlease(e[n],t);else"string"==typeof e&&/data-app-btn=|contenteditable=|note-editable/g.test(e)&&(e=this.cleanHTMLplease(e,!0));return e}}})},function(e,t){var u,n,c;u=jQuery,n=mbrAppCore,c=u(['<div class="note-button-popover popover in bottom">','<div class="arrow"></div>','<div class="popover-content">','<div class="btn-group">','<button type="button" class="btn btn-default btn-sm" tabindex="-1" data-event="changeImage" data-media="image"><i class="mbr-icon-image"></i></button>','<button type="button" class="btn btn-default btn-sm" tabindex="-1" data-event="changeVideo" data-media="video"><i class="mbr-icon-youtube"></i></button>',"</div>","</div>","</div>"].join("\n")).hide().appendTo(u('<div class="note-popover note-air-layout">').appendTo("body")),n.regExtension({name:"plugin-media-editor",global:{showMediaPopover:function(e){var t=(c.mediaItem=e).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),n=e.attr("mbr-media")||e.attr("mbr-pure-media"),r=this.getComponent(t),o=[];c.find("[data-media]").each(function(){var e=r[n][u(this).attr("data-media")];u(this)[e?"show":"hide"](),e&&o.push(u(this))}),1==o.length?o[0].click():o.length&&(this.fire("showMediaPopover",c),t=e.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),e={top:e.offset().top+e.height()/2,left:e.offset().left-c.width()/2+e.width()/2},c.css(e).show(),this.focusComponentBlock(t),this.fire("showedMediaPopover",c),this.fire("showedPopover"))},hideMediaPopover:function(){this.fire("hideMediaPopover",c),c.mediaItem=void 0,c.hide(),this.fire("hiddenMediaPopover",c)}},events:{load:function(){var l=this;l.$body.on("click","[mbr-media],[mbr-pure-media]",function(e){e.stopPropagation(),e.preventDefault(),l.showMediaPopover(u(this))}),c.on("click","[data-event]",function(e){e.preventDefault(),e.stopPropagation();var e=u(this).attr("data-event"),t=c.mediaItem;if(t){var n=t.attr("mbr-media")||t.attr("mbr-pure-media");if(n){var r,o=t.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),i=l.getComponent(o),a=u.extend({},i[n]);for(r in a)"object"!=typeof a[r]&&(a[r]={});"changeImage"==e?l.APP.showMediaImageDialog(a,s,"","","",o):"changeVideo"==e&&l.APP.showMediaVideoDialog(a,s),l.fire("changeMediaItem",e,a,s,t.get(0)),l.fire("clickOnMediaItem",e,i,c),l.hideMediaPopover()}}function s(e){i[n]=e,l.fire("saveMedia",o,n,e),l.updateGlobalComponents(o,function(e,t){if(n)return u.extend(!0,t[n],e[n]),t})}}),u(window).on("resize",function(){l.hideMediaPopover()}),l.on("summernoteFocus",function(){l.hideMediaPopover()}),l.APP.on("componentClicked",function(e){l.hideMediaPopover()})}}})},function(e,t){var a,i,n,s,l,u;a=jQuery,i=mbrAppCore,l='[data-app-edit="content"], [data-app-edit="full"], [data-app-btn]',u=!0,i.regExtension({name:"plugin-summernote",global:{initSummernote:function(e){var r=this,t=(e=e||r.$template).is(l)?e:e.find(l);t.attr("contenteditable",!0),clearTimeout(n),n=setTimeout(function(){t=r.applyFilter("summernoteEditableItems",t,e,!1),s=t.get(0),t.filter(":not(.note-air-editor)").each(function(){var e;a(this).is(".note-air-editor")||(a(this).is("[data-app-btn]")&&(e=a(this).parents("[data-app-edit]:eq(0)").attr("data-toolbar")||!1)&&a(this).attr("data-toolbar",e),a(this).is('[data-app-edit="full"]'),e=r.applyFilter("summernoteMakePopover",e=[["font",["bold","italic"]],["mbrLink",["mbrLink"]],["mbrFonts",["mbrColor"],{optional:["mbrFonts","mbrFontSize"]}],["mbrAlign",["mbrAlign"]]],t),a(this).summernote(r.applyFilter("summernoteOptions",{airMode:!0,styleWithSpan:!1,focus:!0,airPopover:e,onFocus:function(e){r.APP.hideComponentParams(),0===e.target.innerText.length&&0!==e.target.innerHTML.length&&(e.target.innerHTML=e.target.getAttribute("data-app-placeholder")+e.target.innerHTML),r.fire("summernoteFocus",this,e)},onBlur:function(e){r.fire("summernoteBlur",this,e)},onPaste:function(e){var t=((e.originalEvent||e).clipboardData||window.clipboardData).getData("text/plain"),n=!0;a(this).is("p, span, a, .btn, button, strong, b, em, i, small, code, label")&&(t=t.replace(/\n/g,"<br>"),n=!1),e.preventDefault(),t=r.applyFilter("summernotePaste",t),document.execCommand(n?"insertText":"insertHTML",!1,t)},onKeydown:function(e){32==e.keyCode&&e.stopPropagation(),r.fire("summernoteKeydown",this,e)}},t)),r.fire("summernoteInited",this))})},100)},destroySummernote:function(e){var t=(e=e||this.$template).is(l)?e:e.find(l);(t=this.applyFilter("summernoteEditableItems",t,e,!0)).filter("[contenteditable]").destroy(),s=void 0},changeSummernote:function(e){var t,n;e.is("[data-app-btn]")&&!e.attr("data-app-edit")&&!(e=e.parents("[data-app-edit]:eq(0)")).length||(t=this,n=e.parents(".app-component").attr("data-app-component-id"),setTimeout(function(){t.updateGlobalComponents(n,function(e,t){for(var n in t)"_customHTML"!==n&&("object"==typeof t[n]||"function"==typeof t[n]||/^_/g.test(n))||(t[n]=e[n])})},0))}},events:{load:function(){var e,t,n,r,o=this;i.$template.on("mousedown",function(e){let t=a(e.target);var n;if(t.is(l)||(t=t.parents(l)),s&&s!=t[0]&&o.destroySummernote(),t[0])return a(e.target).is(".mbr-iconfont")?(n=a(e.target),i.summernoteIconRequest(e.target,t[0],function(e){arguments.length&&(e&&(t.is("[data-app-btn]")?t.prepend(e):n.after(e)),n.remove(),t.blur())}),!1):void o.initSummernote(t)}),i.APP.on("showedPopup",function(){this.$body.find(".note-popover > *").attr("style","display: none;")}),e=a.summernote.eventHandler.modules.popover,n=function(t,n,e){setTimeout(function(){var e=a(n.range.sc).closest(l);o.fire("summernotePopoverUpdate",t.children(":visible").get(0),e.get(0),n)},0)},r=e[t="update"],e[t]=function(){var e=Array.prototype.slice.call(arguments);r.apply(this,e);try{n.apply(this,e)}catch(e){}}},rendered:function(){},changedComponentParams:function(e){e=a(i.getComponentBlock(e));this.destroySummernote(e)},removeComponent:function(e,t){this.destroySummernote(t)},clearBlocks:function(){this.destroySummernote()},rivetsBlur:function(e){this.changeSummernote(a(e))},showedPopover:function(){this.destroySummernote()},summernotePopoverUpdate:function(e,t){if(u){u=!1,setTimeout(function(){u=!0},0);for(var n=[],r=a(e).find(".popover-content");r.width()>window.innerWidth;){var o=r.find("> .btn-group:visible:last > *:visible").parent().hide();n.push(o)}var i=r.find("> .btn-group:visible > *:visible").closest(".btn-group");0<n.length&&(r.append('<div class="btn-group note-show-more"><button data-toggle="tooltip" type="button" class="btn btn-default btn-sm" title="" tabindex="-1" data-original-title="Insert icon"><i class="mbr-icon-more-horizontal"></i></button></div>'),r.find(".note-show-more").click(function(e){r.find(".note-show-more").is(":first-child")?r.hide("slide",{direction:"right"},700,function(){i.show(),n.forEach(function(e){e.hide()}),r.find(".note-show-more").appendTo(r),r.show("slide",{direction:"left"},700,function(){})}):r.hide("slide",{direction:"left"},700,function(){i.hide(),n.forEach(function(e){e.show()}),r.find(".note-show-more").prependTo(r),r.show("slide",{direction:"right"},700,function(){})})}))}}}})},function(e,t){var o,n,s=jQuery,l=mbrAppCore,u={class:"mbr-iconfont",linkInNewWindow:!1};function i(){for(var e in l.APP.iconFonts)return 1}for(n in s.summernote.plugins)"iconFont"==s.summernote.plugins[n].name&&(o=s.summernote.plugins[n]);o?l.regExtension({name:"iconfont",global:{summernoteIconRequest:function(e,t,n){r=e;var r=l.APP.extractIconFont(r),o=(r.name||(e=0),s(t).attr("data-app-btn")),o=(o&&(r.size=r.size||"",delete r.link,r.class="mbr-iconfont mbr-iconfont-btn"+("true"==o?"":"-"+o.replace(/\s+/,"_"))),s(e||t)),e={size:o.attr("data-app-btn")?Math.round(o.outerHeight()/2):parseInt(o.css("font-size"))||12,color:o.css("color")};l.APP.runIconFontDialog(r,e,function(e){n&&(arguments.length?(e=e&&s.extend({},u,e),n(e&&(e=e,l.APP.createIconFont(e)))):n())})},showMediaIconFontDialog:function(n,r,o){var e=s.extend({},n.iconFont),t={size:parseInt(s(o).height()),color:s(o).css("color"),name:e.name},i=(delete e.name,l.fire("showMediaIconFontDialog"),s(o).attr("mbr-media")||s(o).attr("logo"));function a(e,t){if(i){for(var n in s.extend(!0,t[i],e[i]),t[i])t[i][n].active=void 0;return t[i].iconFont.active=!0,t}}e=l.APP.runIconFontDialog(e,t,function(e){if(e){for(var t in n.iconFont=s.extend({},u,e),n)n[t].active=void 0;n.iconFont.active=!0,n=l.applyFilter("saveMediaIconFontDialog",n),l.fire("saveMediaIconFontDialog");e=s(o).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");r(n),l.updateGlobalComponents(e,a),l.fire("savedMediaIconFontDialog",o,n,e)}});l.fire("showedMediaIconFontDialog",e),l.APP.fire("showedPopup",e)}},events:{load:function(){var r;i()&&(r=s("[data-event=changeImage]").parent()).each(function(){var e,t,n=s(this);r.find("[data-event=changeIconfont]").length||(e=s.summernote.options,t=s.summernote.lang[e.lang],s(o.buttons.iconFont(t,e)).attr("data-event","changeIconfont").attr("data-media","iconFont").appendTo(n))})},summernoteInited:function(e){var t,n;i()&&(n=(t=s.summernote.core.dom.makeLayoutInfo(s(e))).editor().data("options"),!s(e).attr("data-app-btn")||n.customToolbar&&"off"===n.customToolbar.iconFont||(s(e).summernote("popover.addGroup",["iconFont",["iconFont"],{optional:!0}]),t.popover().find("[data-event=insertIconFontDialog]").tooltip({container:"body",trigger:"hover",placement:"top"})))},changeMediaItem:function(e,t,n,r){"changeIconfont"==e&&this.showMediaIconFontDialog(t,n,r)}}}):console.log("Error: iconFont summernote plugin not found")},function(e,t){var n;n=jQuery,mbrAppCore.regExtension({name:"plugin-tooltips",global:{initTooltips:function(){n.fn.tooltip&&this.$template.find('[data-tooltipster]:not(.tooltipstered), [data-toggle="tooltip"]:not(.tooltipstered)').each(function(){n(this).tooltipster({delay:0,speed:100,position:n(this).attr("data-tooltipster")||n(this).attr("data-placement")||"bottom"})})},destroyTooltips:function(e){n.fn.tooltip&&(e=e||this.$template).find("[data-tooltipster].tooltipstered").tooltipster("destroy")}},events:{addedComponent:function(){this.initTooltips()},rendered:function(){this.initTooltips()},removeComponent:function(e,t){this.destroyTooltips(t)},removePage:function(){this.destroyTooltips()},switchPage:function(){this.destroyTooltips()}}})},function(e,t){var i,a;i=jQuery,(a=mbrAppCore).regExtension({name:"plugin-sortable",events:{load:function(){var n,r,e,o=!1;a.$template.sortable({axis:"y",items:"> div:not(.no-sortable)",handle:".sortable",placeholder:"ui-sortable-placeholder",scrollSpeed:50}).on("sortstart",function(e,t){a.fire("startChangeComponentPosition"),a.focusComponentBlock("x"),o=!0,a.APP.$iframe.hasClass("desktop")&&(a.APP.$iframe.closest(".app-template").addClass("scaled sorting"),a.APP.$body.addClass("sorting"),a.$body.addClass("scaled"),a.$template.addClass("scaled")),a.APP.isAMP()||t.helper.find(".app-component-content > section").jarallax("destroy").css("position",""),n=t.item.prev(":not(.no-sortable)").data("app-component-id")}).on("sortstop",function(e,t){o=!1,a.APP.$iframe.closest(".app-template").removeClass("scaled sorting"),a.APP.$body.removeClass("sorting"),a.$body.removeClass("scaled"),a.$template.removeClass("scaled"),a.APP.isAMP()||(t?t.item.find(".mbr-parallax-background"):a.$template.find(".app-component > .mbr-parallax-background")).jarallax({speed:.6}).css("position","relative"),t&&(r=t.item.prev(":not(.no-sortable)").data("app-component-id")),t&&n!==r&&a.fire("changeComponentPosition",t.item.data("app-component-id"),r,n)}),i.fn.scrollParent=(e=i.fn.scrollParent,function(){return this[0].parentNode===a.$template[0]?i(this[0].ownerDocument):e.apply(this,arguments)}),a.APP.$body.on("mouseup touchend",function(e){o&&a.$template.trigger("sortstop")})}}})},function(e,t){{var l=jQuery,u=mbrAppCore,s="mbr-class-var",c="data-class-var",f="note-current-mbrStyle";function d(e){return e.is("[mbr-buttons], [mbr-menu]")}rivets.binders["class-var"]={bind:function(e,t){var n=this,r=l(e);r.off("blur.style").on("blur.style",d(r)?"a":null,function(e){n.observer.setValue(r.attr(c))})},unbind:function(e,t){l(e).off("blur.style"),l(e).removeAttr(c)},routine:function(e,t){var n=this.getValue(e),e=l(e).attr(c,t);d(e)&&(e=e.find("a")),n&&e.removeClass(n),t&&e.addClass(t)},getValue:function(e){return l(e).attr(c)}};let i,a;function p(e){var t=l.summernote.eventHandler,e=l.summernote.core.dom.makeLayoutInfo(e);t.updateStyleInfo(t.modules.editor.currentStyle(e.editable()),e)}var n={name:"mbrStyle",className:f,title:"Font",label:"[...]",itemsHtml:"",onUpdate:function(t,e,n){var r,o;t=l(t).closest("["+s+"]"),(n.range&&n.range.isCollapsed()||d(t))&&function(e,t){if(!(1<e.find("li").length)){var n="",r=0;if(u.eachStylesForNode(t,function(e,t){n+='<li><a data-event="mbrStyle" href="javascript:void(0);"data-value="'+e+'"><span class="'+e+'">'+t+"</span>"+u.applyFilter("buttonFontSiteStyleIcon","")+"</a></li>",r=Math.max(r,t.length)}),!n)return!1;t=Math.min(200,54+18*r/2+15),e=e.find("ul");e.html(n),e.css("min-width",t+"px")}return!0}(e,t)?(e.show(),(r=t.attr(c))||u.eachStylesForNode(t,function(e){l(t).hasClass(e)&&(r=e)}),e.find("li").removeClass("selected"),(o=e.find('li [data-value="'+r+'"]')).parent().addClass("selected"),e.find(".mbr-icon-paint-brush").tooltip({container:"body",trigger:"hover",placement:"top"}),e.find("."+f).attr("class",f+" "+r).html(o.text())):(e.hide(),!t.length||i===n.range.so&&a===n.range.eo||(p(t),i=n.range.so,a=n.range.eo))},onAction:function(e,t,n){var r,o,i;n.editable().focus(),l(e.target).is(".mbr-icon-paint-brush")?setTimeout(function(){var e=n.editor().closest("["+c+"]").attr(c);u.APP.openThemeSettings(),u.APP.ToogleThemeSettings.target.$elm.find('.app-layer-group[data-group-name="'+e+'"]').addClass("selected")},100):(e=l(e.target).closest("a").attr("data-value"))&&(r=n.editable(),e=e,(r=l(r).closest("["+c+"]")).attr(c)!=e&&(o=d(r)?r.find("a"):r,i=[],u.eachStylesForNode(r,function(e){i.push(e)}),i.length&&o.removeClass(i.join(" ")),o.addClass(e),r.attr(c,e).trigger(l.Event("change-theme-style",{themeStyle:e}))),setTimeout(function(){var e=l.summernote.eventHandler;e.updateStyleInfo(e.modules.editor.currentStyle(n.editable()),n)},250))}},h=l.summernote.renderer.getTemplate();u.regExtension({name:"plugin-element-class",global:{registeredSummernoteButtons:[],regSummernoteButton:function(r){r.event=r.event||r.name;var o=r.name,e={name:r.name,buttons:{},events:{},langs:{"en-US":{}}};e.buttons[r.name]=function(e,t){var n='<span class="'+r.className+'">'+r.label+"</span>",e={title:e[o][r.name],hide:r.hide||!1,event:r.event,name:r.name};return"itemsHtml"in r&&(e.dropdown='<ul class="dropdown-menu note-check">'+r.itemsHtml+"</ul>"),r.onInit&&r.onInit(e),h.button(n,e)},e.events[r.name]=function(e,t,n){r.onAction&&r.onAction(e,t,n)},e.langs["en-US"][o]={},e.langs["en-US"][o][r.name]=r.title,l.summernote.addPlugin(e),this.registeredSummernoteButtons.push(r)},eachStylesForNode:function(e,t){e=l(e).closest("["+s+"]");var n,r=function(e){e=e.split(".");for(var t=window,n=0;t&&n<e.length;n++)t=t[e[n]];return t}("window.mbrAppCore.APP.theme.params.theme.settings")||[],o=[];for(n in r){var i=r[n];i&&"group"==i.type&&"rule"in i&&e.is(i.rule)&&(!i.name||0<=o.indexOf(i.name)?console.warn("Wrong name of theme style from theme.settings["+n+"]: {"+i.name+","+i.title+"}. Passed..."):(o.push(i.name),t(i.name,i.title||i.name)))}}},events:{load:function(){u.addFilter("cleanHTMLplease",function(e,t){return e.find("["+c+"]").removeAttr(c),e}),u.addFilter("summernoteMakePopover",function(e,t){return e.unshift(["mbrStyle",["mbrStyle"]]),e}),u.addFilter("summernoteOptions",function(e,t){return t.closest("["+c+"]").length&&(e.customToolbar||(e.customToolbar={}),l.extend(e.customToolbar,{mbrFonts:"off",mbrFontSize:"off"})),t.hasClass("dropdown-toggle")&&(e.customToolbar=l.extend(e.customToolbar||{},{mbrLink:"off"})),e}),u.regSummernoteButton(n),u.APP.on("openThemeSettings",function(){u.APP.ToogleThemeSettings.target.$elm.find("[data-group-name]").removeClass("selected")}),u.APP.on("change.Node.SecondaryComponent",function(e){var t=e[0],n=e[1];"buttons"!=t.target.type&&"menu"!=t.target.type||(t=l(t.originalEvent.target).attr(c))&&(e[1]=l("<div/>").append(n).find("a").removeClass(t).end().html())})},summernotePopoverUpdate:function(t,e,n){if(l(e).parent(".dropdown").parent(".nav-dropdown").length&&l(t).hasClass("bottom")){var r=l(t),o=r.height();let e;e=u.APP.appSettings.fullscreenCanvas?parseInt(r.css("top"))-1.2*o:parseInt(r.css("top"))-1.5*o,r.css("top",e)}for(var i=0;i<this.registeredSummernoteButtons.length;i++){var a,s=this.registeredSummernoteButtons[i];s.onUpdate&&(a=l(t).find('[data-name="'+s.name+'"]')).length&&s.onUpdate(e,a,n)}}}})}},function(e,t){var r,i;jQuery,(r=mbrAppCore).regExtension({name:"builder/migrate",global:{showMediaImageDialog:function(e,t,n){return console.warn("mbrAppCore.showMediaImageDialog is depricated, use mbrApp.showMediaImageDialog instead"),r.APP.showMediaImageDialog(e,t,n)},showMediaVideoDialog:function(e,t){return console.warn("mbrAppCore.showMediaVideoDialog is depricated, use mbrApp.showMediaVideoDialog instead"),r.APP.showMediaVideoDialog(e,t)}},events:{load:function(){r.APP.on("saveMediaImageDialog",function(e,t,n){r.fire("saveMediaImageDialog",e,t,n)}),r.APP.on("openThemeSettings",function(){"secondary"===r.APP.theme.type&&r.APP.hasThemeSettings(r.APP.theme.params)&&r.APP.$themeToggleBtn.css("visibility","visible")}),r.addFilter("loadingPageComponent",function(e,t){if("menu"==e._name&&(e._params&&void 0!==e._params.brand&&(e.brand='<a href="#">'+e._params.brand+"</a>",delete e._params.brand),e._params)&&void 0!==e._params.items){var n,r="";for(n in e._params.items)r+='<li><a href="'+e._params.items[n].href+'" data-app-btn="true" class="mbr-menu-item">'+e._params.items[n].title+"</a></li>";e.items='<ul class="nav nav-pills pull-right">'+r+"</ul>",delete e._params.items}e._anchor&&(e._anchor=e._anchor.replace(/\./i,"_"));var o,i={};for(o in"menu"!=e._name&&"ext.menu"!=e._name&&"contacts1"!=e._name||e.logo&&"object"!=typeof e.logo&&(i.logo={image:{src:e.logo,class:"contacts1"==e._name?"mbr-contacts__img mbr-contacts__img--left":"mbr-navbar__brand-img mbr-brand__img",height:128}}),"features1"==e._name&&(e.img1&&"object"!=typeof e.img1&&(i.media1={image:{src:e.img1,width:600}},delete e.img1),e.img2&&"object"!=typeof e.img2&&(i.media2={image:{src:e.img2,width:600}},delete e.img2),e.img3&&"object"!=typeof e.img3&&(i.media3={image:{src:e.img3,width:600}},delete e.img3),e.img4)&&"object"!=typeof e.img4&&(i.media4={image:{src:e.img4,width:600}},delete e.img4),"msg-box5"!=e._name&&"msg-box4"!=e._name||e.image&&"object"!=typeof e.image&&(i.media={image:{src:e.image,class:"mbr-figure__img",width:1400}},e._params&&e._params.video&&(i.media.video={src:e._params.video.url,class:"mbr-figure__img",aspectratio:e._params.video.aspectratio,autoplay:e._params.video.autoplay,loop:e._params.video.loop},e._params.isVideo)&&(i.media.video.active=!0),delete e.image),"image1"!=e._name&&"video1"!=e._name&&"image2"!=e._name&&"video2"!=e._name||(e.image&&"object"!=typeof e.image||e._params&&e._params.video)&&(i.media={image:{src:e.image||"images/slide3.jpg",class:"mbr-figure__img",width:1400},video:{class:"mbr-figure__img",src:e._params&&e._params.video?e._params.video.url:"http://www.youtube.com/embed/sOSTC6FM6Bw"}},e._params&&e._params.video&&(i.media.video.active=!0),delete e.image),i)e[o]=i[o];return e}),r.addFilter("summernoteMakePopover",function(e,t){if(void 0===i){var n=function(e){e=e.split(".");for(var t=window,n=0;t&&n<e.length;n++)t=t[e[n]];return t}("window.mbrAppCore.APP.theme.params.theme.settings");if(n)for(var r in i=!1,n){r=n[r];if(r&&"group"==r.type&&"rule"in r){i=!0;break}}}if(!i)for(var o=e.length;0<=o;o--)if(e[o]&&"mbrFonts"==e[o][0]){e[o][1]&&e[o][1].indexOf("mbrFonts")<0&&e[o][1].unshift("mbrFonts"),e[o][1]&&e[o][1].indexOf("mbrFontSize")<0&&e[o][1].unshift("mbrFontSize");break}return e}),r.addFilter("summernoteOptions",function(e,t){return i||(e.shortMode=!0),e.isSecondaryComponent=r.APP.isSecondaryComponent(t.closest("[data-app-component-id]").attr("data-app-component-id")),e})}}})},function(e,t){e.exports=CodeMirror}]);